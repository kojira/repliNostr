var vI=Object.defineProperty;var hv=e=>{throw TypeError(e)};var wI=(e,t,n)=>t in e?vI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var O=(e,t,n)=>wI(e,typeof t!="symbol"?t+"":t,n),vf=(e,t,n)=>t.has(e)||hv("Cannot "+n);var L=(e,t,n)=>(vf(e,t,"read from private field"),n?n.call(e):t.get(e)),fe=(e,t,n)=>t.has(e)?hv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ne=(e,t,n,r)=>(vf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),je=(e,t,n)=>(vf(e,t,"access private method"),n);var su=(e,t,n,r)=>({set _(o){ne(e,t,o,n)},get _(){return L(e,t,r)}});function bI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Om(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _S={exports:{}},pd={},CS={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ml=Symbol.for("react.element"),xI=Symbol.for("react.portal"),EI=Symbol.for("react.fragment"),SI=Symbol.for("react.strict_mode"),_I=Symbol.for("react.profiler"),CI=Symbol.for("react.provider"),NI=Symbol.for("react.context"),TI=Symbol.for("react.forward_ref"),kI=Symbol.for("react.suspense"),PI=Symbol.for("react.memo"),RI=Symbol.for("react.lazy"),pv=Symbol.iterator;function AI(e){return e===null||typeof e!="object"?null:(e=pv&&e[pv]||e["@@iterator"],typeof e=="function"?e:null)}var NS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TS=Object.assign,kS={};function Zi(e,t,n){this.props=e,this.context=t,this.refs=kS,this.updater=n||NS}Zi.prototype.isReactComponent={};Zi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function PS(){}PS.prototype=Zi.prototype;function Im(e,t,n){this.props=e,this.context=t,this.refs=kS,this.updater=n||NS}var Mm=Im.prototype=new PS;Mm.constructor=Im;TS(Mm,Zi.prototype);Mm.isPureReactComponent=!0;var mv=Array.isArray,RS=Object.prototype.hasOwnProperty,$m={current:null},AS={key:!0,ref:!0,__self:!0,__source:!0};function OS(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)RS.call(t,r)&&!AS.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Ml,type:e,key:s,ref:i,props:o,_owner:$m.current}}function OI(e,t){return{$$typeof:Ml,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ml}function II(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gv=/\/+/g;function wf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?II(""+e.key):t.toString(36)}function Bu(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ml:case xI:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+wf(i,0):r,mv(o)?(n="",e!=null&&(n=e.replace(gv,"$&/")+"/"),Bu(o,t,n,"",function(u){return u})):o!=null&&(Dm(o)&&(o=OI(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(gv,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",mv(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+wf(s,a);i+=Bu(s,t,n,l,o)}else if(l=AI(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+wf(s,a++),i+=Bu(s,t,n,l,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function au(e,t,n){if(e==null)return e;var r=[],o=0;return Bu(e,r,"","",function(s){return t.call(n,s,o++)}),r}function MI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var At={current:null},Uu={transition:null},$I={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:Uu,ReactCurrentOwner:$m};function IS(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:au,forEach:function(e,t,n){au(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return au(e,function(){t++}),t},toArray:function(e){return au(e,function(t){return t})||[]},only:function(e){if(!Dm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=Zi;ce.Fragment=EI;ce.Profiler=_I;ce.PureComponent=Im;ce.StrictMode=SI;ce.Suspense=kI;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$I;ce.act=IS;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=TS({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=$m.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)RS.call(t,l)&&!AS.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ml,type:e.type,key:o,ref:s,props:r,_owner:i}};ce.createContext=function(e){return e={$$typeof:NI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:CI,_context:e},e.Consumer=e};ce.createElement=OS;ce.createFactory=function(e){var t=OS.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:TI,render:e}};ce.isValidElement=Dm;ce.lazy=function(e){return{$$typeof:RI,_payload:{_status:-1,_result:e},_init:MI}};ce.memo=function(e,t){return{$$typeof:PI,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=Uu.transition;Uu.transition={};try{e()}finally{Uu.transition=t}};ce.unstable_act=IS;ce.useCallback=function(e,t){return At.current.useCallback(e,t)};ce.useContext=function(e){return At.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return At.current.useDeferredValue(e)};ce.useEffect=function(e,t){return At.current.useEffect(e,t)};ce.useId=function(){return At.current.useId()};ce.useImperativeHandle=function(e,t,n){return At.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return At.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return At.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return At.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return At.current.useReducer(e,t,n)};ce.useRef=function(e){return At.current.useRef(e)};ce.useState=function(e){return At.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return At.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return At.current.useTransition()};ce.version="18.3.1";CS.exports=ce;var g=CS.exports;const Zr=Om(g),MS=bI({__proto__:null,default:Zr},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DI=g,jI=Symbol.for("react.element"),LI=Symbol.for("react.fragment"),FI=Object.prototype.hasOwnProperty,BI=DI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UI={key:!0,ref:!0,__self:!0,__source:!0};function $S(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)FI.call(t,r)&&!UI.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:jI,type:e,key:s,ref:i,props:o,_owner:BI.current}}pd.Fragment=LI;pd.jsx=$S;pd.jsxs=$S;_S.exports=pd;var b=_S.exports,DS={exports:{}},en={},jS={exports:{}},LS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,R){var $=P.length;P.push(R);e:for(;0<$;){var F=$-1>>>1,U=P[F];if(0<o(U,R))P[F]=R,P[$]=U,$=F;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var R=P[0],$=P.pop();if($!==R){P[0]=$;e:for(var F=0,U=P.length,q=U>>>1;F<q;){var G=2*(F+1)-1,ye=P[G],de=G+1,J=P[de];if(0>o(ye,$))de<U&&0>o(J,ye)?(P[F]=J,P[de]=$,F=de):(P[F]=ye,P[G]=$,F=G);else if(de<U&&0>o(J,$))P[F]=J,P[de]=$,F=de;else break e}}return R}function o(P,R){var $=P.sortIndex-R.sortIndex;return $!==0?$:P.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],u=[],c=1,d=null,h=3,m=!1,y=!1,f=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=P)r(u),R.sortIndex=R.expirationTime,t(l,R);else break;R=n(u)}}function E(P){if(f=!1,x(P),!y)if(n(l)!==null)y=!0,k(_);else{var R=n(u);R!==null&&I(E,R.startTime-P)}}function _(P,R){y=!1,f&&(f=!1,p(N),N=-1),m=!0;var $=h;try{for(x(R),d=n(l);d!==null&&(!(d.expirationTime>R)||P&&!D());){var F=d.callback;if(typeof F=="function"){d.callback=null,h=d.priorityLevel;var U=F(d.expirationTime<=R);R=e.unstable_now(),typeof U=="function"?d.callback=U:d===n(l)&&r(l),x(R)}else r(l);d=n(l)}if(d!==null)var q=!0;else{var G=n(u);G!==null&&I(E,G.startTime-R),q=!1}return q}finally{d=null,h=$,m=!1}}var S=!1,C=null,N=-1,B=5,M=-1;function D(){return!(e.unstable_now()-M<B)}function j(){if(C!==null){var P=e.unstable_now();M=P;var R=!0;try{R=C(!0,P)}finally{R?V():(S=!1,C=null)}}else S=!1}var V;if(typeof v=="function")V=function(){v(j)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,T=A.port2;A.port1.onmessage=j,V=function(){T.postMessage(null)}}else V=function(){w(j,0)};function k(P){C=P,S||(S=!0,V())}function I(P,R){N=w(function(){P(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,k(_))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var $=h;h=R;try{return P()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,R){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var $=h;h=P;try{return R()}finally{h=$}},e.unstable_scheduleCallback=function(P,R,$){var F=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?F+$:F):$=F,P){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=$+U,P={id:c++,callback:R,priorityLevel:P,startTime:$,expirationTime:U,sortIndex:-1},$>F?(P.sortIndex=$,t(u,P),n(l)===null&&P===n(u)&&(f?(p(N),N=-1):f=!0,I(E,$-F))):(P.sortIndex=U,t(l,P),y||m||(y=!0,k(_))),P},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(P){var R=h;return function(){var $=h;h=R;try{return P.apply(this,arguments)}finally{h=$}}}})(LS);jS.exports=LS;var zI=jS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VI=g,Xt=zI;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FS=new Set,Wa={};function _s(e,t){_i(e,t),_i(e+"Capture",t)}function _i(e,t){for(Wa[e]=t,e=0;e<t.length;e++)FS.add(t[e])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wh=Object.prototype.hasOwnProperty,WI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yv={},vv={};function HI(e){return Wh.call(vv,e)?!0:Wh.call(yv,e)?!1:WI.test(e)?vv[e]=!0:(yv[e]=!0,!1)}function qI(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function KI(e,t,n,r){if(t===null||typeof t>"u"||qI(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ot(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new Ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new Ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new Ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new Ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new Ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new Ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new Ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new Ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new Ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var jm=/[\-:]([a-z])/g;function Lm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jm,Lm);ct[t]=new Ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jm,Lm);ct[t]=new Ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jm,Lm);ct[t]=new Ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new Ot(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new Ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fm(e,t,n,r){var o=ct.hasOwnProperty(t)?ct[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(KI(t,n,o,r)&&(n=null),r||o===null?HI(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Rr=VI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lu=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),Bm=Symbol.for("react.strict_mode"),Hh=Symbol.for("react.profiler"),BS=Symbol.for("react.provider"),US=Symbol.for("react.context"),Um=Symbol.for("react.forward_ref"),qh=Symbol.for("react.suspense"),Kh=Symbol.for("react.suspense_list"),zm=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),zS=Symbol.for("react.offscreen"),wv=Symbol.iterator;function aa(e){return e===null||typeof e!="object"?null:(e=wv&&e[wv]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,bf;function Ca(e){if(bf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);bf=t&&t[1]||""}return`
`+bf+e}var xf=!1;function Ef(e,t){if(!e||xf)return"";xf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{xf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ca(e):""}function ZI(e){switch(e.tag){case 5:return Ca(e.type);case 16:return Ca("Lazy");case 13:return Ca("Suspense");case 19:return Ca("SuspenseList");case 0:case 2:case 15:return e=Ef(e.type,!1),e;case 11:return e=Ef(e.type.render,!1),e;case 1:return e=Ef(e.type,!0),e;default:return""}}function Zh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bs:return"Fragment";case Fs:return"Portal";case Hh:return"Profiler";case Bm:return"StrictMode";case qh:return"Suspense";case Kh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case US:return(e.displayName||"Context")+".Consumer";case BS:return(e._context.displayName||"Context")+".Provider";case Um:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zm:return t=e.displayName||null,t!==null?t:Zh(e.type)||"Memo";case Xr:t=e._payload,e=e._init;try{return Zh(e(t))}catch{}}return null}function GI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zh(t);case 8:return t===Bm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Co(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function VS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function QI(e){var t=VS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uu(e){e._valueTracker||(e._valueTracker=QI(e))}function WS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=VS(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function sc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gh(e,t){var n=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Co(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function HS(e,t){t=t.checked,t!=null&&Fm(e,"checked",t,!1)}function Qh(e,t){HS(e,t);var n=Co(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Yh(e,t.type,Co(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Yh(e,t,n){(t!=="number"||sc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Na=Array.isArray;function Js(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Co(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Xh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ev(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(Na(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Co(n)}}function qS(e,t){var n=Co(t.value),r=Co(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function KS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?KS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cu,ZS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cu=cu||document.createElement("div"),cu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ha(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Oa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YI=["Webkit","ms","Moz","O"];Object.keys(Oa).forEach(function(e){YI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oa[t]=Oa[e]})});function GS(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Oa.hasOwnProperty(e)&&Oa[e]?(""+t).trim():t+"px"}function QS(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=GS(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var XI=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ep(e,t){if(t){if(XI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function tp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var np=null;function Vm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rp=null,ei=null,ti=null;function _v(e){if(e=jl(e)){if(typeof rp!="function")throw Error(W(280));var t=e.stateNode;t&&(t=wd(t),rp(e.stateNode,e.type,t))}}function YS(e){ei?ti?ti.push(e):ti=[e]:ei=e}function XS(){if(ei){var e=ei,t=ti;if(ti=ei=null,_v(e),t)for(e=0;e<t.length;e++)_v(t[e])}}function JS(e,t){return e(t)}function e2(){}var Sf=!1;function t2(e,t,n){if(Sf)return e(t,n);Sf=!0;try{return JS(e,t,n)}finally{Sf=!1,(ei!==null||ti!==null)&&(e2(),XS())}}function qa(e,t){var n=e.stateNode;if(n===null)return null;var r=wd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var op=!1;if(Er)try{var la={};Object.defineProperty(la,"passive",{get:function(){op=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{op=!1}function JI(e,t,n,r,o,s,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ia=!1,ic=null,ac=!1,sp=null,eM={onError:function(e){Ia=!0,ic=e}};function tM(e,t,n,r,o,s,i,a,l){Ia=!1,ic=null,JI.apply(eM,arguments)}function nM(e,t,n,r,o,s,i,a,l){if(tM.apply(this,arguments),Ia){if(Ia){var u=ic;Ia=!1,ic=null}else throw Error(W(198));ac||(ac=!0,sp=u)}}function Cs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function n2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cv(e){if(Cs(e)!==e)throw Error(W(188))}function rM(e){var t=e.alternate;if(!t){if(t=Cs(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Cv(o),e;if(s===r)return Cv(o),t;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function r2(e){return e=rM(e),e!==null?o2(e):null}function o2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=o2(e);if(t!==null)return t;e=e.sibling}return null}var s2=Xt.unstable_scheduleCallback,Nv=Xt.unstable_cancelCallback,oM=Xt.unstable_shouldYield,sM=Xt.unstable_requestPaint,Be=Xt.unstable_now,iM=Xt.unstable_getCurrentPriorityLevel,Wm=Xt.unstable_ImmediatePriority,i2=Xt.unstable_UserBlockingPriority,lc=Xt.unstable_NormalPriority,aM=Xt.unstable_LowPriority,a2=Xt.unstable_IdlePriority,md=null,qn=null;function lM(e){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(md,e,void 0,(e.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:dM,uM=Math.log,cM=Math.LN2;function dM(e){return e>>>=0,e===0?32:31-(uM(e)/cM|0)|0}var du=64,fu=4194304;function Ta(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=Ta(a):(s&=i,s!==0&&(r=Ta(s)))}else i=n&~o,i!==0?r=Ta(i):s!==0&&(r=Ta(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_n(t),o=1<<n,r|=e[n],t&=~o;return r}function fM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hM(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-_n(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=fM(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function ip(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function l2(){var e=du;return du<<=1,!(du&4194240)&&(du=64),e}function _f(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $l(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_n(t),e[t]=n}function pM(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-_n(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Hm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_n(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var we=0;function u2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var c2,qm,d2,f2,h2,ap=!1,hu=[],po=null,mo=null,go=null,Ka=new Map,Za=new Map,eo=[],mM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tv(e,t){switch(e){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":Ka.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Za.delete(t.pointerId)}}function ua(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=jl(t),t!==null&&qm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function gM(e,t,n,r,o){switch(t){case"focusin":return po=ua(po,e,t,n,r,o),!0;case"dragenter":return mo=ua(mo,e,t,n,r,o),!0;case"mouseover":return go=ua(go,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Ka.set(s,ua(Ka.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Za.set(s,ua(Za.get(s)||null,e,t,n,r,o)),!0}return!1}function p2(e){var t=Yo(e.target);if(t!==null){var n=Cs(t);if(n!==null){if(t=n.tag,t===13){if(t=n2(n),t!==null){e.blockedOn=t,h2(e.priority,function(){d2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=lp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);np=r,n.target.dispatchEvent(r),np=null}else return t=jl(n),t!==null&&qm(t),e.blockedOn=n,!1;t.shift()}return!0}function kv(e,t,n){zu(e)&&n.delete(t)}function yM(){ap=!1,po!==null&&zu(po)&&(po=null),mo!==null&&zu(mo)&&(mo=null),go!==null&&zu(go)&&(go=null),Ka.forEach(kv),Za.forEach(kv)}function ca(e,t){e.blockedOn===t&&(e.blockedOn=null,ap||(ap=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,yM)))}function Ga(e){function t(o){return ca(o,e)}if(0<hu.length){ca(hu[0],e);for(var n=1;n<hu.length;n++){var r=hu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(po!==null&&ca(po,e),mo!==null&&ca(mo,e),go!==null&&ca(go,e),Ka.forEach(t),Za.forEach(t),n=0;n<eo.length;n++)r=eo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<eo.length&&(n=eo[0],n.blockedOn===null);)p2(n),n.blockedOn===null&&eo.shift()}var ni=Rr.ReactCurrentBatchConfig,cc=!0;function vM(e,t,n,r){var o=we,s=ni.transition;ni.transition=null;try{we=1,Km(e,t,n,r)}finally{we=o,ni.transition=s}}function wM(e,t,n,r){var o=we,s=ni.transition;ni.transition=null;try{we=4,Km(e,t,n,r)}finally{we=o,ni.transition=s}}function Km(e,t,n,r){if(cc){var o=lp(e,t,n,r);if(o===null)Mf(e,t,r,dc,n),Tv(e,r);else if(gM(o,e,t,n,r))r.stopPropagation();else if(Tv(e,r),t&4&&-1<mM.indexOf(e)){for(;o!==null;){var s=jl(o);if(s!==null&&c2(s),s=lp(e,t,n,r),s===null&&Mf(e,t,r,dc,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Mf(e,t,r,null,n)}}var dc=null;function lp(e,t,n,r){if(dc=null,e=Vm(r),e=Yo(e),e!==null)if(t=Cs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=n2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dc=e,null}function m2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iM()){case Wm:return 1;case i2:return 4;case lc:case aM:return 16;case a2:return 536870912;default:return 16}default:return 16}}var co=null,Zm=null,Vu=null;function g2(){if(Vu)return Vu;var e,t=Zm,n=t.length,r,o="value"in co?co.value:co.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Vu=o.slice(e,1<r?1-r:void 0)}function Wu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pu(){return!0}function Pv(){return!1}function tn(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pu:Pv,this.isPropagationStopped=Pv,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),t}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gm=tn(Gi),Dl=Oe({},Gi,{view:0,detail:0}),bM=tn(Dl),Cf,Nf,da,gd=Oe({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==da&&(da&&e.type==="mousemove"?(Cf=e.screenX-da.screenX,Nf=e.screenY-da.screenY):Nf=Cf=0,da=e),Cf)},movementY:function(e){return"movementY"in e?e.movementY:Nf}}),Rv=tn(gd),xM=Oe({},gd,{dataTransfer:0}),EM=tn(xM),SM=Oe({},Dl,{relatedTarget:0}),Tf=tn(SM),_M=Oe({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),CM=tn(_M),NM=Oe({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TM=tn(NM),kM=Oe({},Gi,{data:0}),Av=tn(kM),PM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=AM[e])?!!t[e]:!1}function Qm(){return OM}var IM=Oe({},Dl,{key:function(e){if(e.key){var t=PM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qm,charCode:function(e){return e.type==="keypress"?Wu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),MM=tn(IM),$M=Oe({},gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ov=tn($M),DM=Oe({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qm}),jM=tn(DM),LM=Oe({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),FM=tn(LM),BM=Oe({},gd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UM=tn(BM),zM=[9,13,27,32],Ym=Er&&"CompositionEvent"in window,Ma=null;Er&&"documentMode"in document&&(Ma=document.documentMode);var VM=Er&&"TextEvent"in window&&!Ma,y2=Er&&(!Ym||Ma&&8<Ma&&11>=Ma),Iv=" ",Mv=!1;function v2(e,t){switch(e){case"keyup":return zM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Us=!1;function WM(e,t){switch(e){case"compositionend":return w2(t);case"keypress":return t.which!==32?null:(Mv=!0,Iv);case"textInput":return e=t.data,e===Iv&&Mv?null:e;default:return null}}function HM(e,t){if(Us)return e==="compositionend"||!Ym&&v2(e,t)?(e=g2(),Vu=Zm=co=null,Us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return y2&&t.locale!=="ko"?null:t.data;default:return null}}var qM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $v(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qM[e.type]:t==="textarea"}function b2(e,t,n,r){YS(r),t=fc(t,"onChange"),0<t.length&&(n=new Gm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $a=null,Qa=null;function KM(e){A2(e,0)}function yd(e){var t=Ws(e);if(WS(t))return e}function ZM(e,t){if(e==="change")return t}var x2=!1;if(Er){var kf;if(Er){var Pf="oninput"in document;if(!Pf){var Dv=document.createElement("div");Dv.setAttribute("oninput","return;"),Pf=typeof Dv.oninput=="function"}kf=Pf}else kf=!1;x2=kf&&(!document.documentMode||9<document.documentMode)}function jv(){$a&&($a.detachEvent("onpropertychange",E2),Qa=$a=null)}function E2(e){if(e.propertyName==="value"&&yd(Qa)){var t=[];b2(t,Qa,e,Vm(e)),t2(KM,t)}}function GM(e,t,n){e==="focusin"?(jv(),$a=t,Qa=n,$a.attachEvent("onpropertychange",E2)):e==="focusout"&&jv()}function QM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yd(Qa)}function YM(e,t){if(e==="click")return yd(t)}function XM(e,t){if(e==="input"||e==="change")return yd(t)}function JM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tn=typeof Object.is=="function"?Object.is:JM;function Ya(e,t){if(Tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Wh.call(t,o)||!Tn(e[o],t[o]))return!1}return!0}function Lv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fv(e,t){var n=Lv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lv(n)}}function S2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?S2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _2(){for(var e=window,t=sc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sc(e.document)}return t}function Xm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function e$(e){var t=_2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&S2(n.ownerDocument.documentElement,n)){if(r!==null&&Xm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Fv(n,s);var i=Fv(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var t$=Er&&"documentMode"in document&&11>=document.documentMode,zs=null,up=null,Da=null,cp=!1;function Bv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cp||zs==null||zs!==sc(r)||(r=zs,"selectionStart"in r&&Xm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Da&&Ya(Da,r)||(Da=r,r=fc(up,"onSelect"),0<r.length&&(t=new Gm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zs)))}function mu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vs={animationend:mu("Animation","AnimationEnd"),animationiteration:mu("Animation","AnimationIteration"),animationstart:mu("Animation","AnimationStart"),transitionend:mu("Transition","TransitionEnd")},Rf={},C2={};Er&&(C2=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function vd(e){if(Rf[e])return Rf[e];if(!Vs[e])return e;var t=Vs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in C2)return Rf[e]=t[n];return e}var N2=vd("animationend"),T2=vd("animationiteration"),k2=vd("animationstart"),P2=vd("transitionend"),R2=new Map,Uv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(e,t){R2.set(e,t),_s(t,[e])}for(var Af=0;Af<Uv.length;Af++){var Of=Uv[Af],n$=Of.toLowerCase(),r$=Of[0].toUpperCase()+Of.slice(1);jo(n$,"on"+r$)}jo(N2,"onAnimationEnd");jo(T2,"onAnimationIteration");jo(k2,"onAnimationStart");jo("dblclick","onDoubleClick");jo("focusin","onFocus");jo("focusout","onBlur");jo(P2,"onTransitionEnd");_i("onMouseEnter",["mouseout","mouseover"]);_i("onMouseLeave",["mouseout","mouseover"]);_i("onPointerEnter",["pointerout","pointerover"]);_i("onPointerLeave",["pointerout","pointerover"]);_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_s("onBeforeInput",["compositionend","keypress","textInput","paste"]);_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o$=new Set("cancel close invalid load scroll toggle".split(" ").concat(ka));function zv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nM(r,t,void 0,e),e.currentTarget=null}function A2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;zv(o,a,u),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;zv(o,a,u),s=l}}}if(ac)throw e=sp,ac=!1,sp=null,e}function _e(e,t){var n=t[mp];n===void 0&&(n=t[mp]=new Set);var r=e+"__bubble";n.has(r)||(O2(t,e,2,!1),n.add(r))}function If(e,t,n){var r=0;t&&(r|=4),O2(n,e,r,t)}var gu="_reactListening"+Math.random().toString(36).slice(2);function Xa(e){if(!e[gu]){e[gu]=!0,FS.forEach(function(n){n!=="selectionchange"&&(o$.has(n)||If(n,!1,e),If(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gu]||(t[gu]=!0,If("selectionchange",!1,t))}}function O2(e,t,n,r){switch(m2(t)){case 1:var o=vM;break;case 4:o=wM;break;default:o=Km}n=o.bind(null,t,n,e),o=void 0,!op||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Mf(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Yo(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}t2(function(){var u=s,c=Vm(n),d=[];e:{var h=R2.get(e);if(h!==void 0){var m=Gm,y=e;switch(e){case"keypress":if(Wu(n)===0)break e;case"keydown":case"keyup":m=MM;break;case"focusin":y="focus",m=Tf;break;case"focusout":y="blur",m=Tf;break;case"beforeblur":case"afterblur":m=Tf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Rv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=EM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=jM;break;case N2:case T2:case k2:m=CM;break;case P2:m=FM;break;case"scroll":m=bM;break;case"wheel":m=UM;break;case"copy":case"cut":case"paste":m=TM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ov}var f=(t&4)!==0,w=!f&&e==="scroll",p=f?h!==null?h+"Capture":null:h;f=[];for(var v=u,x;v!==null;){x=v;var E=x.stateNode;if(x.tag===5&&E!==null&&(x=E,p!==null&&(E=qa(v,p),E!=null&&f.push(Ja(v,E,x)))),w)break;v=v.return}0<f.length&&(h=new m(h,y,null,n,c),d.push({event:h,listeners:f}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==np&&(y=n.relatedTarget||n.fromElement)&&(Yo(y)||y[Sr]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Yo(y):null,y!==null&&(w=Cs(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(f=Rv,E="onMouseLeave",p="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(f=Ov,E="onPointerLeave",p="onPointerEnter",v="pointer"),w=m==null?h:Ws(m),x=y==null?h:Ws(y),h=new f(E,v+"leave",m,n,c),h.target=w,h.relatedTarget=x,E=null,Yo(c)===u&&(f=new f(p,v+"enter",y,n,c),f.target=x,f.relatedTarget=w,E=f),w=E,m&&y)t:{for(f=m,p=y,v=0,x=f;x;x=Ps(x))v++;for(x=0,E=p;E;E=Ps(E))x++;for(;0<v-x;)f=Ps(f),v--;for(;0<x-v;)p=Ps(p),x--;for(;v--;){if(f===p||p!==null&&f===p.alternate)break t;f=Ps(f),p=Ps(p)}f=null}else f=null;m!==null&&Vv(d,h,m,f,!1),y!==null&&w!==null&&Vv(d,w,y,f,!0)}}e:{if(h=u?Ws(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=ZM;else if($v(h))if(x2)_=XM;else{_=QM;var S=GM}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=YM);if(_&&(_=_(e,u))){b2(d,_,n,c);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Yh(h,"number",h.value)}switch(S=u?Ws(u):window,e){case"focusin":($v(S)||S.contentEditable==="true")&&(zs=S,up=u,Da=null);break;case"focusout":Da=up=zs=null;break;case"mousedown":cp=!0;break;case"contextmenu":case"mouseup":case"dragend":cp=!1,Bv(d,n,c);break;case"selectionchange":if(t$)break;case"keydown":case"keyup":Bv(d,n,c)}var C;if(Ym)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Us?v2(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(y2&&n.locale!=="ko"&&(Us||N!=="onCompositionStart"?N==="onCompositionEnd"&&Us&&(C=g2()):(co=c,Zm="value"in co?co.value:co.textContent,Us=!0)),S=fc(u,N),0<S.length&&(N=new Av(N,e,null,n,c),d.push({event:N,listeners:S}),C?N.data=C:(C=w2(n),C!==null&&(N.data=C)))),(C=VM?WM(e,n):HM(e,n))&&(u=fc(u,"onBeforeInput"),0<u.length&&(c=new Av("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}A2(d,t)})}function Ja(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fc(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=qa(e,n),s!=null&&r.unshift(Ja(e,s,o)),s=qa(e,t),s!=null&&r.push(Ja(e,s,o))),e=e.return}return r}function Ps(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vv(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,o?(l=qa(n,s),l!=null&&i.unshift(Ja(n,l,a))):o||(l=qa(n,s),l!=null&&i.push(Ja(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var s$=/\r\n?/g,i$=/\u0000|\uFFFD/g;function Wv(e){return(typeof e=="string"?e:""+e).replace(s$,`
`).replace(i$,"")}function yu(e,t,n){if(t=Wv(t),Wv(e)!==t&&n)throw Error(W(425))}function hc(){}var dp=null,fp=null;function hp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pp=typeof setTimeout=="function"?setTimeout:void 0,a$=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,l$=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv<"u"?function(e){return Hv.resolve(null).then(e).catch(u$)}:pp;function u$(e){setTimeout(function(){throw e})}function $f(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Ga(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ga(t)}function yo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qi=Math.random().toString(36).slice(2),Vn="__reactFiber$"+Qi,el="__reactProps$"+Qi,Sr="__reactContainer$"+Qi,mp="__reactEvents$"+Qi,c$="__reactListeners$"+Qi,d$="__reactHandles$"+Qi;function Yo(e){var t=e[Vn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sr]||n[Vn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qv(e);e!==null;){if(n=e[Vn])return n;e=qv(e)}return t}e=n,n=e.parentNode}return null}function jl(e){return e=e[Vn]||e[Sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ws(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function wd(e){return e[el]||null}var gp=[],Hs=-1;function Lo(e){return{current:e}}function Ce(e){0>Hs||(e.current=gp[Hs],gp[Hs]=null,Hs--)}function Ee(e,t){Hs++,gp[Hs]=e.current,e.current=t}var No={},Et=Lo(No),Ft=Lo(!1),us=No;function Ci(e,t){var n=e.type.contextTypes;if(!n)return No;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Bt(e){return e=e.childContextTypes,e!=null}function pc(){Ce(Ft),Ce(Et)}function Kv(e,t,n){if(Et.current!==No)throw Error(W(168));Ee(Et,t),Ee(Ft,n)}function I2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(W(108,GI(e)||"Unknown",o));return Oe({},n,r)}function mc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||No,us=Et.current,Ee(Et,e),Ee(Ft,Ft.current),!0}function Zv(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=I2(e,t,us),r.__reactInternalMemoizedMergedChildContext=e,Ce(Ft),Ce(Et),Ee(Et,e)):Ce(Ft),Ee(Ft,n)}var dr=null,bd=!1,Df=!1;function M2(e){dr===null?dr=[e]:dr.push(e)}function f$(e){bd=!0,M2(e)}function Fo(){if(!Df&&dr!==null){Df=!0;var e=0,t=we;try{var n=dr;for(we=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}dr=null,bd=!1}catch(o){throw dr!==null&&(dr=dr.slice(e+1)),s2(Wm,Fo),o}finally{we=t,Df=!1}}return null}var qs=[],Ks=0,gc=null,yc=0,un=[],cn=0,cs=null,gr=1,yr="";function Ho(e,t){qs[Ks++]=yc,qs[Ks++]=gc,gc=e,yc=t}function $2(e,t,n){un[cn++]=gr,un[cn++]=yr,un[cn++]=cs,cs=e;var r=gr;e=yr;var o=32-_n(r)-1;r&=~(1<<o),n+=1;var s=32-_n(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,gr=1<<32-_n(t)+o|n<<o|r,yr=s+e}else gr=1<<s|n<<o|r,yr=e}function Jm(e){e.return!==null&&(Ho(e,1),$2(e,1,0))}function eg(e){for(;e===gc;)gc=qs[--Ks],qs[Ks]=null,yc=qs[--Ks],qs[Ks]=null;for(;e===cs;)cs=un[--cn],un[cn]=null,yr=un[--cn],un[cn]=null,gr=un[--cn],un[cn]=null}var Gt=null,Zt=null,Te=!1,En=null;function D2(e,t){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gt=e,Zt=yo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gt=e,Zt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=cs!==null?{id:gr,overflow:yr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Gt=e,Zt=null,!0):!1;default:return!1}}function yp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vp(e){if(Te){var t=Zt;if(t){var n=t;if(!Gv(e,t)){if(yp(e))throw Error(W(418));t=yo(n.nextSibling);var r=Gt;t&&Gv(e,t)?D2(r,n):(e.flags=e.flags&-4097|2,Te=!1,Gt=e)}}else{if(yp(e))throw Error(W(418));e.flags=e.flags&-4097|2,Te=!1,Gt=e}}}function Qv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gt=e}function vu(e){if(e!==Gt)return!1;if(!Te)return Qv(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hp(e.type,e.memoizedProps)),t&&(t=Zt)){if(yp(e))throw j2(),Error(W(418));for(;t;)D2(e,t),t=yo(t.nextSibling)}if(Qv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Zt=yo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Zt=null}}else Zt=Gt?yo(e.stateNode.nextSibling):null;return!0}function j2(){for(var e=Zt;e;)e=yo(e.nextSibling)}function Ni(){Zt=Gt=null,Te=!1}function tg(e){En===null?En=[e]:En.push(e)}var h$=Rr.ReactCurrentBatchConfig;function fa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function wu(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yv(e){var t=e._init;return t(e._payload)}function L2(e){function t(p,v){if(e){var x=p.deletions;x===null?(p.deletions=[v],p.flags|=16):x.push(v)}}function n(p,v){if(!e)return null;for(;v!==null;)t(p,v),v=v.sibling;return null}function r(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function o(p,v){return p=xo(p,v),p.index=0,p.sibling=null,p}function s(p,v,x){return p.index=x,e?(x=p.alternate,x!==null?(x=x.index,x<v?(p.flags|=2,v):x):(p.flags|=2,v)):(p.flags|=1048576,v)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,v,x,E){return v===null||v.tag!==6?(v=Vf(x,p.mode,E),v.return=p,v):(v=o(v,x),v.return=p,v)}function l(p,v,x,E){var _=x.type;return _===Bs?c(p,v,x.props.children,E,x.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Xr&&Yv(_)===v.type)?(E=o(v,x.props),E.ref=fa(p,v,x),E.return=p,E):(E=Yu(x.type,x.key,x.props,null,p.mode,E),E.ref=fa(p,v,x),E.return=p,E)}function u(p,v,x,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Wf(x,p.mode,E),v.return=p,v):(v=o(v,x.children||[]),v.return=p,v)}function c(p,v,x,E,_){return v===null||v.tag!==7?(v=as(x,p.mode,E,_),v.return=p,v):(v=o(v,x),v.return=p,v)}function d(p,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Vf(""+v,p.mode,x),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case lu:return x=Yu(v.type,v.key,v.props,null,p.mode,x),x.ref=fa(p,null,v),x.return=p,x;case Fs:return v=Wf(v,p.mode,x),v.return=p,v;case Xr:var E=v._init;return d(p,E(v._payload),x)}if(Na(v)||aa(v))return v=as(v,p.mode,x,null),v.return=p,v;wu(p,v)}return null}function h(p,v,x,E){var _=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:a(p,v,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case lu:return x.key===_?l(p,v,x,E):null;case Fs:return x.key===_?u(p,v,x,E):null;case Xr:return _=x._init,h(p,v,_(x._payload),E)}if(Na(x)||aa(x))return _!==null?null:c(p,v,x,E,null);wu(p,x)}return null}function m(p,v,x,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(x)||null,a(v,p,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case lu:return p=p.get(E.key===null?x:E.key)||null,l(v,p,E,_);case Fs:return p=p.get(E.key===null?x:E.key)||null,u(v,p,E,_);case Xr:var S=E._init;return m(p,v,x,S(E._payload),_)}if(Na(E)||aa(E))return p=p.get(x)||null,c(v,p,E,_,null);wu(v,E)}return null}function y(p,v,x,E){for(var _=null,S=null,C=v,N=v=0,B=null;C!==null&&N<x.length;N++){C.index>N?(B=C,C=null):B=C.sibling;var M=h(p,C,x[N],E);if(M===null){C===null&&(C=B);break}e&&C&&M.alternate===null&&t(p,C),v=s(M,v,N),S===null?_=M:S.sibling=M,S=M,C=B}if(N===x.length)return n(p,C),Te&&Ho(p,N),_;if(C===null){for(;N<x.length;N++)C=d(p,x[N],E),C!==null&&(v=s(C,v,N),S===null?_=C:S.sibling=C,S=C);return Te&&Ho(p,N),_}for(C=r(p,C);N<x.length;N++)B=m(C,p,N,x[N],E),B!==null&&(e&&B.alternate!==null&&C.delete(B.key===null?N:B.key),v=s(B,v,N),S===null?_=B:S.sibling=B,S=B);return e&&C.forEach(function(D){return t(p,D)}),Te&&Ho(p,N),_}function f(p,v,x,E){var _=aa(x);if(typeof _!="function")throw Error(W(150));if(x=_.call(x),x==null)throw Error(W(151));for(var S=_=null,C=v,N=v=0,B=null,M=x.next();C!==null&&!M.done;N++,M=x.next()){C.index>N?(B=C,C=null):B=C.sibling;var D=h(p,C,M.value,E);if(D===null){C===null&&(C=B);break}e&&C&&D.alternate===null&&t(p,C),v=s(D,v,N),S===null?_=D:S.sibling=D,S=D,C=B}if(M.done)return n(p,C),Te&&Ho(p,N),_;if(C===null){for(;!M.done;N++,M=x.next())M=d(p,M.value,E),M!==null&&(v=s(M,v,N),S===null?_=M:S.sibling=M,S=M);return Te&&Ho(p,N),_}for(C=r(p,C);!M.done;N++,M=x.next())M=m(C,p,N,M.value,E),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?N:M.key),v=s(M,v,N),S===null?_=M:S.sibling=M,S=M);return e&&C.forEach(function(j){return t(p,j)}),Te&&Ho(p,N),_}function w(p,v,x,E){if(typeof x=="object"&&x!==null&&x.type===Bs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case lu:e:{for(var _=x.key,S=v;S!==null;){if(S.key===_){if(_=x.type,_===Bs){if(S.tag===7){n(p,S.sibling),v=o(S,x.props.children),v.return=p,p=v;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Xr&&Yv(_)===S.type){n(p,S.sibling),v=o(S,x.props),v.ref=fa(p,S,x),v.return=p,p=v;break e}n(p,S);break}else t(p,S);S=S.sibling}x.type===Bs?(v=as(x.props.children,p.mode,E,x.key),v.return=p,p=v):(E=Yu(x.type,x.key,x.props,null,p.mode,E),E.ref=fa(p,v,x),E.return=p,p=E)}return i(p);case Fs:e:{for(S=x.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(p,v.sibling),v=o(v,x.children||[]),v.return=p,p=v;break e}else{n(p,v);break}else t(p,v);v=v.sibling}v=Wf(x,p.mode,E),v.return=p,p=v}return i(p);case Xr:return S=x._init,w(p,v,S(x._payload),E)}if(Na(x))return y(p,v,x,E);if(aa(x))return f(p,v,x,E);wu(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(p,v.sibling),v=o(v,x),v.return=p,p=v):(n(p,v),v=Vf(x,p.mode,E),v.return=p,p=v),i(p)):n(p,v)}return w}var Ti=L2(!0),F2=L2(!1),vc=Lo(null),wc=null,Zs=null,ng=null;function rg(){ng=Zs=wc=null}function og(e){var t=vc.current;Ce(vc),e._currentValue=t}function wp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ri(e,t){wc=e,ng=Zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lt=!0),e.firstContext=null)}function mn(e){var t=e._currentValue;if(ng!==e)if(e={context:e,memoizedValue:t,next:null},Zs===null){if(wc===null)throw Error(W(308));Zs=e,wc.dependencies={lanes:0,firstContext:e}}else Zs=Zs.next=e;return t}var Xo=null;function sg(e){Xo===null?Xo=[e]:Xo.push(e)}function B2(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,sg(t)):(n.next=o.next,o.next=n),t.interleaved=n,_r(e,r)}function _r(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jr=!1;function ig(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function br(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,_r(e,n)}return o=r.interleaved,o===null?(t.next=t,sg(r)):(t.next=o.next,o.next=t),r.interleaved=t,_r(e,n)}function Hu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hm(e,n)}}function Xv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bc(e,t,n,r){var o=e.updateQueue;Jr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?s=u:i.next=u,i=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==i&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=o.baseState;i=0,c=u=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,f=a;switch(h=t,m=n,f.tag){case 1:if(y=f.payload,typeof y=="function"){d=y.call(m,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=f.payload,h=typeof y=="function"?y.call(m,d,h):y,h==null)break e;d=Oe({},d,h);break e;case 2:Jr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,i|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(c===null&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);fs|=i,e.lanes=i,e.memoizedState=d}}function Jv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(W(191,o));o.call(r)}}}var Ll={},Kn=Lo(Ll),tl=Lo(Ll),nl=Lo(Ll);function Jo(e){if(e===Ll)throw Error(W(174));return e}function ag(e,t){switch(Ee(nl,t),Ee(tl,e),Ee(Kn,Ll),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jh(t,e)}Ce(Kn),Ee(Kn,t)}function ki(){Ce(Kn),Ce(tl),Ce(nl)}function z2(e){Jo(nl.current);var t=Jo(Kn.current),n=Jh(t,e.type);t!==n&&(Ee(tl,e),Ee(Kn,n))}function lg(e){tl.current===e&&(Ce(Kn),Ce(tl))}var Re=Lo(0);function xc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jf=[];function ug(){for(var e=0;e<jf.length;e++)jf[e]._workInProgressVersionPrimary=null;jf.length=0}var qu=Rr.ReactCurrentDispatcher,Lf=Rr.ReactCurrentBatchConfig,ds=0,Ae=null,Ke=null,Xe=null,Ec=!1,ja=!1,rl=0,p$=0;function pt(){throw Error(W(321))}function cg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tn(e[n],t[n]))return!1;return!0}function dg(e,t,n,r,o,s){if(ds=s,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qu.current=e===null||e.memoizedState===null?v$:w$,e=n(r,o),ja){s=0;do{if(ja=!1,rl=0,25<=s)throw Error(W(301));s+=1,Xe=Ke=null,t.updateQueue=null,qu.current=b$,e=n(r,o)}while(ja)}if(qu.current=Sc,t=Ke!==null&&Ke.next!==null,ds=0,Xe=Ke=Ae=null,Ec=!1,t)throw Error(W(300));return e}function fg(){var e=rl!==0;return rl=0,e}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Ae.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function gn(){if(Ke===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Xe===null?Ae.memoizedState:Xe.next;if(t!==null)Xe=t,Ke=e;else{if(e===null)throw Error(W(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Xe===null?Ae.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function ol(e,t){return typeof t=="function"?t(e):t}function Ff(e){var t=gn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=Ke,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,u=s;do{var c=u.lane;if((ds&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,i=r):l=l.next=d,Ae.lanes|=c,fs|=c}u=u.next}while(u!==null&&u!==s);l===null?i=r:l.next=a,Tn(r,t.memoizedState)||(Lt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,Ae.lanes|=s,fs|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bf(e){var t=gn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);Tn(s,t.memoizedState)||(Lt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function V2(){}function W2(e,t){var n=Ae,r=gn(),o=t(),s=!Tn(r.memoizedState,o);if(s&&(r.memoizedState=o,Lt=!0),r=r.queue,hg(K2.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,sl(9,q2.bind(null,n,r,o,t),void 0,null),tt===null)throw Error(W(349));ds&30||H2(n,t,o)}return o}function H2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function q2(e,t,n,r){t.value=n,t.getSnapshot=r,Z2(t)&&G2(e)}function K2(e,t,n){return n(function(){Z2(t)&&G2(e)})}function Z2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tn(e,n)}catch{return!0}}function G2(e){var t=_r(e,1);t!==null&&Cn(t,e,1,-1)}function ew(e){var t=Fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:e},t.queue=e,e=e.dispatch=y$.bind(null,Ae,e),[t.memoizedState,e]}function sl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Q2(){return gn().memoizedState}function Ku(e,t,n,r){var o=Fn();Ae.flags|=e,o.memoizedState=sl(1|t,n,void 0,r===void 0?null:r)}function xd(e,t,n,r){var o=gn();r=r===void 0?null:r;var s=void 0;if(Ke!==null){var i=Ke.memoizedState;if(s=i.destroy,r!==null&&cg(r,i.deps)){o.memoizedState=sl(t,n,s,r);return}}Ae.flags|=e,o.memoizedState=sl(1|t,n,s,r)}function tw(e,t){return Ku(8390656,8,e,t)}function hg(e,t){return xd(2048,8,e,t)}function Y2(e,t){return xd(4,2,e,t)}function X2(e,t){return xd(4,4,e,t)}function J2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function e_(e,t,n){return n=n!=null?n.concat([e]):null,xd(4,4,J2.bind(null,t,e),n)}function pg(){}function t_(e,t){var n=gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function n_(e,t){var n=gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function r_(e,t,n){return ds&21?(Tn(n,t)||(n=l2(),Ae.lanes|=n,fs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lt=!0),e.memoizedState=n)}function m$(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var r=Lf.transition;Lf.transition={};try{e(!1),t()}finally{we=n,Lf.transition=r}}function o_(){return gn().memoizedState}function g$(e,t,n){var r=bo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},s_(e))i_(t,n);else if(n=B2(e,t,n,r),n!==null){var o=Pt();Cn(n,e,r,o),a_(n,t,r)}}function y$(e,t,n){var r=bo(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(s_(e))i_(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,Tn(a,i)){var l=t.interleaved;l===null?(o.next=o,sg(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=B2(e,t,o,r),n!==null&&(o=Pt(),Cn(n,e,r,o),a_(n,t,r))}}function s_(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function i_(e,t){ja=Ec=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function a_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hm(e,n)}}var Sc={readContext:mn,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},v$={readContext:mn,useCallback:function(e,t){return Fn().memoizedState=[e,t===void 0?null:t],e},useContext:mn,useEffect:tw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ku(4194308,4,J2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ku(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ku(4,2,e,t)},useMemo:function(e,t){var n=Fn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Fn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=g$.bind(null,Ae,e),[r.memoizedState,e]},useRef:function(e){var t=Fn();return e={current:e},t.memoizedState=e},useState:ew,useDebugValue:pg,useDeferredValue:function(e){return Fn().memoizedState=e},useTransition:function(){var e=ew(!1),t=e[0];return e=m$.bind(null,e[1]),Fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ae,o=Fn();if(Te){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),tt===null)throw Error(W(349));ds&30||H2(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,tw(K2.bind(null,r,s,e),[e]),r.flags|=2048,sl(9,q2.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Fn(),t=tt.identifierPrefix;if(Te){var n=yr,r=gr;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=rl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=p$++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},w$={readContext:mn,useCallback:t_,useContext:mn,useEffect:hg,useImperativeHandle:e_,useInsertionEffect:Y2,useLayoutEffect:X2,useMemo:n_,useReducer:Ff,useRef:Q2,useState:function(){return Ff(ol)},useDebugValue:pg,useDeferredValue:function(e){var t=gn();return r_(t,Ke.memoizedState,e)},useTransition:function(){var e=Ff(ol)[0],t=gn().memoizedState;return[e,t]},useMutableSource:V2,useSyncExternalStore:W2,useId:o_,unstable_isNewReconciler:!1},b$={readContext:mn,useCallback:t_,useContext:mn,useEffect:hg,useImperativeHandle:e_,useInsertionEffect:Y2,useLayoutEffect:X2,useMemo:n_,useReducer:Bf,useRef:Q2,useState:function(){return Bf(ol)},useDebugValue:pg,useDeferredValue:function(e){var t=gn();return Ke===null?t.memoizedState=e:r_(t,Ke.memoizedState,e)},useTransition:function(){var e=Bf(ol)[0],t=gn().memoizedState;return[e,t]},useMutableSource:V2,useSyncExternalStore:W2,useId:o_,unstable_isNewReconciler:!1};function vn(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function bp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ed={isMounted:function(e){return(e=e._reactInternals)?Cs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pt(),o=bo(e),s=br(r,o);s.payload=t,n!=null&&(s.callback=n),t=vo(e,s,o),t!==null&&(Cn(t,e,o,r),Hu(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pt(),o=bo(e),s=br(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=vo(e,s,o),t!==null&&(Cn(t,e,o,r),Hu(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pt(),r=bo(e),o=br(n,r);o.tag=2,t!=null&&(o.callback=t),t=vo(e,o,r),t!==null&&(Cn(t,e,r,n),Hu(t,e,r))}};function nw(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Ya(n,r)||!Ya(o,s):!0}function l_(e,t,n){var r=!1,o=No,s=t.contextType;return typeof s=="object"&&s!==null?s=mn(s):(o=Bt(t)?us:Et.current,r=t.contextTypes,s=(r=r!=null)?Ci(e,o):No),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ed,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function rw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ed.enqueueReplaceState(t,t.state,null)}function xp(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},ig(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=mn(s):(s=Bt(t)?us:Et.current,o.context=Ci(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(bp(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Ed.enqueueReplaceState(o,o.state,null),bc(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Pi(e,t){try{var n="",r=t;do n+=ZI(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Uf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ep(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var x$=typeof WeakMap=="function"?WeakMap:Map;function u_(e,t,n){n=br(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Cc||(Cc=!0,Op=r),Ep(e,t)},n}function c_(e,t,n){n=br(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ep(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ep(e,t),typeof r!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function ow(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new x$;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=$$.bind(null,e,t,n),t.then(e,e))}function sw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iw(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=br(-1,1),t.tag=2,vo(n,t,1))),n.lanes|=1),e)}var E$=Rr.ReactCurrentOwner,Lt=!1;function Nt(e,t,n,r){t.child=e===null?F2(t,null,n,r):Ti(t,e.child,n,r)}function aw(e,t,n,r,o){n=n.render;var s=t.ref;return ri(t,o),r=dg(e,t,n,r,s,o),n=fg(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Cr(e,t,o)):(Te&&n&&Jm(t),t.flags|=1,Nt(e,t,r,o),t.child)}function lw(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Eg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,d_(e,t,s,r,o)):(e=Yu(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ya,n(i,r)&&e.ref===t.ref)return Cr(e,t,o)}return t.flags|=1,e=xo(s,r),e.ref=t.ref,e.return=t,t.child=e}function d_(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Ya(s,r)&&e.ref===t.ref)if(Lt=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(Lt=!0);else return t.lanes=e.lanes,Cr(e,t,o)}return Sp(e,t,n,r,o)}function f_(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Qs,qt),qt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(Qs,qt),qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ee(Qs,qt),qt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ee(Qs,qt),qt|=r;return Nt(e,t,o,n),t.child}function h_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sp(e,t,n,r,o){var s=Bt(n)?us:Et.current;return s=Ci(t,s),ri(t,o),n=dg(e,t,n,r,s,o),r=fg(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Cr(e,t,o)):(Te&&r&&Jm(t),t.flags|=1,Nt(e,t,n,o),t.child)}function uw(e,t,n,r,o){if(Bt(n)){var s=!0;mc(t)}else s=!1;if(ri(t,o),t.stateNode===null)Zu(e,t),l_(t,n,r),xp(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=mn(u):(u=Bt(n)?us:Et.current,u=Ci(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&rw(t,i,r,u),Jr=!1;var h=t.memoizedState;i.state=h,bc(t,r,i,o),l=t.memoizedState,a!==r||h!==l||Ft.current||Jr?(typeof c=="function"&&(bp(t,n,c,r),l=t.memoizedState),(a=Jr||nw(t,n,a,r,h,l,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,U2(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:vn(t.type,a),i.props=u,d=t.pendingProps,h=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=mn(l):(l=Bt(n)?us:Et.current,l=Ci(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||h!==l)&&rw(t,i,r,l),Jr=!1,h=t.memoizedState,i.state=h,bc(t,r,i,o);var y=t.memoizedState;a!==d||h!==y||Ft.current||Jr?(typeof m=="function"&&(bp(t,n,m,r),y=t.memoizedState),(u=Jr||nw(t,n,u,r,h,y,l)||!1)?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return _p(e,t,n,r,s,o)}function _p(e,t,n,r,o,s){h_(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Zv(t,n,!1),Cr(e,t,s);r=t.stateNode,E$.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Ti(t,e.child,null,s),t.child=Ti(t,null,a,s)):Nt(e,t,a,s),t.memoizedState=r.state,o&&Zv(t,n,!0),t.child}function p_(e){var t=e.stateNode;t.pendingContext?Kv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Kv(e,t.context,!1),ag(e,t.containerInfo)}function cw(e,t,n,r,o){return Ni(),tg(o),t.flags|=256,Nt(e,t,n,r),t.child}var Cp={dehydrated:null,treeContext:null,retryLane:0};function Np(e){return{baseLanes:e,cachePool:null,transitions:null}}function m_(e,t,n){var r=t.pendingProps,o=Re.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ee(Re,o&1),e===null)return vp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Cd(i,r,0,null),e=as(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Np(n),t.memoizedState=Cp,e):mg(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return S$(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=xo(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=xo(a,s):(s=as(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Np(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Cp,r}return s=e.child,e=s.sibling,r=xo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function mg(e,t){return t=Cd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bu(e,t,n,r){return r!==null&&tg(r),Ti(t,e.child,null,n),e=mg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function S$(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Uf(Error(W(422))),bu(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Cd({mode:"visible",children:r.children},o,0,null),s=as(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ti(t,e.child,null,i),t.child.memoizedState=Np(i),t.memoizedState=Cp,s);if(!(t.mode&1))return bu(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=Uf(s,r,void 0),bu(e,t,i,r)}if(a=(i&e.childLanes)!==0,Lt||a){if(r=tt,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,_r(e,o),Cn(r,e,o,-1))}return xg(),r=Uf(Error(W(421))),bu(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=D$.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Zt=yo(o.nextSibling),Gt=t,Te=!0,En=null,e!==null&&(un[cn++]=gr,un[cn++]=yr,un[cn++]=cs,gr=e.id,yr=e.overflow,cs=t),t=mg(t,r.children),t.flags|=4096,t)}function dw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wp(e.return,t,n)}function zf(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function g_(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Nt(e,t,r.children,n),r=Re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dw(e,n,t);else if(e.tag===19)dw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ee(Re,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&xc(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),zf(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&xc(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}zf(t,!0,n,null,s);break;case"together":zf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=xo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _$(e,t,n){switch(t.tag){case 3:p_(t),Ni();break;case 5:z2(t);break;case 1:Bt(t.type)&&mc(t);break;case 4:ag(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ee(vc,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ee(Re,Re.current&1),t.flags|=128,null):n&t.child.childLanes?m_(e,t,n):(Ee(Re,Re.current&1),e=Cr(e,t,n),e!==null?e.sibling:null);Ee(Re,Re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return g_(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ee(Re,Re.current),r)break;return null;case 22:case 23:return t.lanes=0,f_(e,t,n)}return Cr(e,t,n)}var y_,Tp,v_,w_;y_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tp=function(){};v_=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Jo(Kn.current);var s=null;switch(n){case"input":o=Gh(e,o),r=Gh(e,r),s=[];break;case"select":o=Oe({},o,{value:void 0}),r=Oe({},r,{value:void 0}),s=[];break;case"textarea":o=Xh(e,o),r=Xh(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=hc)}ep(n,r);var i;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wa.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&_e("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};w_=function(e,t,n,r){n!==r&&(t.flags|=4)};function ha(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function C$(e,t,n){var r=t.pendingProps;switch(eg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(t),null;case 1:return Bt(t.type)&&pc(),mt(t),null;case 3:return r=t.stateNode,ki(),Ce(Ft),Ce(Et),ug(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,En!==null&&($p(En),En=null))),Tp(e,t),mt(t),null;case 5:lg(t);var o=Jo(nl.current);if(n=t.type,e!==null&&t.stateNode!=null)v_(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return mt(t),null}if(e=Jo(Kn.current),vu(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Vn]=t,r[el]=s,e=(t.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(o=0;o<ka.length;o++)_e(ka[o],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":bv(r,s),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},_e("invalid",r);break;case"textarea":Ev(r,s),_e("invalid",r)}ep(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&yu(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&yu(r.textContent,a,e),o=["children",""+a]):Wa.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&_e("scroll",r)}switch(n){case"input":uu(r),xv(r,s,!0);break;case"textarea":uu(r),Sv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hc)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=KS(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Vn]=t,e[el]=r,y_(e,t,!1,!1),t.stateNode=e;e:{switch(i=tp(n,r),n){case"dialog":_e("cancel",e),_e("close",e),o=r;break;case"iframe":case"object":case"embed":_e("load",e),o=r;break;case"video":case"audio":for(o=0;o<ka.length;o++)_e(ka[o],e);o=r;break;case"source":_e("error",e),o=r;break;case"img":case"image":case"link":_e("error",e),_e("load",e),o=r;break;case"details":_e("toggle",e),o=r;break;case"input":bv(e,r),o=Gh(e,r),_e("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Oe({},r,{value:void 0}),_e("invalid",e);break;case"textarea":Ev(e,r),o=Xh(e,r),_e("invalid",e);break;default:o=r}ep(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?QS(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZS(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ha(e,l):typeof l=="number"&&Ha(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&_e("scroll",e):l!=null&&Fm(e,s,l,i))}switch(n){case"input":uu(e),xv(e,r,!1);break;case"textarea":uu(e),Sv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Co(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Js(e,!!r.multiple,s,!1):r.defaultValue!=null&&Js(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=hc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mt(t),null;case 6:if(e&&t.stateNode!=null)w_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=Jo(nl.current),Jo(Kn.current),vu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Vn]=t,(s=r.nodeValue!==n)&&(e=Gt,e!==null))switch(e.tag){case 3:yu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yu(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vn]=t,t.stateNode=r}return mt(t),null;case 13:if(Ce(Re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&Zt!==null&&t.mode&1&&!(t.flags&128))j2(),Ni(),t.flags|=98560,s=!1;else if(s=vu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(W(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Vn]=t}else Ni(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mt(t),s=!1}else En!==null&&($p(En),En=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?Ze===0&&(Ze=3):xg())),t.updateQueue!==null&&(t.flags|=4),mt(t),null);case 4:return ki(),Tp(e,t),e===null&&Xa(t.stateNode.containerInfo),mt(t),null;case 10:return og(t.type._context),mt(t),null;case 17:return Bt(t.type)&&pc(),mt(t),null;case 19:if(Ce(Re),s=t.memoizedState,s===null)return mt(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)ha(s,!1);else{if(Ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=xc(e),i!==null){for(t.flags|=128,ha(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ee(Re,Re.current&1|2),t.child}e=e.sibling}s.tail!==null&&Be()>Ri&&(t.flags|=128,r=!0,ha(s,!1),t.lanes=4194304)}else{if(!r)if(e=xc(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ha(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Te)return mt(t),null}else 2*Be()-s.renderingStartTime>Ri&&n!==1073741824&&(t.flags|=128,r=!0,ha(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Be(),t.sibling=null,n=Re.current,Ee(Re,r?n&1|2:n&1),t):(mt(t),null);case 22:case 23:return bg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qt&1073741824&&(mt(t),t.subtreeFlags&6&&(t.flags|=8192)):mt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function N$(e,t){switch(eg(t),t.tag){case 1:return Bt(t.type)&&pc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ki(),Ce(Ft),Ce(Et),ug(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lg(t),null;case 13:if(Ce(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Re),null;case 4:return ki(),null;case 10:return og(t.type._context),null;case 22:case 23:return bg(),null;case 24:return null;default:return null}}var xu=!1,wt=!1,T$=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Gs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(e,t,r)}else n.current=null}function kp(e,t,n){try{n()}catch(r){Me(e,t,r)}}var fw=!1;function k$(e,t){if(dp=cc,e=_2(),Xm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var m;d!==n||o!==0&&d.nodeType!==3||(a=i+o),d!==s||r!==0&&d.nodeType!==3||(l=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===n&&++u===o&&(a=i),h===s&&++c===r&&(l=i),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(fp={focusedElem:e,selectionRange:n},cc=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var f=y.memoizedProps,w=y.memoizedState,p=t.stateNode,v=p.getSnapshotBeforeUpdate(t.elementType===t.type?f:vn(t.type,f),w);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(E){Me(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return y=fw,fw=!1,y}function La(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&kp(t,n,s)}o=o.next}while(o!==r)}}function Sd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Pp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function b_(e){var t=e.alternate;t!==null&&(e.alternate=null,b_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vn],delete t[el],delete t[mp],delete t[c$],delete t[d$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function x_(e){return e.tag===5||e.tag===3||e.tag===4}function hw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||x_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hc));else if(r!==4&&(e=e.child,e!==null))for(Rp(e,t,n),e=e.sibling;e!==null;)Rp(e,t,n),e=e.sibling}function Ap(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ap(e,t,n),e=e.sibling;e!==null;)Ap(e,t,n),e=e.sibling}var rt=null,xn=!1;function jr(e,t,n){for(n=n.child;n!==null;)E_(e,t,n),n=n.sibling}function E_(e,t,n){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(md,n)}catch{}switch(n.tag){case 5:wt||Gs(n,t);case 6:var r=rt,o=xn;rt=null,jr(e,t,n),rt=r,xn=o,rt!==null&&(xn?(e=rt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(xn?(e=rt,n=n.stateNode,e.nodeType===8?$f(e.parentNode,n):e.nodeType===1&&$f(e,n),Ga(e)):$f(rt,n.stateNode));break;case 4:r=rt,o=xn,rt=n.stateNode.containerInfo,xn=!0,jr(e,t,n),rt=r,xn=o;break;case 0:case 11:case 14:case 15:if(!wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&kp(n,t,i),o=o.next}while(o!==r)}jr(e,t,n);break;case 1:if(!wt&&(Gs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Me(n,t,a)}jr(e,t,n);break;case 21:jr(e,t,n);break;case 22:n.mode&1?(wt=(r=wt)||n.memoizedState!==null,jr(e,t,n),wt=r):jr(e,t,n);break;default:jr(e,t,n)}}function pw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new T$),t.forEach(function(r){var o=j$.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function yn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:rt=a.stateNode,xn=!1;break e;case 3:rt=a.stateNode.containerInfo,xn=!0;break e;case 4:rt=a.stateNode.containerInfo,xn=!0;break e}a=a.return}if(rt===null)throw Error(W(160));E_(s,i,o),rt=null,xn=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){Me(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S_(t,e),t=t.sibling}function S_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yn(t,e),$n(e),r&4){try{La(3,e,e.return),Sd(3,e)}catch(f){Me(e,e.return,f)}try{La(5,e,e.return)}catch(f){Me(e,e.return,f)}}break;case 1:yn(t,e),$n(e),r&512&&n!==null&&Gs(n,n.return);break;case 5:if(yn(t,e),$n(e),r&512&&n!==null&&Gs(n,n.return),e.flags&32){var o=e.stateNode;try{Ha(o,"")}catch(f){Me(e,e.return,f)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&HS(o,s),tp(a,i);var u=tp(a,s);for(i=0;i<l.length;i+=2){var c=l[i],d=l[i+1];c==="style"?QS(o,d):c==="dangerouslySetInnerHTML"?ZS(o,d):c==="children"?Ha(o,d):Fm(o,c,d,u)}switch(a){case"input":Qh(o,s);break;case"textarea":qS(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Js(o,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Js(o,!!s.multiple,s.defaultValue,!0):Js(o,!!s.multiple,s.multiple?[]:"",!1))}o[el]=s}catch(f){Me(e,e.return,f)}}break;case 6:if(yn(t,e),$n(e),r&4){if(e.stateNode===null)throw Error(W(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(f){Me(e,e.return,f)}}break;case 3:if(yn(t,e),$n(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ga(t.containerInfo)}catch(f){Me(e,e.return,f)}break;case 4:yn(t,e),$n(e);break;case 13:yn(t,e),$n(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(vg=Be())),r&4&&pw(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(wt=(u=wt)||c,yn(t,e),wt=u):yn(t,e),$n(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Q=e,c=e.child;c!==null;){for(d=Q=c;Q!==null;){switch(h=Q,m=h.child,h.tag){case 0:case 11:case 14:case 15:La(4,h,h.return);break;case 1:Gs(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(f){Me(r,n,f)}}break;case 5:Gs(h,h.return);break;case 22:if(h.memoizedState!==null){gw(d);continue}}m!==null?(m.return=h,Q=m):gw(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=GS("display",i))}catch(f){Me(e,e.return,f)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(f){Me(e,e.return,f)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yn(t,e),$n(e),r&4&&pw(e);break;case 21:break;default:yn(t,e),$n(e)}}function $n(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(x_(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ha(o,""),r.flags&=-33);var s=hw(e);Ap(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=hw(e);Rp(e,a,i);break;default:throw Error(W(161))}}catch(l){Me(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function P$(e,t,n){Q=e,__(e)}function __(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var o=Q,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||xu;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||wt;a=xu;var u=wt;if(xu=i,(wt=l)&&!u)for(Q=o;Q!==null;)i=Q,l=i.child,i.tag===22&&i.memoizedState!==null?yw(o):l!==null?(l.return=i,Q=l):yw(o);for(;s!==null;)Q=s,__(s),s=s.sibling;Q=o,xu=a,wt=u}mw(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,Q=s):mw(e)}}function mw(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:wt||Sd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!wt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:vn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Jv(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jv(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ga(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}wt||t.flags&512&&Pp(t)}catch(h){Me(t,t.return,h)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function gw(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function yw(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Sd(4,t)}catch(l){Me(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){Me(t,o,l)}}var s=t.return;try{Pp(t)}catch(l){Me(t,s,l)}break;case 5:var i=t.return;try{Pp(t)}catch(l){Me(t,i,l)}}}catch(l){Me(t,t.return,l)}if(t===e){Q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Q=a;break}Q=t.return}}var R$=Math.ceil,_c=Rr.ReactCurrentDispatcher,gg=Rr.ReactCurrentOwner,hn=Rr.ReactCurrentBatchConfig,me=0,tt=null,He=null,ut=0,qt=0,Qs=Lo(0),Ze=0,il=null,fs=0,_d=0,yg=0,Fa=null,jt=null,vg=0,Ri=1/0,ur=null,Cc=!1,Op=null,wo=null,Eu=!1,fo=null,Nc=0,Ba=0,Ip=null,Gu=-1,Qu=0;function Pt(){return me&6?Be():Gu!==-1?Gu:Gu=Be()}function bo(e){return e.mode&1?me&2&&ut!==0?ut&-ut:h$.transition!==null?(Qu===0&&(Qu=l2()),Qu):(e=we,e!==0||(e=window.event,e=e===void 0?16:m2(e.type)),e):1}function Cn(e,t,n,r){if(50<Ba)throw Ba=0,Ip=null,Error(W(185));$l(e,n,r),(!(me&2)||e!==tt)&&(e===tt&&(!(me&2)&&(_d|=n),Ze===4&&to(e,ut)),Ut(e,r),n===1&&me===0&&!(t.mode&1)&&(Ri=Be()+500,bd&&Fo()))}function Ut(e,t){var n=e.callbackNode;hM(e,t);var r=uc(e,e===tt?ut:0);if(r===0)n!==null&&Nv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Nv(n),t===1)e.tag===0?f$(vw.bind(null,e)):M2(vw.bind(null,e)),l$(function(){!(me&6)&&Fo()}),n=null;else{switch(u2(r)){case 1:n=Wm;break;case 4:n=i2;break;case 16:n=lc;break;case 536870912:n=a2;break;default:n=lc}n=O_(n,C_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function C_(e,t){if(Gu=-1,Qu=0,me&6)throw Error(W(327));var n=e.callbackNode;if(oi()&&e.callbackNode!==n)return null;var r=uc(e,e===tt?ut:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Tc(e,r);else{t=r;var o=me;me|=2;var s=T_();(tt!==e||ut!==t)&&(ur=null,Ri=Be()+500,is(e,t));do try{I$();break}catch(a){N_(e,a)}while(!0);rg(),_c.current=s,me=o,He!==null?t=0:(tt=null,ut=0,t=Ze)}if(t!==0){if(t===2&&(o=ip(e),o!==0&&(r=o,t=Mp(e,o))),t===1)throw n=il,is(e,0),to(e,r),Ut(e,Be()),n;if(t===6)to(e,r);else{if(o=e.current.alternate,!(r&30)&&!A$(o)&&(t=Tc(e,r),t===2&&(s=ip(e),s!==0&&(r=s,t=Mp(e,s))),t===1))throw n=il,is(e,0),to(e,r),Ut(e,Be()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:qo(e,jt,ur);break;case 3:if(to(e,r),(r&130023424)===r&&(t=vg+500-Be(),10<t)){if(uc(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Pt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=pp(qo.bind(null,e,jt,ur),t);break}qo(e,jt,ur);break;case 4:if(to(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-_n(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*R$(r/1960))-r,10<r){e.timeoutHandle=pp(qo.bind(null,e,jt,ur),r);break}qo(e,jt,ur);break;case 5:qo(e,jt,ur);break;default:throw Error(W(329))}}}return Ut(e,Be()),e.callbackNode===n?C_.bind(null,e):null}function Mp(e,t){var n=Fa;return e.current.memoizedState.isDehydrated&&(is(e,t).flags|=256),e=Tc(e,t),e!==2&&(t=jt,jt=n,t!==null&&$p(t)),e}function $p(e){jt===null?jt=e:jt.push.apply(jt,e)}function A$(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Tn(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function to(e,t){for(t&=~yg,t&=~_d,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_n(t),r=1<<n;e[n]=-1,t&=~r}}function vw(e){if(me&6)throw Error(W(327));oi();var t=uc(e,0);if(!(t&1))return Ut(e,Be()),null;var n=Tc(e,t);if(e.tag!==0&&n===2){var r=ip(e);r!==0&&(t=r,n=Mp(e,r))}if(n===1)throw n=il,is(e,0),to(e,t),Ut(e,Be()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qo(e,jt,ur),Ut(e,Be()),null}function wg(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(Ri=Be()+500,bd&&Fo())}}function hs(e){fo!==null&&fo.tag===0&&!(me&6)&&oi();var t=me;me|=1;var n=hn.transition,r=we;try{if(hn.transition=null,we=1,e)return e()}finally{we=r,hn.transition=n,me=t,!(me&6)&&Fo()}}function bg(){qt=Qs.current,Ce(Qs)}function is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,a$(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(eg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pc();break;case 3:ki(),Ce(Ft),Ce(Et),ug();break;case 5:lg(r);break;case 4:ki();break;case 13:Ce(Re);break;case 19:Ce(Re);break;case 10:og(r.type._context);break;case 22:case 23:bg()}n=n.return}if(tt=e,He=e=xo(e.current,null),ut=qt=t,Ze=0,il=null,yg=_d=fs=0,jt=Fa=null,Xo!==null){for(t=0;t<Xo.length;t++)if(n=Xo[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Xo=null}return e}function N_(e,t){do{var n=He;try{if(rg(),qu.current=Sc,Ec){for(var r=Ae.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ec=!1}if(ds=0,Xe=Ke=Ae=null,ja=!1,rl=0,gg.current=null,n===null||n.return===null){Ze=1,il=t,He=null;break}e:{var s=e,i=n.return,a=n,l=t;if(t=ut,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=sw(i);if(m!==null){m.flags&=-257,iw(m,i,a,s,t),m.mode&1&&ow(s,u,t),t=m,l=u;var y=t.updateQueue;if(y===null){var f=new Set;f.add(l),t.updateQueue=f}else y.add(l);break e}else{if(!(t&1)){ow(s,u,t),xg();break e}l=Error(W(426))}}else if(Te&&a.mode&1){var w=sw(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),iw(w,i,a,s,t),tg(Pi(l,a));break e}}s=l=Pi(l,a),Ze!==4&&(Ze=2),Fa===null?Fa=[s]:Fa.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=u_(s,l,t);Xv(s,p);break e;case 1:a=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(wo===null||!wo.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=c_(s,a,t);Xv(s,E);break e}}s=s.return}while(s!==null)}P_(n)}catch(_){t=_,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function T_(){var e=_c.current;return _c.current=Sc,e===null?Sc:e}function xg(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),tt===null||!(fs&268435455)&&!(_d&268435455)||to(tt,ut)}function Tc(e,t){var n=me;me|=2;var r=T_();(tt!==e||ut!==t)&&(ur=null,is(e,t));do try{O$();break}catch(o){N_(e,o)}while(!0);if(rg(),me=n,_c.current=r,He!==null)throw Error(W(261));return tt=null,ut=0,Ze}function O$(){for(;He!==null;)k_(He)}function I$(){for(;He!==null&&!oM();)k_(He)}function k_(e){var t=A_(e.alternate,e,qt);e.memoizedProps=e.pendingProps,t===null?P_(e):He=t,gg.current=null}function P_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=N$(n,t),n!==null){n.flags&=32767,He=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ze=6,He=null;return}}else if(n=C$(n,t,qt),n!==null){He=n;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Ze===0&&(Ze=5)}function qo(e,t,n){var r=we,o=hn.transition;try{hn.transition=null,we=1,M$(e,t,n,r)}finally{hn.transition=o,we=r}return null}function M$(e,t,n,r){do oi();while(fo!==null);if(me&6)throw Error(W(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(pM(e,s),e===tt&&(He=tt=null,ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eu||(Eu=!0,O_(lc,function(){return oi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hn.transition,hn.transition=null;var i=we;we=1;var a=me;me|=4,gg.current=null,k$(e,n),S_(n,e),e$(fp),cc=!!dp,fp=dp=null,e.current=n,P$(n),sM(),me=a,we=i,hn.transition=s}else e.current=n;if(Eu&&(Eu=!1,fo=e,Nc=o),s=e.pendingLanes,s===0&&(wo=null),lM(n.stateNode),Ut(e,Be()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Cc)throw Cc=!1,e=Op,Op=null,e;return Nc&1&&e.tag!==0&&oi(),s=e.pendingLanes,s&1?e===Ip?Ba++:(Ba=0,Ip=e):Ba=0,Fo(),null}function oi(){if(fo!==null){var e=u2(Nc),t=hn.transition,n=we;try{if(hn.transition=null,we=16>e?16:e,fo===null)var r=!1;else{if(e=fo,fo=null,Nc=0,me&6)throw Error(W(331));var o=me;for(me|=4,Q=e.current;Q!==null;){var s=Q,i=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var c=Q;switch(c.tag){case 0:case 11:case 15:La(8,c,s)}var d=c.child;if(d!==null)d.return=c,Q=d;else for(;Q!==null;){c=Q;var h=c.sibling,m=c.return;if(b_(c),c===u){Q=null;break}if(h!==null){h.return=m,Q=h;break}Q=m}}}var y=s.alternate;if(y!==null){var f=y.child;if(f!==null){y.child=null;do{var w=f.sibling;f.sibling=null,f=w}while(f!==null)}}Q=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Q=i;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:La(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,Q=p;break e}Q=s.return}}var v=e.current;for(Q=v;Q!==null;){i=Q;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,Q=x;else e:for(i=v;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sd(9,a)}}catch(_){Me(a,a.return,_)}if(a===i){Q=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Q=E;break e}Q=a.return}}if(me=o,Fo(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(md,e)}catch{}r=!0}return r}finally{we=n,hn.transition=t}}return!1}function ww(e,t,n){t=Pi(n,t),t=u_(e,t,1),e=vo(e,t,1),t=Pt(),e!==null&&($l(e,1,t),Ut(e,t))}function Me(e,t,n){if(e.tag===3)ww(e,e,n);else for(;t!==null;){if(t.tag===3){ww(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wo===null||!wo.has(r))){e=Pi(n,e),e=c_(t,e,1),t=vo(t,e,1),e=Pt(),t!==null&&($l(t,1,e),Ut(t,e));break}}t=t.return}}function $$(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Pt(),e.pingedLanes|=e.suspendedLanes&n,tt===e&&(ut&n)===n&&(Ze===4||Ze===3&&(ut&130023424)===ut&&500>Be()-vg?is(e,0):yg|=n),Ut(e,t)}function R_(e,t){t===0&&(e.mode&1?(t=fu,fu<<=1,!(fu&130023424)&&(fu=4194304)):t=1);var n=Pt();e=_r(e,t),e!==null&&($l(e,t,n),Ut(e,n))}function D$(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),R_(e,n)}function j$(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),R_(e,n)}var A_;A_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ft.current)Lt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Lt=!1,_$(e,t,n);Lt=!!(e.flags&131072)}else Lt=!1,Te&&t.flags&1048576&&$2(t,yc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zu(e,t),e=t.pendingProps;var o=Ci(t,Et.current);ri(t,n),o=dg(null,t,r,e,o,n);var s=fg();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bt(r)?(s=!0,mc(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ig(t),o.updater=Ed,t.stateNode=o,o._reactInternals=t,xp(t,r,e,n),t=_p(null,t,r,!0,s,n)):(t.tag=0,Te&&s&&Jm(t),Nt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zu(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=F$(r),e=vn(r,e),o){case 0:t=Sp(null,t,r,e,n);break e;case 1:t=uw(null,t,r,e,n);break e;case 11:t=aw(null,t,r,e,n);break e;case 14:t=lw(null,t,r,vn(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vn(r,o),Sp(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vn(r,o),uw(e,t,r,o,n);case 3:e:{if(p_(t),e===null)throw Error(W(387));r=t.pendingProps,s=t.memoizedState,o=s.element,U2(e,t),bc(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Pi(Error(W(423)),t),t=cw(e,t,r,n,o);break e}else if(r!==o){o=Pi(Error(W(424)),t),t=cw(e,t,r,n,o);break e}else for(Zt=yo(t.stateNode.containerInfo.firstChild),Gt=t,Te=!0,En=null,n=F2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ni(),r===o){t=Cr(e,t,n);break e}Nt(e,t,r,n)}t=t.child}return t;case 5:return z2(t),e===null&&vp(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,hp(r,o)?i=null:s!==null&&hp(r,s)&&(t.flags|=32),h_(e,t),Nt(e,t,i,n),t.child;case 6:return e===null&&vp(t),null;case 13:return m_(e,t,n);case 4:return ag(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ti(t,null,r,n):Nt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vn(r,o),aw(e,t,r,o,n);case 7:return Nt(e,t,t.pendingProps,n),t.child;case 8:return Nt(e,t,t.pendingProps.children,n),t.child;case 12:return Nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,Ee(vc,r._currentValue),r._currentValue=i,s!==null)if(Tn(s.value,i)){if(s.children===o.children&&!Ft.current){t=Cr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=br(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),wp(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(W(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),wp(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Nt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,ri(t,n),o=mn(o),r=r(o),t.flags|=1,Nt(e,t,r,n),t.child;case 14:return r=t.type,o=vn(r,t.pendingProps),o=vn(r.type,o),lw(e,t,r,o,n);case 15:return d_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vn(r,o),Zu(e,t),t.tag=1,Bt(r)?(e=!0,mc(t)):e=!1,ri(t,n),l_(t,r,o),xp(t,r,o,n),_p(null,t,r,!0,e,n);case 19:return g_(e,t,n);case 22:return f_(e,t,n)}throw Error(W(156,t.tag))};function O_(e,t){return s2(e,t)}function L$(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,n,r){return new L$(e,t,n,r)}function Eg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function F$(e){if(typeof e=="function")return Eg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Um)return 11;if(e===zm)return 14}return 2}function xo(e,t){var n=e.alternate;return n===null?(n=fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yu(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")Eg(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Bs:return as(n.children,o,s,t);case Bm:i=8,o|=8;break;case Hh:return e=fn(12,n,t,o|2),e.elementType=Hh,e.lanes=s,e;case qh:return e=fn(13,n,t,o),e.elementType=qh,e.lanes=s,e;case Kh:return e=fn(19,n,t,o),e.elementType=Kh,e.lanes=s,e;case zS:return Cd(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case BS:i=10;break e;case US:i=9;break e;case Um:i=11;break e;case zm:i=14;break e;case Xr:i=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=fn(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function as(e,t,n,r){return e=fn(7,e,r,t),e.lanes=n,e}function Cd(e,t,n,r){return e=fn(22,e,r,t),e.elementType=zS,e.lanes=n,e.stateNode={isHidden:!1},e}function Vf(e,t,n){return e=fn(6,e,null,t),e.lanes=n,e}function Wf(e,t,n){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function B$(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_f(0),this.expirationTimes=_f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_f(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Sg(e,t,n,r,o,s,i,a,l){return e=new B$(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=fn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ig(s),e}function U$(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function I_(e){if(!e)return No;e=e._reactInternals;e:{if(Cs(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(Bt(n))return I2(e,n,t)}return t}function M_(e,t,n,r,o,s,i,a,l){return e=Sg(n,r,!0,e,o,s,i,a,l),e.context=I_(null),n=e.current,r=Pt(),o=bo(n),s=br(r,o),s.callback=t??null,vo(n,s,o),e.current.lanes=o,$l(e,o,r),Ut(e,r),e}function Nd(e,t,n,r){var o=t.current,s=Pt(),i=bo(o);return n=I_(n),t.context===null?t.context=n:t.pendingContext=n,t=br(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vo(o,t,i),e!==null&&(Cn(e,o,i,s),Hu(e,o,i)),i}function kc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _g(e,t){bw(e,t),(e=e.alternate)&&bw(e,t)}function z$(){return null}var $_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cg(e){this._internalRoot=e}Td.prototype.render=Cg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Nd(e,t,null,null)};Td.prototype.unmount=Cg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hs(function(){Nd(null,e,null,null)}),t[Sr]=null}};function Td(e){this._internalRoot=e}Td.prototype.unstable_scheduleHydration=function(e){if(e){var t=f2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<eo.length&&t!==0&&t<eo[n].priority;n++);eo.splice(n,0,e),n===0&&p2(e)}};function Ng(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xw(){}function V$(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var u=kc(i);s.call(u)}}var i=M_(t,r,e,0,null,!1,!1,"",xw);return e._reactRootContainer=i,e[Sr]=i.current,Xa(e.nodeType===8?e.parentNode:e),hs(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=kc(l);a.call(u)}}var l=Sg(e,0,!1,null,null,!1,!1,"",xw);return e._reactRootContainer=l,e[Sr]=l.current,Xa(e.nodeType===8?e.parentNode:e),hs(function(){Nd(t,l,n,r)}),l}function Pd(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=kc(i);a.call(l)}}Nd(t,i,e,o)}else i=V$(n,t,e,o,r);return kc(i)}c2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ta(t.pendingLanes);n!==0&&(Hm(t,n|1),Ut(t,Be()),!(me&6)&&(Ri=Be()+500,Fo()))}break;case 13:hs(function(){var r=_r(e,1);if(r!==null){var o=Pt();Cn(r,e,1,o)}}),_g(e,1)}};qm=function(e){if(e.tag===13){var t=_r(e,134217728);if(t!==null){var n=Pt();Cn(t,e,134217728,n)}_g(e,134217728)}};d2=function(e){if(e.tag===13){var t=bo(e),n=_r(e,t);if(n!==null){var r=Pt();Cn(n,e,t,r)}_g(e,t)}};f2=function(){return we};h2=function(e,t){var n=we;try{return we=e,t()}finally{we=n}};rp=function(e,t,n){switch(t){case"input":if(Qh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=wd(r);if(!o)throw Error(W(90));WS(r),Qh(r,o)}}}break;case"textarea":qS(e,n);break;case"select":t=n.value,t!=null&&Js(e,!!n.multiple,t,!1)}};JS=wg;e2=hs;var W$={usingClientEntryPoint:!1,Events:[jl,Ws,wd,YS,XS,wg]},pa={findFiberByHostInstance:Yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H$={bundleType:pa.bundleType,version:pa.version,rendererPackageName:pa.rendererPackageName,rendererConfig:pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=r2(e),e===null?null:e.stateNode},findFiberByHostInstance:pa.findFiberByHostInstance||z$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{md=Su.inject(H$),qn=Su}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$;en.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ng(t))throw Error(W(200));return U$(e,t,null,n)};en.createRoot=function(e,t){if(!Ng(e))throw Error(W(299));var n=!1,r="",o=$_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Sg(e,1,!1,null,null,n,!1,r,o),e[Sr]=t.current,Xa(e.nodeType===8?e.parentNode:e),new Cg(t)};en.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=r2(t),e=e===null?null:e.stateNode,e};en.flushSync=function(e){return hs(e)};en.hydrate=function(e,t,n){if(!kd(t))throw Error(W(200));return Pd(null,e,t,!0,n)};en.hydrateRoot=function(e,t,n){if(!Ng(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=$_;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=M_(t,null,e,1,n??null,o,!1,s,i),e[Sr]=t.current,Xa(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Td(t)};en.render=function(e,t,n){if(!kd(t))throw Error(W(200));return Pd(null,e,t,!1,n)};en.unmountComponentAtNode=function(e){if(!kd(e))throw Error(W(40));return e._reactRootContainer?(hs(function(){Pd(null,null,e,!1,function(){e._reactRootContainer=null,e[Sr]=null})}),!0):!1};en.unstable_batchedUpdates=wg;en.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!kd(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Pd(e,t,n,!1,r)};en.version="18.3.1-next-f1338f8080-20240426";function D_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D_)}catch(e){console.error(e)}}D_(),DS.exports=en;var Yi=DS.exports;const j_=Om(Yi);var L_,Ew=Yi;L_=Ew.createRoot,Ew.hydrateRoot;function q$(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,s,i=[],a="",l=e.split("/");for(l[0]||l.shift();o=l.shift();)n=o[0],n==="*"?(i.push(n),a+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=o.indexOf("?",1),s=o.indexOf(".",1),i.push(o.substring(1,~r?r:~s?s:o.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+o.substring(s))):a+="/"+o;return{keys:i,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var F_={exports:{}},B_={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ai=g;function K$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Z$=typeof Object.is=="function"?Object.is:K$,G$=Ai.useState,Q$=Ai.useEffect,Y$=Ai.useLayoutEffect,X$=Ai.useDebugValue;function J$(e,t){var n=t(),r=G$({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return Y$(function(){o.value=n,o.getSnapshot=t,Hf(o)&&s({inst:o})},[e,n,t]),Q$(function(){return Hf(o)&&s({inst:o}),e(function(){Hf(o)&&s({inst:o})})},[e]),X$(n),n}function Hf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Z$(e,n)}catch{return!0}}function e3(e,t){return t()}var t3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?e3:J$;B_.useSyncExternalStore=Ai.useSyncExternalStore!==void 0?Ai.useSyncExternalStore:t3;F_.exports=B_;var n3=F_.exports;const r3=MS.useInsertionEffect,o3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U_=o3?g.useLayoutEffect:g.useEffect,s3=r3||U_,Tg=e=>{const t=g.useRef([e,(...n)=>t[0](...n)]).current;return s3(()=>{t[0]=e}),t[1]},i3="popstate",kg="pushState",Pg="replaceState",a3="hashchange",Sw=[i3,kg,Pg,a3],l3=e=>{for(const t of Sw)addEventListener(t,e);return()=>{for(const t of Sw)removeEventListener(t,e)}},z_=(e,t)=>n3.useSyncExternalStore(l3,e,t),u3=()=>location.search,c3=({ssrSearch:e=""}={})=>z_(u3,()=>e),_w=()=>location.pathname,d3=({ssrPath:e}={})=>z_(_w,e?()=>e:_w),f3=(e,{replace:t=!1,state:n=null}={})=>history[t?Pg:kg](n,"",e),h3=(e={})=>[d3(e),f3],Cw=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Cw]>"u"){for(const e of[kg,Pg]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Cw,{value:!0})}const p3=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",V_=(e="")=>e==="/"?"":e,m3=(e,t)=>e[0]==="~"?e.slice(1):V_(t)+e,g3=(e="",t)=>p3(Nw(V_(e)),Nw(t)),Nw=e=>{try{return decodeURI(e)}catch{return e}},W_={hook:h3,searchHook:c3,parser:q$,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},H_=g.createContext(W_),Fl=()=>g.useContext(H_),q_={},K_=g.createContext(q_),Z_=()=>g.useContext(K_),Rd=e=>{const[t,n]=e.hook(e);return[g3(e.base,t),Tg((r,o)=>n(m3(r,e.base),o))]},G_=()=>Rd(Fl()),Q_=(e,t,n,r)=>{const{pattern:o,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),i=o.exec(n)||[],[a,...l]=i;return a!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((d,h)=>[d,l[h]])):i.groups;let c={...l};return u&&Object.assign(c,u),c})(),...r?[a]:[]]:[!1,null]},Y_=({children:e,...t})=>{var c,d;const n=Fl(),r=t.hook?W_:n;let o=r;const[s,i]=((c=t.ssrPath)==null?void 0:c.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=s),t.hrefs=t.hrefs??((d=t.hook)==null?void 0:d.hrefs);let a=g.useRef({}),l=a.current,u=l;for(let h in r){const m=h==="base"?r[h]+(t[h]||""):t[h]||r[h];l===u&&m!==u[h]&&(a.current=u={...u}),u[h]=m,m!==r[h]&&(o=u)}return g.createElement(H_.Provider,{value:o,children:e})},Tw=({children:e,component:t},n)=>t?g.createElement(t,{params:n}):typeof e=="function"?e(n):e,y3=e=>{let t=g.useRef(q_),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Dp=({path:e,nest:t,match:n,...r})=>{const o=Fl(),[s]=Rd(o),[i,a,l]=n??Q_(o.parser,e,s,t),u=y3({...Z_(),...a});if(!i)return null;const c=l?g.createElement(Y_,{base:l},Tw(r,u)):Tw(r,u);return g.createElement(K_.Provider,{value:u,children:c})};g.forwardRef((e,t)=>{const n=Fl(),[r,o]=Rd(n),{to:s="",href:i=s,onClick:a,asChild:l,children:u,className:c,replace:d,state:h,...m}=e,y=Tg(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(a==null||a(w),w.defaultPrevented||(w.preventDefault(),o(i,e)))}),f=n.hrefs(i[0]==="~"?i.slice(1):n.base+i,n);return l&&g.isValidElement(u)?g.cloneElement(u,{onClick:y,href:f}):g.createElement("a",{...m,onClick:y,href:f,className:c!=null&&c.call?c(r===i):c,children:u,ref:t})});const X_=e=>Array.isArray(e)?e.flatMap(t=>X_(t&&t.type===g.Fragment?t.props.children:t)):[e],v3=({children:e,location:t})=>{const n=Fl(),[r]=Rd(n);for(const o of X_(e)){let s=0;if(g.isValidElement(o)&&(s=Q_(n.parser,o.props.path,t||r,o.props.nest))[0])return g.cloneElement(o,{match:s})}return null},J_=e=>{const{to:t,href:n=t}=e,[,r]=G_(),o=Tg(()=>r(t||n,e));return U_(()=>{o()},[]),null};var Bl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ad=typeof window>"u"||"Deno"in globalThis;function wn(){}function w3(e,t){return typeof e=="function"?e(t):e}function b3(e){return typeof e=="number"&&e>=0&&e!==1/0}function x3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function kw(e,t){return typeof e=="function"?e(t):e}function E3(e,t){return typeof e=="function"?e(t):e}function Pw(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:s,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==Rg(i,t.options))return!1}else if(!al(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||o&&o!==t.state.fetchStatus||s&&!s(t))}function Rw(e,t){const{exact:n,status:r,predicate:o,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(ps(t.options.mutationKey)!==ps(s))return!1}else if(!al(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function Rg(e,t){return((t==null?void 0:t.queryKeyHashFn)||ps)(e)}function ps(e){return JSON.stringify(e,(t,n)=>jp(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function al(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!al(e[n],t[n])):!1}function eC(e,t){if(e===t)return e;const n=Aw(e)&&Aw(t);if(n||jp(e)&&jp(t)){const r=n?e:Object.keys(e),o=r.length,s=n?t:Object.keys(t),i=s.length,a=n?[]:{};let l=0;for(let u=0;u<i;u++){const c=n?u:s[u];(!n&&r.includes(c)||n)&&e[c]===void 0&&t[c]===void 0?(a[c]=void 0,l++):(a[c]=eC(e[c],t[c]),a[c]===e[c]&&e[c]!==void 0&&l++)}return o===i&&l===o?e:a}return t}function S3(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Aw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function jp(e){if(!Ow(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ow(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ow(e){return Object.prototype.toString.call(e)==="[object Object]"}function _3(e){return new Promise(t=>{setTimeout(t,e)})}function C3(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?eC(e,t):t}function N3(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function T3(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Ag=Symbol();function tC(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ag?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ns,ro,mi,Ib,k3=(Ib=class extends Bl{constructor(){super();fe(this,ns);fe(this,ro);fe(this,mi);ne(this,mi,t=>{if(!Ad&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){L(this,ro)||this.setEventListener(L(this,mi))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,ro))==null||t.call(this),ne(this,ro,void 0))}setEventListener(t){var n;ne(this,mi,t),(n=L(this,ro))==null||n.call(this),ne(this,ro,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){L(this,ns)!==t&&(ne(this,ns,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof L(this,ns)=="boolean"?L(this,ns):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ns=new WeakMap,ro=new WeakMap,mi=new WeakMap,Ib),nC=new k3,gi,oo,yi,Mb,P3=(Mb=class extends Bl{constructor(){super();fe(this,gi,!0);fe(this,oo);fe(this,yi);ne(this,yi,t=>{if(!Ad&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){L(this,oo)||this.setEventListener(L(this,yi))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,oo))==null||t.call(this),ne(this,oo,void 0))}setEventListener(t){var n;ne(this,yi,t),(n=L(this,oo))==null||n.call(this),ne(this,oo,t(this.setOnline.bind(this)))}setOnline(t){L(this,gi)!==t&&(ne(this,gi,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return L(this,gi)}},gi=new WeakMap,oo=new WeakMap,yi=new WeakMap,Mb),Pc=new P3;function R3(){let e,t;const n=new Promise((o,s)=>{e=o,t=s});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function A3(e){return Math.min(1e3*2**e,3e4)}function rC(e){return(e??"online")==="online"?Pc.isOnline():!0}var oC=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function qf(e){return e instanceof oC}function sC(e){let t=!1,n=0,r=!1,o;const s=R3(),i=f=>{var w;r||(h(new oC(f)),(w=e.abort)==null||w.call(e))},a=()=>{t=!0},l=()=>{t=!1},u=()=>nC.isFocused()&&(e.networkMode==="always"||Pc.isOnline())&&e.canRun(),c=()=>rC(e.networkMode)&&e.canRun(),d=f=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,f),o==null||o(),s.resolve(f))},h=f=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,f),o==null||o(),s.reject(f))},m=()=>new Promise(f=>{var w;o=p=>{(r||u())&&f(p)},(w=e.onPause)==null||w.call(e)}).then(()=>{var f;o=void 0,r||(f=e.onContinue)==null||f.call(e)}),y=()=>{if(r)return;let f;const w=n===0?e.initialPromise:void 0;try{f=w??e.fn()}catch(p){f=Promise.reject(p)}Promise.resolve(f).then(d).catch(p=>{var S;if(r)return;const v=e.retry??(Ad?0:3),x=e.retryDelay??A3,E=typeof x=="function"?x(n,p):x,_=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,p);if(t||!_){h(p);return}n++,(S=e.onFail)==null||S.call(e,n,p),_3(E).then(()=>u()?void 0:m()).then(()=>{t?h(p):y()})})};return{promise:s,cancel:i,continue:()=>(o==null||o(),s),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?y():m().then(y),s)}}function O3(){let e=[],t=0,n=a=>{a()},r=a=>{a()},o=a=>setTimeout(a,0);const s=a=>{t?e.push(a):o(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&o(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{o=a}}}var at=O3(),rs,$b,iC=($b=class{constructor(){fe(this,rs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),b3(this.gcTime)&&ne(this,rs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ad?1/0:5*60*1e3))}clearGcTimeout(){L(this,rs)&&(clearTimeout(L(this,rs)),ne(this,rs,void 0))}},rs=new WeakMap,$b),vi,wi,on,gt,Ol,os,bn,ar,Db,I3=(Db=class extends iC{constructor(t){super();fe(this,bn);fe(this,vi);fe(this,wi);fe(this,on);fe(this,gt);fe(this,Ol);fe(this,os);ne(this,os,!1),ne(this,Ol,t.defaultOptions),this.setOptions(t.options),this.observers=[],ne(this,on,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ne(this,vi,$3(this.options)),this.state=t.state??L(this,vi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=L(this,gt))==null?void 0:t.promise}setOptions(t){this.options={...L(this,Ol),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,on).remove(this)}setData(t,n){const r=C3(this.state.data,t,this.options);return je(this,bn,ar).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){je(this,bn,ar).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=L(this,gt))==null?void 0:r.promise;return(o=L(this,gt))==null||o.cancel(t),n?n.then(wn).catch(wn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,vi))}isActive(){return this.observers.some(t=>E3(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ag||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!x3(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=L(this,gt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=L(this,gt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),L(this,on).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(L(this,gt)&&(L(this,os)?L(this,gt).cancel({revert:!0}):L(this,gt).cancelRetry()),this.scheduleGc()),L(this,on).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||je(this,bn,ar).call(this,{type:"invalidate"})}fetch(t,n){var l,u,c;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(L(this,gt))return L(this,gt).continueRetry(),L(this,gt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,o=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(ne(this,os,!0),r.signal)})},s=()=>{const d=tC(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return o(h),ne(this,os,!1),this.options.persister?this.options.persister(d,h,this):d(h)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(i),(l=this.options.behavior)==null||l.onFetch(i,this),ne(this,wi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&je(this,bn,ar).call(this,{type:"fetch",meta:(c=i.fetchOptions)==null?void 0:c.meta});const a=d=>{var h,m,y,f;qf(d)&&d.silent||je(this,bn,ar).call(this,{type:"error",error:d}),qf(d)||((m=(h=L(this,on).config).onError)==null||m.call(h,d,this),(f=(y=L(this,on).config).onSettled)==null||f.call(y,this.state.data,d,this)),this.scheduleGc()};return ne(this,gt,sC({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var h,m,y,f;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(w){a(w);return}(m=(h=L(this,on).config).onSuccess)==null||m.call(h,d,this),(f=(y=L(this,on).config).onSettled)==null||f.call(y,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,h)=>{je(this,bn,ar).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{je(this,bn,ar).call(this,{type:"pause"})},onContinue:()=>{je(this,bn,ar).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),L(this,gt).start()}},vi=new WeakMap,wi=new WeakMap,on=new WeakMap,gt=new WeakMap,Ol=new WeakMap,os=new WeakMap,bn=new WeakSet,ar=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...M3(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return qf(o)&&o.revert&&L(this,wi)?{...L(this,wi),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),at.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),L(this,on).notify({query:this,type:"updated",action:t})})},Db);function M3(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function $3(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Bn,jb,D3=(jb=class extends Bl{constructor(t={}){super();fe(this,Bn);this.config=t,ne(this,Bn,new Map)}build(t,n,r){const o=n.queryKey,s=n.queryHash??Rg(o,n);let i=this.get(s);return i||(i=new I3({cache:this,queryKey:o,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(i)),i}add(t){L(this,Bn).has(t.queryHash)||(L(this,Bn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=L(this,Bn).get(t.queryHash);n&&(t.destroy(),n===t&&L(this,Bn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){at.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return L(this,Bn).get(t)}getAll(){return[...L(this,Bn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Pw(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Pw(t,r)):n}notify(t){at.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){at.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){at.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Bn=new WeakMap,jb),Un,Ct,ss,zn,Gr,Lb,j3=(Lb=class extends iC{constructor(t){super();fe(this,zn);fe(this,Un);fe(this,Ct);fe(this,ss);this.mutationId=t.mutationId,ne(this,Ct,t.mutationCache),ne(this,Un,[]),this.state=t.state||aC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){L(this,Un).includes(t)||(L(this,Un).push(t),this.clearGcTimeout(),L(this,Ct).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ne(this,Un,L(this,Un).filter(n=>n!==t)),this.scheduleGc(),L(this,Ct).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){L(this,Un).length||(this.state.status==="pending"?this.scheduleGc():L(this,Ct).remove(this))}continue(){var t;return((t=L(this,ss))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,s,i,a,l,u,c,d,h,m,y,f,w,p,v,x,E,_,S,C;ne(this,ss,sC({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,B)=>{je(this,zn,Gr).call(this,{type:"failed",failureCount:N,error:B})},onPause:()=>{je(this,zn,Gr).call(this,{type:"pause"})},onContinue:()=>{je(this,zn,Gr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,Ct).canRun(this)}));const n=this.state.status==="pending",r=!L(this,ss).canStart();try{if(!n){je(this,zn,Gr).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(o=L(this,Ct).config).onMutate)==null?void 0:s.call(o,t,this));const B=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));B!==this.state.context&&je(this,zn,Gr).call(this,{type:"pending",context:B,variables:t,isPaused:r})}const N=await L(this,ss).start();return await((u=(l=L(this,Ct).config).onSuccess)==null?void 0:u.call(l,N,t,this.state.context,this)),await((d=(c=this.options).onSuccess)==null?void 0:d.call(c,N,t,this.state.context)),await((m=(h=L(this,Ct).config).onSettled)==null?void 0:m.call(h,N,null,this.state.variables,this.state.context,this)),await((f=(y=this.options).onSettled)==null?void 0:f.call(y,N,null,t,this.state.context)),je(this,zn,Gr).call(this,{type:"success",data:N}),N}catch(N){try{throw await((p=(w=L(this,Ct).config).onError)==null?void 0:p.call(w,N,t,this.state.context,this)),await((x=(v=this.options).onError)==null?void 0:x.call(v,N,t,this.state.context)),await((_=(E=L(this,Ct).config).onSettled)==null?void 0:_.call(E,void 0,N,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,N,t,this.state.context)),N}finally{je(this,zn,Gr).call(this,{type:"error",error:N})}}finally{L(this,Ct).runNext(this)}}},Un=new WeakMap,Ct=new WeakMap,ss=new WeakMap,zn=new WeakSet,Gr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),at.batch(()=>{L(this,Un).forEach(r=>{r.onMutationUpdate(t)}),L(this,Ct).notify({mutation:this,type:"updated",action:t})})},Lb);function aC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ht,Il,Fb,L3=(Fb=class extends Bl{constructor(t={}){super();fe(this,Ht);fe(this,Il);this.config=t,ne(this,Ht,new Map),ne(this,Il,Date.now())}build(t,n,r){const o=new j3({mutationCache:this,mutationId:++su(this,Il)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){const n=_u(t),r=L(this,Ht).get(n)??[];r.push(t),L(this,Ht).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=_u(t);if(L(this,Ht).has(n)){const o=(r=L(this,Ht).get(n))==null?void 0:r.filter(s=>s!==t);o&&(o.length===0?L(this,Ht).delete(n):L(this,Ht).set(n,o))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=L(this,Ht).get(_u(t)))==null?void 0:r.find(o=>o.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=L(this,Ht).get(_u(t)))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){at.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...L(this,Ht).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Rw(n,r))}findAll(t={}){return this.getAll().filter(n=>Rw(t,n))}notify(t){at.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return at.batch(()=>Promise.all(t.map(n=>n.continue().catch(wn))))}},Ht=new WeakMap,Il=new WeakMap,Fb);function _u(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Iw(e){return{onFetch:(t,n)=>{var c,d,h,m,y;const r=t.options,o=(h=(d=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],i=((y=t.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let f=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},p=tC(t.options,t.fetchOptions),v=async(x,E,_)=>{if(f)return Promise.reject();if(E==null&&x.pages.length)return Promise.resolve(x);const S={queryKey:t.queryKey,pageParam:E,direction:_?"backward":"forward",meta:t.options.meta};w(S);const C=await p(S),{maxPages:N}=t.options,B=_?T3:N3;return{pages:B(x.pages,C,N),pageParams:B(x.pageParams,E,N)}};if(o&&s.length){const x=o==="backward",E=x?F3:Mw,_={pages:s,pageParams:i},S=E(r,_);a=await v(_,S,x)}else{const x=e??s.length;do{const E=l===0?i[0]??r.initialPageParam:Mw(r,a);if(l>0&&E==null)break;a=await v(a,E),l++}while(l<x)}return a};t.options.persister?t.fetchFn=()=>{var f,w;return(w=(f=t.options).persister)==null?void 0:w.call(f,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Mw(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function F3(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ie,so,io,bi,xi,ao,Ei,Si,Bb,B3=(Bb=class{constructor(e={}){fe(this,Ie);fe(this,so);fe(this,io);fe(this,bi);fe(this,xi);fe(this,ao);fe(this,Ei);fe(this,Si);ne(this,Ie,e.queryCache||new D3),ne(this,so,e.mutationCache||new L3),ne(this,io,e.defaultOptions||{}),ne(this,bi,new Map),ne(this,xi,new Map),ne(this,ao,0)}mount(){su(this,ao)._++,L(this,ao)===1&&(ne(this,Ei,nC.subscribe(async e=>{e&&(await this.resumePausedMutations(),L(this,Ie).onFocus())})),ne(this,Si,Pc.subscribe(async e=>{e&&(await this.resumePausedMutations(),L(this,Ie).onOnline())})))}unmount(){var e,t;su(this,ao)._--,L(this,ao)===0&&((e=L(this,Ei))==null||e.call(this),ne(this,Ei,void 0),(t=L(this,Si))==null||t.call(this),ne(this,Si,void 0))}isFetching(e){return L(this,Ie).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return L(this,so).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=L(this,Ie).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=L(this,Ie).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(kw(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return L(this,Ie).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=L(this,Ie).get(r.queryHash),s=o==null?void 0:o.state.data,i=w3(t,s);if(i!==void 0)return L(this,Ie).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return at.batch(()=>L(this,Ie).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=L(this,Ie).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=L(this,Ie);at.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=L(this,Ie),r={type:"active",...e};return at.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=at.batch(()=>L(this,Ie).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(wn).catch(wn)}invalidateQueries(e={},t={}){return at.batch(()=>{if(L(this,Ie).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=at.batch(()=>L(this,Ie).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let s=o.fetch(void 0,n);return n.throwOnError||(s=s.catch(wn)),o.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(wn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=L(this,Ie).build(this,t);return n.isStaleByTime(kw(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wn).catch(wn)}fetchInfiniteQuery(e){return e.behavior=Iw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wn).catch(wn)}ensureInfiniteQueryData(e){return e.behavior=Iw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Pc.isOnline()?L(this,so).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,Ie)}getMutationCache(){return L(this,so)}getDefaultOptions(){return L(this,io)}setDefaultOptions(e){ne(this,io,e)}setQueryDefaults(e,t){L(this,bi).set(ps(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...L(this,bi).values()];let n={};return t.forEach(r=>{al(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){L(this,xi).set(ps(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...L(this,xi).values()];let n={};return t.forEach(r=>{al(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...L(this,io).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Rg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Ag&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...L(this,io).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){L(this,Ie).clear(),L(this,so).clear()}},Ie=new WeakMap,so=new WeakMap,io=new WeakMap,bi=new WeakMap,xi=new WeakMap,ao=new WeakMap,Ei=new WeakMap,Si=new WeakMap,Bb),lo,uo,$t,hr,xr,Xu,Lp,Ub,U3=(Ub=class extends Bl{constructor(n,r){super();fe(this,xr);fe(this,lo);fe(this,uo);fe(this,$t);fe(this,hr);ne(this,lo,n),this.setOptions(r),this.bindMethods(),je(this,xr,Xu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var o;const r=this.options;this.options=L(this,lo).defaultMutationOptions(n),S3(this.options,r)||L(this,lo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:L(this,$t),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ps(r.mutationKey)!==ps(this.options.mutationKey)?this.reset():((o=L(this,$t))==null?void 0:o.state.status)==="pending"&&L(this,$t).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=L(this,$t))==null||n.removeObserver(this)}onMutationUpdate(n){je(this,xr,Xu).call(this),je(this,xr,Lp).call(this,n)}getCurrentResult(){return L(this,uo)}reset(){var n;(n=L(this,$t))==null||n.removeObserver(this),ne(this,$t,void 0),je(this,xr,Xu).call(this),je(this,xr,Lp).call(this)}mutate(n,r){var o;return ne(this,hr,r),(o=L(this,$t))==null||o.removeObserver(this),ne(this,$t,L(this,lo).getMutationCache().build(L(this,lo),this.options)),L(this,$t).addObserver(this),L(this,$t).execute(n)}},lo=new WeakMap,uo=new WeakMap,$t=new WeakMap,hr=new WeakMap,xr=new WeakSet,Xu=function(){var r;const n=((r=L(this,$t))==null?void 0:r.state)??aC();ne(this,uo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Lp=function(n){at.batch(()=>{var r,o,s,i,a,l,u,c;if(L(this,hr)&&this.hasListeners()){const d=L(this,uo).variables,h=L(this,uo).context;(n==null?void 0:n.type)==="success"?((o=(r=L(this,hr)).onSuccess)==null||o.call(r,n.data,d,h),(i=(s=L(this,hr)).onSettled)==null||i.call(s,n.data,null,d,h)):(n==null?void 0:n.type)==="error"&&((l=(a=L(this,hr)).onError)==null||l.call(a,n.error,d,h),(c=(u=L(this,hr)).onSettled)==null||c.call(u,void 0,n.error,d,h))}this.listeners.forEach(d=>{d(L(this,uo))})})},Ub),lC=g.createContext(void 0),z3=e=>{const t=g.useContext(lC);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},V3=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),b.jsx(lC.Provider,{value:e,children:t}));function W3(e,t){return typeof e=="function"?e(...t):!!e}function H3(){}function Kf(e,t){const n=z3(),[r]=g.useState(()=>new U3(n,e));g.useEffect(()=>{r.setOptions(e)},[r,e]);const o=g.useSyncExternalStore(g.useCallback(i=>r.subscribe(at.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=g.useCallback((i,a)=>{r.mutate(i,a).catch(H3)},[r]);if(o.error&&W3(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:s,mutateAsync:o.mutate}}async function uC(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function q3(e,t,n){const r=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await uC(r),r}const K3=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await uC(n),await n.json())},cC=new B3({defaultOptions:{queries:{queryFn:K3({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Z3=1,G3=1e6;let Zf=0;function Q3(){return Zf=(Zf+1)%Number.MAX_SAFE_INTEGER,Zf.toString()}const Gf=new Map,$w=e=>{if(Gf.has(e))return;const t=setTimeout(()=>{Gf.delete(e),Ua({type:"REMOVE_TOAST",toastId:e})},G3);Gf.set(e,t)},Y3=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Z3)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?$w(n):e.toasts.forEach(r=>{$w(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ju=[];let ec={toasts:[]};function Ua(e){ec=Y3(ec,e),Ju.forEach(t=>{t(ec)})}function X3({...e}){const t=Q3(),n=o=>Ua({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>Ua({type:"DISMISS_TOAST",toastId:t});return Ua({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function Od(){const[e,t]=g.useState(ec);return g.useEffect(()=>(Ju.push(t),()=>{const n=Ju.indexOf(t);n>-1&&Ju.splice(n,1)}),[e]),{...e,toast:X3,dismiss:n=>Ua({type:"DISMISS_TOAST",toastId:n})}}function re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function J3(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Id(...e){return t=>e.forEach(n=>J3(n,t))}function dt(...e){return g.useCallback(Id(...e),e)}function eD(e,t=[]){let n=[];function r(s,i){const a=g.createContext(i),l=n.length;n=[...n,i];function u(d){const{scope:h,children:m,...y}=d,f=(h==null?void 0:h[e][l])||a,w=g.useMemo(()=>y,Object.values(y));return b.jsx(f.Provider,{value:w,children:m})}function c(d,h){const m=(h==null?void 0:h[e][l])||a,y=g.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,c]}const o=()=>{const s=n.map(i=>g.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return g.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,tD(o,...t)]}function tD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(s)[`__scope${u}`];return{...a,...d}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Oi=g.forwardRef((e,t)=>{const{children:n,...r}=e,o=g.Children.toArray(n),s=o.find(rD);if(s){const i=s.props.children,a=o.map(l=>l===s?g.Children.count(i)>1?g.Children.only(null):g.isValidElement(i)?i.props.children:null:l);return b.jsx(Fp,{...r,ref:t,children:g.isValidElement(i)?g.cloneElement(i,void 0,a):null})}return b.jsx(Fp,{...r,ref:t,children:n})});Oi.displayName="Slot";var Fp=g.forwardRef((e,t)=>{const{children:n,...r}=e;if(g.isValidElement(n)){const o=sD(n);return g.cloneElement(n,{...oD(r,n.props),ref:t?Id(t,o):o})}return g.Children.count(n)>1?g.Children.only(null):null});Fp.displayName="SlotClone";var nD=({children:e})=>b.jsx(b.Fragment,{children:e});function rD(e){return g.isValidElement(e)&&e.type===nD}function oD(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function sD(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Og(e){const t=e+"CollectionProvider",[n,r]=eD(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:y,children:f}=m,w=Zr.useRef(null),p=Zr.useRef(new Map).current;return b.jsx(o,{scope:y,itemMap:p,collectionRef:w,children:f})};i.displayName=t;const a=e+"CollectionSlot",l=Zr.forwardRef((m,y)=>{const{scope:f,children:w}=m,p=s(a,f),v=dt(y,p.collectionRef);return b.jsx(Oi,{ref:v,children:w})});l.displayName=a;const u=e+"CollectionItemSlot",c="data-radix-collection-item",d=Zr.forwardRef((m,y)=>{const{scope:f,children:w,...p}=m,v=Zr.useRef(null),x=dt(y,v),E=s(u,f);return Zr.useEffect(()=>(E.itemMap.set(v,{ref:v,...p}),()=>void E.itemMap.delete(v))),b.jsx(Oi,{[c]:"",ref:x,children:w})});d.displayName=u;function h(m){const y=s(e+"CollectionConsumer",m);return Zr.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const p=Array.from(w.querySelectorAll(`[${c}]`));return Array.from(y.itemMap.values()).sort((E,_)=>p.indexOf(E.ref.current)-p.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:l,ItemSlot:d},h,r]}function iD(e,t){const n=g.createContext(t),r=s=>{const{children:i,...a}=s,l=g.useMemo(()=>a,Object.values(a));return b.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function o(s){const i=g.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function Xi(e,t=[]){let n=[];function r(s,i){const a=g.createContext(i),l=n.length;n=[...n,i];const u=d=>{var p;const{scope:h,children:m,...y}=d,f=((p=h==null?void 0:h[e])==null?void 0:p[l])||a,w=g.useMemo(()=>y,Object.values(y));return b.jsx(f.Provider,{value:w,children:m})};u.displayName=s+"Provider";function c(d,h){var f;const m=((f=h==null?void 0:h[e])==null?void 0:f[l])||a,y=g.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[u,c]}const o=()=>{const s=n.map(i=>g.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return g.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,aD(o,...t)]}function aD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(s)[`__scope${u}`];return{...a,...d}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var lD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xe=lD.reduce((e,t)=>{const n=g.forwardRef((r,o)=>{const{asChild:s,...i}=r,a=s?Oi:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(a,{...i,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Ig(e,t){e&&Yi.flushSync(()=>e.dispatchEvent(t))}function qe(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function dC(e,t=globalThis==null?void 0:globalThis.document){const n=qe(e);g.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var uD="DismissableLayer",Bp="dismissableLayer.update",cD="dismissableLayer.pointerDownOutside",dD="dismissableLayer.focusOutside",Dw,fC=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mg=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=e,u=g.useContext(fC),[c,d]=g.useState(null),h=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),y=dt(t,C=>d(C)),f=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=f.indexOf(w),v=c?f.indexOf(c):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,E=v>=p,_=hD(C=>{const N=C.target,B=[...u.branches].some(M=>M.contains(N));!E||B||(o==null||o(C),i==null||i(C),C.defaultPrevented||a==null||a())},h),S=pD(C=>{const N=C.target;[...u.branches].some(M=>M.contains(N))||(s==null||s(C),i==null||i(C),C.defaultPrevented||a==null||a())},h);return dC(C=>{v===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),g.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Dw=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),jw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Dw)}},[c,h,n,u]),g.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),jw())},[c,u]),g.useEffect(()=>{const C=()=>m({});return document.addEventListener(Bp,C),()=>document.removeEventListener(Bp,C)},[]),b.jsx(xe.div,{...l,ref:y,style:{pointerEvents:x?E?"auto":"none":void 0,...e.style},onFocusCapture:re(e.onFocusCapture,S.onFocusCapture),onBlurCapture:re(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:re(e.onPointerDownCapture,_.onPointerDownCapture)})});Mg.displayName=uD;var fD="DismissableLayerBranch",hC=g.forwardRef((e,t)=>{const n=g.useContext(fC),r=g.useRef(null),o=dt(t,r);return g.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),b.jsx(xe.div,{...e,ref:o})});hC.displayName=fD;function hD(e,t=globalThis==null?void 0:globalThis.document){const n=qe(e),r=g.useRef(!1),o=g.useRef(()=>{});return g.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){pC(cD,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function pD(e,t=globalThis==null?void 0:globalThis.document){const n=qe(e),r=g.useRef(!1);return g.useEffect(()=>{const o=s=>{s.target&&!r.current&&pC(dD,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function jw(){const e=new CustomEvent(Bp);document.dispatchEvent(e)}function pC(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Ig(o,s):o.dispatchEvent(s)}var mD=Mg,gD=hC,Jt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},yD="Portal",$g=g.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,s]=g.useState(!1);Jt(()=>s(!0),[]);const i=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?j_.createPortal(b.jsx(xe.div,{...r,ref:t}),i):null});$g.displayName=yD;function vD(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var Ji=e=>{const{present:t,children:n}=e,r=wD(t),o=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),s=dt(r.ref,bD(o));return typeof n=="function"||r.isPresent?g.cloneElement(o,{ref:s}):null};Ji.displayName="Presence";function wD(e){const[t,n]=g.useState(),r=g.useRef({}),o=g.useRef(e),s=g.useRef("none"),i=e?"mounted":"unmounted",[a,l]=vD(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Cu(r.current);s.current=a==="mounted"?u:"none"},[a]),Jt(()=>{const u=r.current,c=o.current;if(c!==e){const h=s.current,m=Cu(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&h!==m?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),Jt(()=>{if(t){let u;const c=t.ownerDocument.defaultView??window,d=m=>{const f=Cu(r.current).includes(m.animationName);if(m.target===t&&f&&(l("ANIMATION_END"),!o.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=m=>{m.target===t&&(s.current=Cu(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{c.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Cu(e){return(e==null?void 0:e.animationName)||"none"}function bD(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ul({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=xD({defaultProp:t,onChange:n}),s=e!==void 0,i=s?e:r,a=qe(n),l=g.useCallback(u=>{if(s){const d=typeof u=="function"?u(e):u;d!==e&&a(d)}else o(u)},[s,e,o,a]);return[i,l]}function xD({defaultProp:e,onChange:t}){const n=g.useState(e),[r]=n,o=g.useRef(r),s=qe(t);return g.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}var ED="VisuallyHidden",Dg=g.forwardRef((e,t)=>b.jsx(xe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Dg.displayName=ED;var jg="ToastProvider",[Lg,SD,_D]=Og("Toast"),[mC,_Z]=Xi("Toast",[_D]),[CD,Md]=mC(jg),gC=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:i}=e,[a,l]=g.useState(null),[u,c]=g.useState(0),d=g.useRef(!1),h=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${jg}\`. Expected non-empty \`string\`.`),b.jsx(Lg.Provider,{scope:t,children:b.jsx(CD,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>c(m=>m+1),[]),onToastRemove:g.useCallback(()=>c(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:i})})};gC.displayName=jg;var yC="ToastViewport",ND=["F8"],Up="toast.viewportPause",zp="toast.viewportResume",vC=g.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=ND,label:o="Notifications ({hotkey})",...s}=e,i=Md(yC,n),a=SD(n),l=g.useRef(null),u=g.useRef(null),c=g.useRef(null),d=g.useRef(null),h=dt(t,d,i.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;g.useEffect(()=>{const w=p=>{var x;r.length!==0&&r.every(E=>p[E]||p.code===E)&&((x=d.current)==null||x.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),g.useEffect(()=>{const w=l.current,p=d.current;if(y&&w&&p){const v=()=>{if(!i.isClosePausedRef.current){const S=new CustomEvent(Up);p.dispatchEvent(S),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const S=new CustomEvent(zp);p.dispatchEvent(S),i.isClosePausedRef.current=!1}},E=S=>{!w.contains(S.relatedTarget)&&x()},_=()=>{w.contains(document.activeElement)||x()};return w.addEventListener("focusin",v),w.addEventListener("focusout",E),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",_),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",E),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",_),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[y,i.isClosePausedRef]);const f=g.useCallback(({tabbingDirection:w})=>{const v=a().map(x=>{const E=x.ref.current,_=[E,...FD(E)];return w==="forwards"?_:_.reverse()});return(w==="forwards"?v.reverse():v).flat()},[a]);return g.useEffect(()=>{const w=d.current;if(w){const p=v=>{var _,S,C;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const N=document.activeElement,B=v.shiftKey;if(v.target===w&&B){(_=u.current)==null||_.focus();return}const j=f({tabbingDirection:B?"backwards":"forwards"}),V=j.findIndex(A=>A===N);Qf(j.slice(V+1))?v.preventDefault():B?(S=u.current)==null||S.focus():(C=c.current)==null||C.focus()}};return w.addEventListener("keydown",p),()=>w.removeEventListener("keydown",p)}},[a,f]),b.jsxs(gD,{ref:l,role:"region","aria-label":o.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&b.jsx(Vp,{ref:u,onFocusFromOutsideViewport:()=>{const w=f({tabbingDirection:"forwards"});Qf(w)}}),b.jsx(Lg.Slot,{scope:n,children:b.jsx(xe.ol,{tabIndex:-1,...s,ref:h})}),y&&b.jsx(Vp,{ref:c,onFocusFromOutsideViewport:()=>{const w=f({tabbingDirection:"backwards"});Qf(w)}})]})});vC.displayName=yC;var wC="ToastFocusProxy",Vp=g.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,s=Md(wC,n);return b.jsx(Dg,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});Vp.displayName=wC;var $d="Toast",TD="toast.swipeStart",kD="toast.swipeMove",PD="toast.swipeCancel",RD="toast.swipeEnd",bC=g.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...i}=e,[a=!0,l]=Ul({prop:r,defaultProp:o,onChange:s});return b.jsx(Ji,{present:n||a,children:b.jsx(ID,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:qe(e.onPause),onResume:qe(e.onResume),onSwipeStart:re(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(e.onSwipeMove,u=>{const{x:c,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:re(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(e.onSwipeEnd,u=>{const{x:c,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});bC.displayName=$d;var[AD,OD]=mC($d,{onClose(){}}),ID=g.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:c,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:m,...y}=e,f=Md($d,n),[w,p]=g.useState(null),v=dt(t,A=>p(A)),x=g.useRef(null),E=g.useRef(null),_=o||f.duration,S=g.useRef(0),C=g.useRef(_),N=g.useRef(0),{onToastAdd:B,onToastRemove:M}=f,D=qe(()=>{var T;(w==null?void 0:w.contains(document.activeElement))&&((T=f.viewport)==null||T.focus()),i()}),j=g.useCallback(A=>{!A||A===1/0||(window.clearTimeout(N.current),S.current=new Date().getTime(),N.current=window.setTimeout(D,A))},[D]);g.useEffect(()=>{const A=f.viewport;if(A){const T=()=>{j(C.current),u==null||u()},k=()=>{const I=new Date().getTime()-S.current;C.current=C.current-I,window.clearTimeout(N.current),l==null||l()};return A.addEventListener(Up,k),A.addEventListener(zp,T),()=>{A.removeEventListener(Up,k),A.removeEventListener(zp,T)}}},[f.viewport,_,l,u,j]),g.useEffect(()=>{s&&!f.isClosePausedRef.current&&j(_)},[s,_,f.isClosePausedRef,j]),g.useEffect(()=>(B(),()=>M()),[B,M]);const V=g.useMemo(()=>w?TC(w):null,[w]);return f.viewport?b.jsxs(b.Fragment,{children:[V&&b.jsx(MD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),b.jsx(AD,{scope:n,onClose:D,children:Yi.createPortal(b.jsx(Lg.ItemSlot,{scope:n,children:b.jsx(mD,{asChild:!0,onEscapeKeyDown:re(a,()=>{f.isFocusedToastEscapeKeyDownRef.current||D(),f.isFocusedToastEscapeKeyDownRef.current=!1}),children:b.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":f.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:re(e.onKeyDown,A=>{A.key==="Escape"&&(a==null||a(A.nativeEvent),A.nativeEvent.defaultPrevented||(f.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:re(e.onPointerDown,A=>{A.button===0&&(x.current={x:A.clientX,y:A.clientY})}),onPointerMove:re(e.onPointerMove,A=>{if(!x.current)return;const T=A.clientX-x.current.x,k=A.clientY-x.current.y,I=!!E.current,P=["left","right"].includes(f.swipeDirection),R=["left","up"].includes(f.swipeDirection)?Math.min:Math.max,$=P?R(0,T):0,F=P?0:R(0,k),U=A.pointerType==="touch"?10:2,q={x:$,y:F},G={originalEvent:A,delta:q};I?(E.current=q,Nu(kD,d,G,{discrete:!1})):Lw(q,f.swipeDirection,U)?(E.current=q,Nu(TD,c,G,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(T)>U||Math.abs(k)>U)&&(x.current=null)}),onPointerUp:re(e.onPointerUp,A=>{const T=E.current,k=A.target;if(k.hasPointerCapture(A.pointerId)&&k.releasePointerCapture(A.pointerId),E.current=null,x.current=null,T){const I=A.currentTarget,P={originalEvent:A,delta:T};Lw(T,f.swipeDirection,f.swipeThreshold)?Nu(RD,m,P,{discrete:!0}):Nu(PD,h,P,{discrete:!0}),I.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),f.viewport)})]}):null}),MD=e=>{const{__scopeToast:t,children:n,...r}=e,o=Md($d,t),[s,i]=g.useState(!1),[a,l]=g.useState(!1);return jD(()=>i(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:b.jsx($g,{asChild:!0,children:b.jsx(Dg,{...r,children:s&&b.jsxs(b.Fragment,{children:[o.label," ",n]})})})},$D="ToastTitle",xC=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return b.jsx(xe.div,{...r,ref:t})});xC.displayName=$D;var DD="ToastDescription",EC=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return b.jsx(xe.div,{...r,ref:t})});EC.displayName=DD;var SC="ToastAction",_C=g.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?b.jsx(NC,{altText:n,asChild:!0,children:b.jsx(Fg,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${SC}\`. Expected non-empty \`string\`.`),null)});_C.displayName=SC;var CC="ToastClose",Fg=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=OD(CC,n);return b.jsx(NC,{asChild:!0,children:b.jsx(xe.button,{type:"button",...r,ref:t,onClick:re(e.onClick,o.onClose)})})});Fg.displayName=CC;var NC=g.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return b.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function TC(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),LD(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...TC(r))}}),t}function Nu(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Ig(o,s):o.dispatchEvent(s)}var Lw=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n};function jD(e=()=>{}){const t=qe(e);Jt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function LD(e){return e.nodeType===e.ELEMENT_NODE}function FD(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Qf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var BD=gC,kC=vC,PC=bC,RC=xC,AC=EC,OC=_C,IC=Fg;function MC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=MC(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function UD(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=MC(e))&&(r&&(r+=" "),r+=t);return r}const Fw=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,Bw=UD,zl=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Bw(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:s}=t,i=Object.keys(o).map(u=>{const c=n==null?void 0:n[u],d=s==null?void 0:s[u];if(c===null)return null;const h=Fw(c)||Fw(d);return o[u][h]}),a=n&&Object.entries(n).reduce((u,c)=>{let[d,h]=c;return h===void 0||(u[d]=h),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:d,className:h,...m}=c;return Object.entries(m).every(y=>{let[f,w]=y;return Array.isArray(w)?w.includes({...s,...a}[f]):{...s,...a}[f]===w})?[...u,d,h]:u},[]);return Bw(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$C=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...a},l)=>g.createElement("svg",{ref:l,...VD,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:$C("lucide",o),...a},[...i.map(([u,c])=>g.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(e,t)=>{const n=g.forwardRef(({className:r,...o},s)=>g.createElement(WD,{ref:s,iconNode:t,className:$C(`lucide-${zD(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=ht("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=ht("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=ht("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=ht("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=ht("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=ht("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=ht("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ht("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=ht("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=ht("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=ht("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=ht("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=ht("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=ht("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=ht("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=ht("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function DC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=DC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ij(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=DC(e))&&(r&&(r+=" "),r+=t);return r}const Ug="-",aj=e=>{const t=uj(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(Ug);return a[0]===""&&a.length!==1&&a.shift(),jC(a,t)||lj(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},jC=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?jC(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const s=e.join(Ug);return(i=t.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId},Uw=/^\[(.+)\]$/,lj=e=>{if(Uw.test(e)){const t=Uw.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},uj=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return dj(Object.entries(e.classGroups),n).forEach(([s,i])=>{Wp(i,r,s,t)}),r},Wp=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?t:zw(t,o);s.classGroupId=n;return}if(typeof o=="function"){if(cj(o)){Wp(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([s,i])=>{Wp(i,zw(t,s),n,r)})})},zw=(e,t)=>{let n=e;return t.split(Ug).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},cj=e=>e.isThemeGetter,dj=(e,t)=>t?e.map(([n,r])=>{const o=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[t+i,a])):s);return[n,o]}):e,fj=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return o(s,i),i},set(s,i){n.has(s)?n.set(s,i):o(s,i)}}},LC="!",hj=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],s=t.length,i=a=>{const l=[];let u=0,c=0,d;for(let w=0;w<a.length;w++){let p=a[w];if(u===0){if(p===o&&(r||a.slice(w,w+s)===t)){l.push(a.slice(c,w)),c=w+s;continue}if(p==="/"){d=w;continue}}p==="["?u++:p==="]"&&u--}const h=l.length===0?a:a.substring(c),m=h.startsWith(LC),y=m?h.substring(1):h,f=d&&d>c?d-c:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:f}};return n?a=>n({className:a,parseClassName:i}):i},pj=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},mj=e=>({cache:fj(e.cacheSize),parseClassName:hj(e),...aj(e)}),gj=/\s+/,yj=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,s=[],i=e.trim().split(gj);let a="";for(let l=i.length-1;l>=0;l-=1){const u=i[l],{modifiers:c,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let y=!!m,f=r(y?h.substring(0,m):h);if(!f){if(!y){a=u+(a.length>0?" "+a:a);continue}if(f=r(h),!f){a=u+(a.length>0?" "+a:a);continue}y=!1}const w=pj(c).join(":"),p=d?w+LC:w,v=p+f;if(s.includes(v))continue;s.push(v);const x=o(f,y);for(let E=0;E<x.length;++E){const _=x[E];s.push(p+_)}a=u+(a.length>0?" "+a:a)}return a};function vj(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=FC(t))&&(r&&(r+=" "),r+=n);return r}const FC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=FC(e[r]))&&(n&&(n+=" "),n+=t);return n};function wj(e,...t){let n,r,o,s=i;function i(l){const u=t.reduce((c,d)=>d(c),e());return n=mj(u),r=n.cache.get,o=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const c=yj(l,n);return o(l,c),c}return function(){return s(vj.apply(null,arguments))}}const Se=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},BC=/^\[(?:([a-z-]+):)?(.+)\]$/i,bj=/^\d+\/\d+$/,xj=new Set(["px","full","screen"]),Ej=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Sj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_j=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Cj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Nj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sr=e=>si(e)||xj.has(e)||bj.test(e),Lr=e=>ea(e,"length",Mj),si=e=>!!e&&!Number.isNaN(Number(e)),Yf=e=>ea(e,"number",si),ma=e=>!!e&&Number.isInteger(Number(e)),Tj=e=>e.endsWith("%")&&si(e.slice(0,-1)),ae=e=>BC.test(e),Fr=e=>Ej.test(e),kj=new Set(["length","size","percentage"]),Pj=e=>ea(e,kj,UC),Rj=e=>ea(e,"position",UC),Aj=new Set(["image","url"]),Oj=e=>ea(e,Aj,Dj),Ij=e=>ea(e,"",$j),ga=()=>!0,ea=(e,t,n)=>{const r=BC.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Mj=e=>Sj.test(e)&&!_j.test(e),UC=()=>!1,$j=e=>Cj.test(e),Dj=e=>Nj.test(e),jj=()=>{const e=Se("colors"),t=Se("spacing"),n=Se("blur"),r=Se("brightness"),o=Se("borderColor"),s=Se("borderRadius"),i=Se("borderSpacing"),a=Se("borderWidth"),l=Se("contrast"),u=Se("grayscale"),c=Se("hueRotate"),d=Se("invert"),h=Se("gap"),m=Se("gradientColorStops"),y=Se("gradientColorStopPositions"),f=Se("inset"),w=Se("margin"),p=Se("opacity"),v=Se("padding"),x=Se("saturate"),E=Se("scale"),_=Se("sepia"),S=Se("skew"),C=Se("space"),N=Se("translate"),B=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ae,t],j=()=>[ae,t],V=()=>["",sr,Lr],A=()=>["auto",si,ae],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],k=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",ae],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[si,ae];return{cacheSize:500,separator:":",theme:{colors:[ga],spacing:[sr,Lr],blur:["none","",Fr,ae],brightness:F(),borderColor:[e],borderRadius:["none","","full",Fr,ae],borderSpacing:j(),borderWidth:V(),contrast:F(),grayscale:R(),hueRotate:F(),invert:R(),gap:j(),gradientColorStops:[e],gradientColorStopPositions:[Tj,Lr],inset:D(),margin:D(),opacity:F(),padding:j(),saturate:F(),scale:F(),sepia:R(),skew:F(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",ae]}],container:["container"],columns:[{columns:[Fr]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),ae]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ma,ae]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ae]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",ma,ae]}],"grid-cols":[{"grid-cols":[ga]}],"col-start-end":[{col:["auto",{span:["full",ma,ae]},ae]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[ga]}],"row-start-end":[{row:["auto",{span:[ma,ae]},ae]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ae]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ae,t]}],"min-w":[{"min-w":[ae,t,"min","max","fit"]}],"max-w":[{"max-w":[ae,t,"none","full","min","max","fit","prose",{screen:[Fr]},Fr]}],h:[{h:[ae,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ae,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ae,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ae,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Fr,Lr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yf]}],"font-family":[{font:[ga]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ae]}],"line-clamp":[{"line-clamp":["none",si,Yf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",sr,ae]}],"list-image":[{"list-image":["none",ae]}],"list-style-type":[{list:["none","disc","decimal",ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...k(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",sr,Lr]}],"underline-offset":[{"underline-offset":["auto",sr,ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),Rj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Pj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Oj]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...k(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:k()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...k()]}],"outline-offset":[{"outline-offset":[sr,ae]}],"outline-w":[{outline:[sr,Lr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[sr,Lr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Fr,Ij]}],"shadow-color":[{shadow:[ga]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Fr,ae]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ae]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",ae]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[ma,ae]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ae]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[sr,Lr,Yf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Lj=wj(jj);function oe(...e){return Lj(ij(e))}const Fj=BD,zC=g.forwardRef(({className:e,...t},n)=>b.jsx(kC,{ref:n,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));zC.displayName=kC.displayName;const Bj=zl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),VC=g.forwardRef(({className:e,variant:t,...n},r)=>b.jsx(PC,{ref:r,className:oe(Bj({variant:t}),e),...n}));VC.displayName=PC.displayName;const Uj=g.forwardRef(({className:e,...t},n)=>b.jsx(OC,{ref:n,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Uj.displayName=OC.displayName;const WC=g.forwardRef(({className:e,...t},n)=>b.jsx(IC,{ref:n,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:b.jsx(Bg,{className:"h-4 w-4"})}));WC.displayName=IC.displayName;const HC=g.forwardRef(({className:e,...t},n)=>b.jsx(RC,{ref:n,className:oe("text-sm font-semibold",e),...t}));HC.displayName=RC.displayName;const qC=g.forwardRef(({className:e,...t},n)=>b.jsx(AC,{ref:n,className:oe("text-sm opacity-90",e),...t}));qC.displayName=AC.displayName;function zj(){const{toasts:e}=Od();return b.jsxs(Fj,{children:[e.map(function({id:t,title:n,description:r,action:o,...s}){return b.jsxs(VC,{...s,children:[b.jsxs("div",{className:"grid gap-1",children:[n&&b.jsx(HC,{children:n}),r&&b.jsx(qC,{children:r})]}),o,b.jsx(WC,{})]},t)}),b.jsx(zC,{})]})}function Vw(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function KC(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Vj(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Vw(e.outputLen),Vw(e.blockLen)}function Rc(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Wj(e,t){KC(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Xf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ZC=e=>e instanceof Uint8Array,Jf=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Dn=(e,t)=>e<<32-t|e>>>t,Hj=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Hj)throw new Error("Non little-endian hardware is not supported");function qj(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function zg(e){if(typeof e=="string"&&(e=qj(e)),!ZC(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Kj(...e){const t=new Uint8Array(e.reduce((r,o)=>r+o.length,0));let n=0;return e.forEach(r=>{if(!ZC(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}let GC=class{clone(){return this._cloneInto()}};function Zj(e){const t=r=>e().update(zg(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function QC(e=32){if(Xf&&typeof Xf.getRandomValues=="function")return Xf.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Gj(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),l=r?4:0,u=r?0:4;e.setUint32(t+l,i,r),e.setUint32(t+u,a,r)}let Qj=class extends GC{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Jf(this.buffer)}update(t){Rc(this);const{view:n,buffer:r,blockLen:o}=this;t=zg(t);const s=t.length;for(let i=0;i<s;){const a=Math.min(o-this.pos,s-i);if(a===o){const l=Jf(t);for(;o<=s-i;i+=o)this.process(l,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Rc(this),Wj(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:s}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(r,0),i=0);for(let d=i;d<o;d++)n[d]=0;Gj(r,o-8,BigInt(this.length*8),s),this.process(r,0);const a=Jf(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,c[d],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:a}=this;return t.length=o,t.pos=a,t.finished=s,t.destroyed=i,o%n&&t.buffer.set(r),t}};const Yj=(e,t,n)=>e&t^~e&n,Xj=(e,t,n)=>e&t^e&n^t&n,Jj=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Br=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ur=new Uint32Array(64);let eL=class extends Qj{constructor(){super(64,32,8,!1),this.A=Br[0]|0,this.B=Br[1]|0,this.C=Br[2]|0,this.D=Br[3]|0,this.E=Br[4]|0,this.F=Br[5]|0,this.G=Br[6]|0,this.H=Br[7]|0}get(){const{A:t,B:n,C:r,D:o,E:s,F:i,G:a,H:l}=this;return[t,n,r,o,s,i,a,l]}set(t,n,r,o,s,i,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=a|0,this.H=l|0}process(t,n){for(let d=0;d<16;d++,n+=4)Ur[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const h=Ur[d-15],m=Ur[d-2],y=Dn(h,7)^Dn(h,18)^h>>>3,f=Dn(m,17)^Dn(m,19)^m>>>10;Ur[d]=f+Ur[d-7]+y+Ur[d-16]|0}let{A:r,B:o,C:s,D:i,E:a,F:l,G:u,H:c}=this;for(let d=0;d<64;d++){const h=Dn(a,6)^Dn(a,11)^Dn(a,25),m=c+h+Yj(a,l,u)+Jj[d]+Ur[d]|0,f=(Dn(r,2)^Dn(r,13)^Dn(r,22))+Xj(r,o,s)|0;c=u,u=l,l=a,a=i+m|0,i=s,s=o,o=r,r=m+f|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,o,s,i,a,l,u,c)}roundClean(){Ur.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Hp=Zj(()=>new eL);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const YC=BigInt(0),Dd=BigInt(1),tL=BigInt(2),jd=e=>e instanceof Uint8Array,nL=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ii(e){if(!jd(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=nL[e[n]];return t}function XC(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Vg(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Mi(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const o=r*2,s=e.slice(o,o+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[r]=i}return n}function zt(e){return Vg(Ii(e))}function Wg(e){if(!jd(e))throw new Error("Uint8Array expected");return Vg(Ii(Uint8Array.from(e).reverse()))}function To(e,t){return Mi(e.toString(16).padStart(t*2,"0"))}function Hg(e,t){return To(e,t).reverse()}function rL(e){return Mi(XC(e))}function yt(e,t,n){let r;if(typeof t=="string")try{r=Mi(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(jd(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(`${e} expected ${n} bytes, got ${o}`);return r}function gs(...e){const t=new Uint8Array(e.reduce((r,o)=>r+o.length,0));let n=0;return e.forEach(r=>{if(!jd(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function oL(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function sL(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function iL(e){let t;for(t=0;e>YC;e>>=Dd,t+=1);return t}function aL(e,t){return e>>BigInt(t)&Dd}const lL=(e,t,n)=>e|(n?Dd:YC)<<BigInt(t),qg=e=>(tL<<BigInt(e-1))-Dd,eh=e=>new Uint8Array(e),Ww=e=>Uint8Array.from(e);function JC(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=eh(e),o=eh(e),s=0;const i=()=>{r.fill(1),o.fill(0),s=0},a=(...d)=>n(o,r,...d),l=(d=eh())=>{o=a(Ww([0]),d),r=a(),d.length!==0&&(o=a(Ww([1]),d),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<t;){r=a();const m=r.slice();h.push(m),d+=r.length}return gs(...h)};return(d,h)=>{i(),l(d);let m;for(;!(m=h(u()));)l();return i(),m}}const uL={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Vl(e,t,n={}){const r=(o,s,i)=>{const a=uL[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=e[o];if(!(i&&l===void 0)&&!a(l,e))throw new Error(`Invalid param ${String(o)}=${l} (${typeof l}), expected ${s}`)};for(const[o,s]of Object.entries(t))r(o,s,!1);for(const[o,s]of Object.entries(n))r(o,s,!0);return e}const cL=Object.freeze(Object.defineProperty({__proto__:null,bitGet:aL,bitLen:iL,bitMask:qg,bitSet:lL,bytesToHex:Ii,bytesToNumberBE:zt,bytesToNumberLE:Wg,concatBytes:gs,createHmacDrbg:JC,ensureBytes:yt,equalBytes:oL,hexToBytes:Mi,hexToNumber:Vg,numberToBytesBE:To,numberToBytesLE:Hg,numberToHexUnpadded:XC,numberToVarBytesBE:rL,utf8ToBytes:sL,validateObject:Vl},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Je=BigInt(0),Ue=BigInt(1),Zo=BigInt(2),dL=BigInt(3),qp=BigInt(4),Hw=BigInt(5),qw=BigInt(8);BigInt(9);BigInt(16);function st(e,t){const n=e%t;return n>=Je?n:t+n}function fL(e,t,n){if(n<=Je||t<Je)throw new Error("Expected power/modulo > 0");if(n===Ue)return Je;let r=Ue;for(;t>Je;)t&Ue&&(r=r*e%n),e=e*e%n,t>>=Ue;return r}function nn(e,t,n){let r=e;for(;t-- >Je;)r*=r,r%=n;return r}function Kp(e,t){if(e===Je||t<=Je)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=st(e,t),r=t,o=Je,s=Ue;for(;n!==Je;){const a=r/n,l=r%n,u=o-s*a;r=n,n=l,o=s,s=u}if(r!==Ue)throw new Error("invert: does not exist");return st(o,t)}function hL(e){const t=(e-Ue)/Zo;let n,r,o;for(n=e-Ue,r=0;n%Zo===Je;n/=Zo,r++);for(o=Zo;o<e&&fL(o,t,e)!==e-Ue;o++);if(r===1){const i=(e+Ue)/qp;return function(l,u){const c=l.pow(u,i);if(!l.eql(l.sqr(c),u))throw new Error("Cannot find square root");return c}}const s=(n+Ue)/Zo;return function(a,l){if(a.pow(l,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,c=a.pow(a.mul(a.ONE,o),n),d=a.pow(l,s),h=a.pow(l,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let m=1;for(let f=a.sqr(h);m<u&&!a.eql(f,a.ONE);m++)f=a.sqr(f);const y=a.pow(c,Ue<<BigInt(u-m-1));c=a.sqr(y),d=a.mul(d,y),h=a.mul(h,c),u=m}return d}}function pL(e){if(e%qp===dL){const t=(e+Ue)/qp;return function(r,o){const s=r.pow(o,t);if(!r.eql(r.sqr(s),o))throw new Error("Cannot find square root");return s}}if(e%qw===Hw){const t=(e-Hw)/qw;return function(r,o){const s=r.mul(o,Zo),i=r.pow(s,t),a=r.mul(o,i),l=r.mul(r.mul(a,Zo),i),u=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),o))throw new Error("Cannot find square root");return u}}return hL(e)}const mL=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function gL(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=mL.reduce((r,o)=>(r[o]="function",r),t);return Vl(e,n)}function yL(e,t,n){if(n<Je)throw new Error("Expected power > 0");if(n===Je)return e.ONE;if(n===Ue)return t;let r=e.ONE,o=t;for(;n>Je;)n&Ue&&(r=e.mul(r,o)),o=e.sqr(o),n>>=Ue;return r}function vL(e,t){const n=new Array(t.length),r=t.reduce((s,i,a)=>e.is0(i)?s:(n[a]=s,e.mul(s,i)),e.ONE),o=e.inv(r);return t.reduceRight((s,i,a)=>e.is0(i)?s:(n[a]=e.mul(s,n[a]),e.mul(s,i)),o),n}function eN(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function wL(e,t,n=!1,r={}){if(e<=Je)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:s}=eN(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=pL(e),a=Object.freeze({ORDER:e,BITS:o,BYTES:s,MASK:qg(o),ZERO:Je,ONE:Ue,create:l=>st(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Je<=l&&l<e},is0:l=>l===Je,isOdd:l=>(l&Ue)===Ue,neg:l=>st(-l,e),eql:(l,u)=>l===u,sqr:l=>st(l*l,e),add:(l,u)=>st(l+u,e),sub:(l,u)=>st(l-u,e),mul:(l,u)=>st(l*u,e),pow:(l,u)=>yL(a,l,u),div:(l,u)=>st(l*Kp(u,e),e),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>Kp(l,e),sqrt:r.sqrt||(l=>i(a,l)),invertBatch:l=>vL(a,l),cmov:(l,u,c)=>c?u:l,toBytes:l=>n?Hg(l,s):To(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return n?Wg(l):zt(l)}});return Object.freeze(a)}function tN(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function nN(e){const t=tN(e);return t+Math.ceil(t/2)}function bL(e,t,n=!1){const r=e.length,o=tN(t),s=nN(t);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const i=n?zt(e):Wg(e),a=st(i,t-Ue)+Ue;return n?Hg(a,o):To(a,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xL=BigInt(0),th=BigInt(1);function EL(e,t){const n=(o,s)=>{const i=s.negate();return o?i:s},r=o=>{const s=Math.ceil(t/o)+1,i=2**(o-1);return{windows:s,windowSize:i}};return{constTimeNegate:n,unsafeLadder(o,s){let i=e.ZERO,a=o;for(;s>xL;)s&th&&(i=i.add(a)),a=a.double(),s>>=th;return i},precomputeWindow(o,s){const{windows:i,windowSize:a}=r(s),l=[];let u=o,c=u;for(let d=0;d<i;d++){c=u,l.push(c);for(let h=1;h<a;h++)c=c.add(u),l.push(c);u=c.double()}return l},wNAF(o,s,i){const{windows:a,windowSize:l}=r(o);let u=e.ZERO,c=e.BASE;const d=BigInt(2**o-1),h=2**o,m=BigInt(o);for(let y=0;y<a;y++){const f=y*l;let w=Number(i&d);i>>=m,w>l&&(w-=h,i+=th);const p=f,v=f+Math.abs(w)-1,x=y%2!==0,E=w<0;w===0?c=c.add(n(x,s[p])):u=u.add(n(E,s[v]))}return{p:u,f:c}},wNAFCached(o,s,i,a){const l=o._WINDOW_SIZE||1;let u=s.get(o);return u||(u=this.precomputeWindow(o,l),l!==1&&s.set(o,a(u))),this.wNAF(l,u,i)}}}function rN(e){return gL(e.Fp),Vl(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...eN(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function SL(e){const t=rN(e);Vl(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:_L,hexToBytes:CL}=cL,es={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=es;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:_L(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=es,n=typeof e=="string"?CL(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:o,l:s}=es._parseInt(n.subarray(2)),{d:i,l:a}=es._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:i}},hexFromSig(e){const t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const c=u.toString(16);return c.length&1?`0${c}`:c},r=t(n(e.s)),o=t(n(e.r)),s=r.length/2,i=o.length/2,a=n(s),l=n(i);return`30${n(i+s+4)}02${l}${o}02${a}${r}`}},pr=BigInt(0),sn=BigInt(1);BigInt(2);const Kw=BigInt(3);BigInt(4);function NL(e){const t=SL(e),{Fp:n}=t,r=t.toBytes||((y,f,w)=>{const p=f.toAffine();return gs(Uint8Array.from([4]),n.toBytes(p.x),n.toBytes(p.y))}),o=t.fromBytes||(y=>{const f=y.subarray(1),w=n.fromBytes(f.subarray(0,n.BYTES)),p=n.fromBytes(f.subarray(n.BYTES,2*n.BYTES));return{x:w,y:p}});function s(y){const{a:f,b:w}=t,p=n.sqr(y),v=n.mul(p,y);return n.add(n.add(v,n.mul(y,f)),w)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function i(y){return typeof y=="bigint"&&pr<y&&y<t.n}function a(y){if(!i(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(y){const{allowedPrivateKeyLengths:f,nByteLength:w,wrapPrivateKey:p,n:v}=t;if(f&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=Ii(y)),typeof y!="string"||!f.includes(y.length))throw new Error("Invalid key");y=y.padStart(w*2,"0")}let x;try{x=typeof y=="bigint"?y:zt(yt("private key",y,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof y}`)}return p&&(x=st(x,v)),a(x),x}const u=new Map;function c(y){if(!(y instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(f,w,p){if(this.px=f,this.py=w,this.pz=p,f==null||!n.isValid(f))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(p==null||!n.isValid(p))throw new Error("z required")}static fromAffine(f){const{x:w,y:p}=f||{};if(!f||!n.isValid(w)||!n.isValid(p))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const v=x=>n.eql(x,n.ZERO);return v(w)&&v(p)?d.ZERO:new d(w,p,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const w=n.invertBatch(f.map(p=>p.pz));return f.map((p,v)=>p.toAffine(w[v])).map(d.fromAffine)}static fromHex(f){const w=d.fromAffine(o(yt("pointHex",f)));return w.assertValidity(),w}static fromPrivateKey(f){return d.BASE.multiply(l(f))}_setWindowSize(f){this._WINDOW_SIZE=f,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:f,y:w}=this.toAffine();if(!n.isValid(f)||!n.isValid(w))throw new Error("bad point: x or y not FE");const p=n.sqr(w),v=s(f);if(!n.eql(p,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:f}=this.toAffine();if(n.isOdd)return!n.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:w,py:p,pz:v}=this,{px:x,py:E,pz:_}=f,S=n.eql(n.mul(w,_),n.mul(x,v)),C=n.eql(n.mul(p,_),n.mul(E,v));return S&&C}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:f,b:w}=t,p=n.mul(w,Kw),{px:v,py:x,pz:E}=this;let _=n.ZERO,S=n.ZERO,C=n.ZERO,N=n.mul(v,v),B=n.mul(x,x),M=n.mul(E,E),D=n.mul(v,x);return D=n.add(D,D),C=n.mul(v,E),C=n.add(C,C),_=n.mul(f,C),S=n.mul(p,M),S=n.add(_,S),_=n.sub(B,S),S=n.add(B,S),S=n.mul(_,S),_=n.mul(D,_),C=n.mul(p,C),M=n.mul(f,M),D=n.sub(N,M),D=n.mul(f,D),D=n.add(D,C),C=n.add(N,N),N=n.add(C,N),N=n.add(N,M),N=n.mul(N,D),S=n.add(S,N),M=n.mul(x,E),M=n.add(M,M),N=n.mul(M,D),_=n.sub(_,N),C=n.mul(M,B),C=n.add(C,C),C=n.add(C,C),new d(_,S,C)}add(f){c(f);const{px:w,py:p,pz:v}=this,{px:x,py:E,pz:_}=f;let S=n.ZERO,C=n.ZERO,N=n.ZERO;const B=t.a,M=n.mul(t.b,Kw);let D=n.mul(w,x),j=n.mul(p,E),V=n.mul(v,_),A=n.add(w,p),T=n.add(x,E);A=n.mul(A,T),T=n.add(D,j),A=n.sub(A,T),T=n.add(w,v);let k=n.add(x,_);return T=n.mul(T,k),k=n.add(D,V),T=n.sub(T,k),k=n.add(p,v),S=n.add(E,_),k=n.mul(k,S),S=n.add(j,V),k=n.sub(k,S),N=n.mul(B,T),S=n.mul(M,V),N=n.add(S,N),S=n.sub(j,N),N=n.add(j,N),C=n.mul(S,N),j=n.add(D,D),j=n.add(j,D),V=n.mul(B,V),T=n.mul(M,T),j=n.add(j,V),V=n.sub(D,V),V=n.mul(B,V),T=n.add(T,V),D=n.mul(j,T),C=n.add(C,D),D=n.mul(k,T),S=n.mul(A,S),S=n.sub(S,D),D=n.mul(A,j),N=n.mul(k,N),N=n.add(N,D),new d(S,C,N)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return m.wNAFCached(this,u,f,w=>{const p=n.invertBatch(w.map(v=>v.pz));return w.map((v,x)=>v.toAffine(p[x])).map(d.fromAffine)})}multiplyUnsafe(f){const w=d.ZERO;if(f===pr)return w;if(a(f),f===sn)return this;const{endo:p}=t;if(!p)return m.unsafeLadder(this,f);let{k1neg:v,k1:x,k2neg:E,k2:_}=p.splitScalar(f),S=w,C=w,N=this;for(;x>pr||_>pr;)x&sn&&(S=S.add(N)),_&sn&&(C=C.add(N)),N=N.double(),x>>=sn,_>>=sn;return v&&(S=S.negate()),E&&(C=C.negate()),C=new d(n.mul(C.px,p.beta),C.py,C.pz),S.add(C)}multiply(f){a(f);let w=f,p,v;const{endo:x}=t;if(x){const{k1neg:E,k1:_,k2neg:S,k2:C}=x.splitScalar(w);let{p:N,f:B}=this.wNAF(_),{p:M,f:D}=this.wNAF(C);N=m.constTimeNegate(E,N),M=m.constTimeNegate(S,M),M=new d(n.mul(M.px,x.beta),M.py,M.pz),p=N.add(M),v=B.add(D)}else{const{p:E,f:_}=this.wNAF(w);p=E,v=_}return d.normalizeZ([p,v])[0]}multiplyAndAddUnsafe(f,w,p){const v=d.BASE,x=(_,S)=>S===pr||S===sn||!_.equals(v)?_.multiplyUnsafe(S):_.multiply(S),E=x(this,w).add(x(f,p));return E.is0()?void 0:E}toAffine(f){const{px:w,py:p,pz:v}=this,x=this.is0();f==null&&(f=x?n.ONE:n.inv(v));const E=n.mul(w,f),_=n.mul(p,f),S=n.mul(v,f);if(x)return{x:n.ZERO,y:n.ZERO};if(!n.eql(S,n.ONE))throw new Error("invZ was invalid");return{x:E,y:_}}isTorsionFree(){const{h:f,isTorsionFree:w}=t;if(f===sn)return!0;if(w)return w(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:w}=t;return f===sn?this:w?w(d,this):this.multiplyUnsafe(t.h)}toRawBytes(f=!0){return this.assertValidity(),r(d,this,f)}toHex(f=!0){return Ii(this.toRawBytes(f))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,m=EL(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:i}}function TL(e){const t=rN(e);return Vl(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function kL(e){const t=TL(e),{Fp:n,n:r}=t,o=n.BYTES+1,s=2*n.BYTES+1;function i(T){return pr<T&&T<n.ORDER}function a(T){return st(T,r)}function l(T){return Kp(T,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:d,isWithinCurveOrder:h}=NL({...t,toBytes(T,k,I){const P=k.toAffine(),R=n.toBytes(P.x),$=gs;return I?$(Uint8Array.from([k.hasEvenY()?2:3]),R):$(Uint8Array.from([4]),R,n.toBytes(P.y))},fromBytes(T){const k=T.length,I=T[0],P=T.subarray(1);if(k===o&&(I===2||I===3)){const R=zt(P);if(!i(R))throw new Error("Point is not on curve");const $=d(R);let F=n.sqrt($);const U=(F&sn)===sn;return(I&1)===1!==U&&(F=n.neg(F)),{x:R,y:F}}else if(k===s&&I===4){const R=n.fromBytes(P.subarray(0,n.BYTES)),$=n.fromBytes(P.subarray(n.BYTES,2*n.BYTES));return{x:R,y:$}}else throw new Error(`Point of length ${k} was invalid. Expected ${o} compressed bytes or ${s} uncompressed bytes`)}}),m=T=>Ii(To(T,t.nByteLength));function y(T){const k=r>>sn;return T>k}function f(T){return y(T)?a(-T):T}const w=(T,k,I)=>zt(T.slice(k,I));class p{constructor(k,I,P){this.r=k,this.s=I,this.recovery=P,this.assertValidity()}static fromCompact(k){const I=t.nByteLength;return k=yt("compactSignature",k,I*2),new p(w(k,0,I),w(k,I,2*I))}static fromDER(k){const{r:I,s:P}=es.toSig(yt("DER",k));return new p(I,P)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(k){return new p(this.r,this.s,k)}recoverPublicKey(k){const{r:I,s:P,recovery:R}=this,$=C(yt("msgHash",k));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const F=R===2||R===3?I+t.n:I;if(F>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const U=R&1?"03":"02",q=u.fromHex(U+m(F)),G=l(F),ye=a(-$*G),de=a(P*G),J=u.BASE.multiplyAndAddUnsafe(q,ye,de);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Mi(this.toDERHex())}toDERHex(){return es.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Mi(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const v={isValidPrivateKey(T){try{return c(T),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const T=nN(t.n);return bL(t.randomBytes(T),t.n)},precompute(T=8,k=u.BASE){return k._setWindowSize(T),k.multiply(BigInt(3)),k}};function x(T,k=!0){return u.fromPrivateKey(T).toRawBytes(k)}function E(T){const k=T instanceof Uint8Array,I=typeof T=="string",P=(k||I)&&T.length;return k?P===o||P===s:I?P===2*o||P===2*s:T instanceof u}function _(T,k,I=!0){if(E(T))throw new Error("first arg must be private key");if(!E(k))throw new Error("second arg must be public key");return u.fromHex(k).multiply(c(T)).toRawBytes(I)}const S=t.bits2int||function(T){const k=zt(T),I=T.length*8-t.nBitLength;return I>0?k>>BigInt(I):k},C=t.bits2int_modN||function(T){return a(S(T))},N=qg(t.nBitLength);function B(T){if(typeof T!="bigint")throw new Error("bigint expected");if(!(pr<=T&&T<N))throw new Error(`bigint expected < 2^${t.nBitLength}`);return To(T,t.nByteLength)}function M(T,k,I=D){if(["recovered","canonical"].some(be=>be in I))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:R}=t;let{lowS:$,prehash:F,extraEntropy:U}=I;$==null&&($=!0),T=yt("msgHash",T),F&&(T=yt("prehashed msgHash",P(T)));const q=C(T),G=c(k),ye=[B(G),B(q)];if(U!=null){const be=U===!0?R(n.BYTES):U;ye.push(yt("extraEntropy",be))}const de=gs(...ye),J=q;function Qe(be){const Ye=S(be);if(!h(Ye))return;const Mn=l(Ye),We=u.BASE.multiply(Ye).toAffine(),Ne=a(We.x);if(Ne===pr)return;const Mt=a(Mn*a(J+Ne*G));if(Mt===pr)return;let zo=(We.x===Ne?0:2)|Number(We.y&sn),Vo=Mt;return $&&y(Mt)&&(Vo=f(Mt),zo^=1),new p(Ne,Vo,zo)}return{seed:de,k2sig:Qe}}const D={lowS:t.lowS,prehash:!1},j={lowS:t.lowS,prehash:!1};function V(T,k,I=D){const{seed:P,k2sig:R}=M(T,k,I),$=t;return JC($.hash.outputLen,$.nByteLength,$.hmac)(P,R)}u.BASE._setWindowSize(8);function A(T,k,I,P=j){var We;const R=T;if(k=yt("msgHash",k),I=yt("publicKey",I),"strict"in P)throw new Error("options.strict was renamed to lowS");const{lowS:$,prehash:F}=P;let U,q;try{if(typeof R=="string"||R instanceof Uint8Array)try{U=p.fromDER(R)}catch(Ne){if(!(Ne instanceof es.Err))throw Ne;U=p.fromCompact(R)}else if(typeof R=="object"&&typeof R.r=="bigint"&&typeof R.s=="bigint"){const{r:Ne,s:Mt}=R;U=new p(Ne,Mt)}else throw new Error("PARSE");q=u.fromHex(I)}catch(Ne){if(Ne.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if($&&U.hasHighS())return!1;F&&(k=t.hash(k));const{r:G,s:ye}=U,de=C(k),J=l(ye),Qe=a(de*J),be=a(G*J),Ye=(We=u.BASE.multiplyAndAddUnsafe(q,Qe,be))==null?void 0:We.toAffine();return Ye?a(Ye.x)===G:!1}return{CURVE:t,getPublicKey:x,getSharedSecret:_,sign:V,verify:A,ProjectivePoint:u,Signature:p,utils:v}}let oN=class extends GC{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Vj(t);const r=zg(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(t){return Rc(this),this.iHash.update(t),this}digestInto(t){Rc(this),KC(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const sN=(e,t,n)=>new oN(e,t).update(n).digest();sN.create=(e,t)=>new oN(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function PL(e){return{hash:e,hmac:(t,...n)=>sN(e,t,Kj(...n)),randomBytes:QC}}function RL(e,t){const n=r=>kL({...e,...PL(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ld=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ac=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),iN=BigInt(1),Oc=BigInt(2),Zw=(e,t)=>(e+t/Oc)/t;function aN(e){const t=Ld,n=BigInt(3),r=BigInt(6),o=BigInt(11),s=BigInt(22),i=BigInt(23),a=BigInt(44),l=BigInt(88),u=e*e*e%t,c=u*u*e%t,d=nn(c,n,t)*c%t,h=nn(d,n,t)*c%t,m=nn(h,Oc,t)*u%t,y=nn(m,o,t)*m%t,f=nn(y,s,t)*y%t,w=nn(f,a,t)*f%t,p=nn(w,l,t)*w%t,v=nn(p,a,t)*f%t,x=nn(v,n,t)*c%t,E=nn(x,i,t)*y%t,_=nn(E,r,t)*u%t,S=nn(_,Oc,t);if(!Zp.eql(Zp.sqr(S),e))throw new Error("Cannot find square root");return S}const Zp=wL(Ld,void 0,void 0,{sqrt:aN}),ta=RL({a:BigInt(0),b:BigInt(7),Fp:Zp,n:Ac,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Ac,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-iN*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,i=BigInt("0x100000000000000000000000000000000"),a=Zw(s*e,t),l=Zw(-r*e,t);let u=st(e-a*n-l*o,t),c=st(-a*r-l*s,t);const d=u>i,h=c>i;if(d&&(u=t-u),h&&(c=t-c),u>i||c>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:h,k2:c}}}},Hp),Fd=BigInt(0),lN=e=>typeof e=="bigint"&&Fd<e&&e<Ld,AL=e=>typeof e=="bigint"&&Fd<e&&e<Ac,Gw={};function Ic(e,...t){let n=Gw[e];if(n===void 0){const r=Hp(Uint8Array.from(e,o=>o.charCodeAt(0)));n=gs(r,r),Gw[e]=n}return Hp(gs(n,...t))}const Kg=e=>e.toRawBytes(!0).slice(1),Gp=e=>To(e,32),nh=e=>st(e,Ld),ll=e=>st(e,Ac),Zg=ta.ProjectivePoint,OL=(e,t,n)=>Zg.BASE.multiplyAndAddUnsafe(e,t,n);function Qp(e){let t=ta.utils.normPrivateKeyToScalar(e),n=Zg.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:ll(-t),bytes:Kg(n)}}function uN(e){if(!lN(e))throw new Error("bad x: need 0 < x < p");const t=nh(e*e),n=nh(t*e+BigInt(7));let r=aN(n);r%Oc!==Fd&&(r=nh(-r));const o=new Zg(e,r,iN);return o.assertValidity(),o}function cN(...e){return ll(zt(Ic("BIP0340/challenge",...e)))}function IL(e){return Qp(e).bytes}function ML(e,t,n=QC(32)){const r=yt("message",e),{bytes:o,scalar:s}=Qp(t),i=yt("auxRand",n,32),a=Gp(s^zt(Ic("BIP0340/aux",i))),l=Ic("BIP0340/nonce",a,o,r),u=ll(zt(l));if(u===Fd)throw new Error("sign failed: k is zero");const{bytes:c,scalar:d}=Qp(u),h=cN(c,o,r),m=new Uint8Array(64);if(m.set(c,0),m.set(Gp(ll(d+h*s)),32),!dN(m,r,o))throw new Error("sign: Invalid signature produced");return m}function dN(e,t,n){const r=yt("signature",e,64),o=yt("message",t),s=yt("publicKey",n,32);try{const i=uN(zt(s)),a=zt(r.subarray(0,32));if(!lN(a))return!1;const l=zt(r.subarray(32,64));if(!AL(l))return!1;const u=cN(Gp(a),Kg(i),o),c=OL(i,l,ll(-u));return!(!c||!c.hasEvenY()||c.toAffine().x!==a)}catch{return!1}}const ya={getPublicKey:IL,sign:ML,verify:dN,utils:{randomPrivateKey:ta.utils.randomPrivateKey,lift_x:uN,pointToBytes:Kg,numberToBytesBE:To,bytesToNumberBE:zt,taggedHash:Ic,mod:st}},rh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gg=e=>e instanceof Uint8Array,oh=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),jn=(e,t)=>e<<32-t|e>>>t,$L=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!$L)throw new Error("Non little-endian hardware is not supported");const DL=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Tt(e){if(!Gg(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=DL[e[n]];return t}function $i(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const o=r*2,s=e.slice(o,o+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[r]=i}return n}function jL(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function ul(e){if(typeof e=="string"&&(e=jL(e)),!Gg(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Bd(...e){const t=new Uint8Array(e.reduce((r,o)=>r+o.length,0));let n=0;return e.forEach(r=>{if(!Gg(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class fN{clone(){return this._cloneInto()}}function hN(e){const t=r=>e().update(ul(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function pN(e=32){if(rh&&typeof rh.getRandomValues=="function")return rh.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Yp(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function LL(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function mN(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function FL(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Yp(e.outputLen),Yp(e.blockLen)}function BL(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function UL(e,t){mN(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Wn={number:Yp,bool:LL,bytes:mN,hash:FL,exists:BL,output:UL};function zL(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),l=r?4:0,u=r?0:4;e.setUint32(t+l,i,r),e.setUint32(t+u,a,r)}class VL extends fN{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=oh(this.buffer)}update(t){Wn.exists(this);const{view:n,buffer:r,blockLen:o}=this;t=ul(t);const s=t.length;for(let i=0;i<s;){const a=Math.min(o-this.pos,s-i);if(a===o){const l=oh(t);for(;o<=s-i;i+=o)this.process(l,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Wn.exists(this),Wn.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:s}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(r,0),i=0);for(let d=i;d<o;d++)n[d]=0;zL(r,o-8,BigInt(this.length*8),s),this.process(r,0);const a=oh(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,c[d],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:a}=this;return t.length=o,t.pos=a,t.finished=s,t.destroyed=i,o%n&&t.buffer.set(r),t}}const WL=(e,t,n)=>e&t^~e&n,HL=(e,t,n)=>e&t^e&n^t&n,qL=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vr=new Uint32Array(64);class gN extends VL{constructor(){super(64,32,8,!1),this.A=zr[0]|0,this.B=zr[1]|0,this.C=zr[2]|0,this.D=zr[3]|0,this.E=zr[4]|0,this.F=zr[5]|0,this.G=zr[6]|0,this.H=zr[7]|0}get(){const{A:t,B:n,C:r,D:o,E:s,F:i,G:a,H:l}=this;return[t,n,r,o,s,i,a,l]}set(t,n,r,o,s,i,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=a|0,this.H=l|0}process(t,n){for(let d=0;d<16;d++,n+=4)Vr[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const h=Vr[d-15],m=Vr[d-2],y=jn(h,7)^jn(h,18)^h>>>3,f=jn(m,17)^jn(m,19)^m>>>10;Vr[d]=f+Vr[d-7]+y+Vr[d-16]|0}let{A:r,B:o,C:s,D:i,E:a,F:l,G:u,H:c}=this;for(let d=0;d<64;d++){const h=jn(a,6)^jn(a,11)^jn(a,25),m=c+h+WL(a,l,u)+qL[d]+Vr[d]|0,f=(jn(r,2)^jn(r,13)^jn(r,22))+HL(r,o,s)|0;c=u,u=l,l=a,a=i+m|0,i=s,s=o,o=r,r=m+f|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,o,s,i,a,l,u,c)}roundClean(){Vr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class KL extends gN{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const na=hN(()=>new gN);hN(()=>new KL);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ra(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Ar(...e){const t=(o,s)=>i=>o(s(i)),n=Array.from(e).reverse().reduce((o,s)=>o?t(o,s.encode):s.encode,void 0),r=e.reduce((o,s)=>o?t(o,s.decode):s.decode,void 0);return{encode:n,decode:r}}function Or(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(ra(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function Ir(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function Ud(e,t="="){if(ra(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let o of n)if(typeof o!="string")throw new Error(`padding.decode: non-string input=${o}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function yN(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function Qw(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const o=[],s=Array.from(e);for(s.forEach(i=>{if(ra(i),i<0||i>=t)throw new Error(`Wrong integer: ${i}`)});;){let i=0,a=!0;for(let l=r;l<s.length;l++){const u=s[l],c=t*i+u;if(!Number.isSafeInteger(c)||t*i/t!==i||c-u!==t*i)throw new Error("convertRadix: carry overflow");if(i=c%n,s[l]=Math.floor(c/n),!Number.isSafeInteger(s[l])||s[l]*n+i!==c)throw new Error("convertRadix: carry overflow");if(a)s[l]?a=!1:r=l;else continue}if(o.push(i),a)break}for(let i=0;i<e.length-1&&e[i]===0;i++)o.push(0);return o.reverse()}const vN=(e,t)=>t?vN(t,e%t):e,Mc=(e,t)=>e+(t-vN(e,t));function Xp(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Mc(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Mc(t,n)}`);let o=0,s=0;const i=2**n-1,a=[];for(const l of e){if(ra(l),l>=2**t)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(o=o<<t|l,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=n;s-=n)a.push((o>>s-n&i)>>>0);o&=2**s-1}if(o=o<<n-s&i,!r&&s>=t)throw new Error("Excess padding");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&s>0&&a.push(o>>>0),a}function ZL(e){return ra(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Qw(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Qw(t,e,2**8))}}}function Bo(e,t=!1){if(ra(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Mc(8,e)>32||Mc(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Xp(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Xp(n,e,8,t))}}}function Yw(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const GL=Ar(Bo(4),Or("0123456789ABCDEF"),Ir("")),QL=Ar(Bo(5),Or("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Ud(5),Ir(""));Ar(Bo(5),Or("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Ud(5),Ir(""));Ar(Bo(5),Or("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Ir(""),yN(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Nr=Ar(Bo(6),Or("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Ud(6),Ir("")),YL=Ar(Bo(6),Or("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Ud(6),Ir("")),Qg=e=>Ar(ZL(58),Or(e),Ir("")),Jp=Qg("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Qg("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Qg("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Xw=[0,2,3,5,6,7,9,10,11],XL={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=Jp.encode(r).padStart(Xw[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),o=Xw.indexOf(r.length),s=Jp.decode(r);for(let i=0;i<s.length-o;i++)if(s[i]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(s.slice(s.length-o)))}return Uint8Array.from(t)}},em=Ar(Or("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Ir("")),Jw=[996825010,642813549,513874426,1027748829,705979059];function va(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<Jw.length;r++)(t>>r&1)===1&&(n^=Jw[r]);return n}function e0(e,t,n=1){const r=e.length;let o=1;for(let s=0;s<r;s++){const i=e.charCodeAt(s);if(i<33||i>126)throw new Error(`Invalid prefix (${e})`);o=va(o)^i>>5}o=va(o);for(let s=0;s<r;s++)o=va(o)^e.charCodeAt(s)&31;for(let s of t)o=va(o)^s;for(let s=0;s<6;s++)o=va(o);return o^=n,em.encode(Xp([o%2**30],30,5,!1))}function wN(e){const t=e==="bech32"?1:734539939,n=Bo(5),r=n.decode,o=n.encode,s=Yw(r);function i(c,d,h=90){if(typeof c!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof c}`);if(!Array.isArray(d)||d.length&&typeof d[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof d}`);const m=c.length+7+d.length;if(h!==!1&&m>h)throw new TypeError(`Length ${m} exceeds limit ${h}`);return c=c.toLowerCase(),`${c}1${em.encode(d)}${e0(c,d,t)}`}function a(c,d=90){if(typeof c!="string")throw new Error(`bech32.decode input should be string, not ${typeof c}`);if(c.length<8||d!==!1&&c.length>d)throw new TypeError(`Wrong string length: ${c.length} (${c}). Expected (8..${d})`);const h=c.toLowerCase();if(c!==h&&c!==c.toUpperCase())throw new Error("String must be lowercase or uppercase");c=h;const m=c.lastIndexOf("1");if(m===0||m===-1)throw new Error('Letter "1" must be present between prefix and data only');const y=c.slice(0,m),f=c.slice(m+1);if(f.length<6)throw new Error("Data must be at least 6 characters long");const w=em.decode(f).slice(0,-6),p=e0(y,w,t);if(!f.endsWith(p))throw new Error(`Invalid checksum in ${c}: expected "${p}"`);return{prefix:y,words:w}}const l=Yw(a);function u(c){const{prefix:d,words:h}=a(c,!1);return{prefix:d,words:h,bytes:r(h)}}return{encode:i,decode:a,decodeToBytes:u,decodeUnsafe:l,fromWords:r,fromWordsUnsafe:s,toWords:o}}const Di=wN("bech32");wN("bech32m");const JL={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},e4=Ar(Bo(4),Or("0123456789abcdef"),Ir(""),yN(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),t4={utf8:JL,hex:e4,base16:GL,base32:QL,base64:Nr,base64url:YL,base58:Jp,base58xmr:XL};`${Object.keys(t4).join(", ")}`;function sh(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function t0(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function n4(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function vr(e,...t){if(!n4(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const xt=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),r4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!r4)throw new Error("Non little-endian hardware is not supported");function o4(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function s4(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const i4=(e,t)=>(Object.assign(t,e),t),Eo=16,a4=283;function Yg(e){return e<<1^a4&-(e>>7)}function Ys(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=Yg(e);return n}const tm=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=Yg(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),l4=tm.map((e,t)=>tm.indexOf(t)),u4=e=>e<<24|e>>>8,ih=e=>e<<8|e>>>24;function bN(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((u,c)=>t(e[c])),r=n.map(ih),o=r.map(ih),s=o.map(ih),i=new Uint32Array(256*256),a=new Uint32Array(256*256),l=new Uint16Array(256*256);for(let u=0;u<256;u++)for(let c=0;c<256;c++){const d=u*256+c;i[d]=n[u]^r[c],a[d]=o[u]^s[c],l[d]=e[u]<<8|e[c]}return{sbox:e,sbox2:l,T0:n,T1:r,T2:o,T3:s,T01:i,T23:a}}const Xg=bN(tm,e=>Ys(e,3)<<24|e<<16|e<<8|Ys(e,2)),xN=bN(l4,e=>Ys(e,11)<<24|Ys(e,13)<<16|Ys(e,9)<<8|Ys(e,14)),c4=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=Yg(n))e[t]=n;return e})();function EN(e){vr(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=Xg,r=xt(e),o=r.length,s=a=>Hn(n,a,a,a,a),i=new Uint32Array(t+28);i.set(r);for(let a=o;a<i.length;a++){let l=i[a-1];a%o===0?l=s(u4(l))^c4[a/o-1]:o>6&&a%o===4&&(l=s(l)),i[a]=i[a-o]^l}return i}function d4(e){const t=EN(e),n=t.slice(),r=t.length,{sbox2:o}=Xg,{T0:s,T1:i,T2:a,T3:l}=xN;for(let u=0;u<r;u+=4)for(let c=0;c<4;c++)n[u+c]=t[r-u-4+c];t.fill(0);for(let u=4;u<r-4;u++){const c=n[u],d=Hn(o,c,c,c,c);n[u]=s[d&255]^i[d>>>8&255]^a[d>>>16&255]^l[d>>>24]}return n}function ho(e,t,n,r,o,s){return e[n<<8&65280|r>>>8&255]^t[o>>>8&65280|s>>>24&255]}function Hn(e,t,n,r,o){return e[t&255|n&65280]|e[r>>>16&255|o>>>16&65280]<<16}function n0(e,t,n,r,o){const{sbox2:s,T01:i,T23:a}=Xg;let l=0;t^=e[l++],n^=e[l++],r^=e[l++],o^=e[l++];const u=e.length/4-2;for(let y=0;y<u;y++){const f=e[l++]^ho(i,a,t,n,r,o),w=e[l++]^ho(i,a,n,r,o,t),p=e[l++]^ho(i,a,r,o,t,n),v=e[l++]^ho(i,a,o,t,n,r);t=f,n=w,r=p,o=v}const c=e[l++]^Hn(s,t,n,r,o),d=e[l++]^Hn(s,n,r,o,t),h=e[l++]^Hn(s,r,o,t,n),m=e[l++]^Hn(s,o,t,n,r);return{s0:c,s1:d,s2:h,s3:m}}function f4(e,t,n,r,o){const{sbox2:s,T01:i,T23:a}=xN;let l=0;t^=e[l++],n^=e[l++],r^=e[l++],o^=e[l++];const u=e.length/4-2;for(let y=0;y<u;y++){const f=e[l++]^ho(i,a,t,o,r,n),w=e[l++]^ho(i,a,n,t,o,r),p=e[l++]^ho(i,a,r,n,t,o),v=e[l++]^ho(i,a,o,r,n,t);t=f,n=w,r=p,o=v}const c=e[l++]^Hn(s,t,o,r,n),d=e[l++]^Hn(s,n,t,o,r),h=e[l++]^Hn(s,r,n,t,o),m=e[l++]^Hn(s,o,r,n,t);return{s0:c,s1:d,s2:h,s3:m}}function SN(e,t){if(!t)return new Uint8Array(e);if(vr(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function h4(e){if(vr(e),e.length%Eo!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${Eo}`)}function p4(e,t,n){let r=e.length;const o=r%Eo;if(!t&&o!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const s=xt(e);if(t){let l=Eo-o;l||(l=Eo),r=r+l}const i=SN(r,n),a=xt(i);return{b:s,o:a,out:i}}function m4(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const o=e.subarray(0,-r);for(let s=0;s<r;s++)if(e[n-s-1]!==r)throw new Error("aes/pcks5: wrong padding");return o}function g4(e){const t=new Uint8Array(16),n=xt(t);t.set(e);const r=Eo-e.length;for(let o=Eo-r;o<Eo;o++)t[o]=r;return n}const _N=i4({blockSize:16,nonceLength:16},function(t,n,r={}){vr(t),vr(n,16);const o=!r.disablePadding;return{encrypt:(s,i)=>{const a=EN(t),{b:l,o:u,out:c}=p4(s,o,i),d=xt(n);let h=d[0],m=d[1],y=d[2],f=d[3],w=0;for(;w+4<=l.length;)h^=l[w+0],m^=l[w+1],y^=l[w+2],f^=l[w+3],{s0:h,s1:m,s2:y,s3:f}=n0(a,h,m,y,f),u[w++]=h,u[w++]=m,u[w++]=y,u[w++]=f;if(o){const p=g4(s.subarray(w*4));h^=p[0],m^=p[1],y^=p[2],f^=p[3],{s0:h,s1:m,s2:y,s3:f}=n0(a,h,m,y,f),u[w++]=h,u[w++]=m,u[w++]=y,u[w++]=f}return a.fill(0),c},decrypt:(s,i)=>{h4(s);const a=d4(t),l=xt(n),u=SN(s.length,i),c=xt(s),d=xt(u);let h=l[0],m=l[1],y=l[2],f=l[3];for(let w=0;w+4<=c.length;){const p=h,v=m,x=y,E=f;h=c[w+0],m=c[w+1],y=c[w+2],f=c[w+3];const{s0:_,s1:S,s2:C,s3:N}=f4(a,h,m,y,f);d[w++]=_^p,d[w++]=S^v,d[w++]=C^x,d[w++]=N^E}return a.fill(0),m4(u,o)}}}),CN=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),y4=CN("expand 16-byte k"),v4=CN("expand 32-byte k"),w4=xt(y4),NN=xt(v4);NN.slice();function ge(e,t){return e<<t|e>>>32-t}function nm(e){return e.byteOffset%4===0}const Tu=64,b4=16,TN=2**32-1,r0=new Uint32Array;function x4(e,t,n,r,o,s,i,a){const l=o.length,u=new Uint8Array(Tu),c=xt(u),d=nm(o)&&nm(s),h=d?xt(o):r0,m=d?xt(s):r0;for(let y=0;y<l;i++){if(e(t,n,r,c,i,a),i>=TN)throw new Error("arx: counter overflow");const f=Math.min(Tu,l-y);if(d&&f===Tu){const w=y/4;if(y%4!==0)throw new Error("arx: invalid block position");for(let p=0,v;p<b4;p++)v=w+p,m[v]=h[v]^c[p];y+=Tu;continue}for(let w=0,p;w<f;w++)p=y+w,s[p]=o[p]^u[w];y+=f}}function E4(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:s,rounds:i}=o4({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return sh(o),sh(i),t0(s),t0(n),(a,l,u,c,d=0)=>{vr(a),vr(l),vr(u);const h=u.length;if(c||(c=new Uint8Array(h)),vr(c),sh(d),d<0||d>=TN)throw new Error("arx: counter overflow");if(c.length<h)throw new Error(`arx: output (${c.length}) is shorter than data (${h})`);const m=[];let y=a.length,f,w;if(y===32)f=a.slice(),m.push(f),w=NN;else if(y===16&&n)f=new Uint8Array(32),f.set(a),f.set(a,16),w=w4,m.push(f);else throw new Error(`arx: invalid 32-byte key, got length=${y}`);nm(l)||(l=l.slice(),m.push(l));const p=xt(f);if(r){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(w,p,xt(l.subarray(0,16)),p),l=l.subarray(16)}const v=16-o;if(v!==l.length)throw new Error(`arx: nonce must be ${v} or 16 bytes`);if(v!==12){const E=new Uint8Array(12);E.set(l,s?0:12-l.length),l=E,m.push(l)}const x=xt(l);for(x4(e,w,p,x,u,c,d,i);m.length>0;)m.pop().fill(0);return c}}function S4(e,t,n,r,o,s=20){let i=e[0],a=e[1],l=e[2],u=e[3],c=t[0],d=t[1],h=t[2],m=t[3],y=t[4],f=t[5],w=t[6],p=t[7],v=o,x=n[0],E=n[1],_=n[2],S=i,C=a,N=l,B=u,M=c,D=d,j=h,V=m,A=y,T=f,k=w,I=p,P=v,R=x,$=E,F=_;for(let q=0;q<s;q+=2)S=S+M|0,P=ge(P^S,16),A=A+P|0,M=ge(M^A,12),S=S+M|0,P=ge(P^S,8),A=A+P|0,M=ge(M^A,7),C=C+D|0,R=ge(R^C,16),T=T+R|0,D=ge(D^T,12),C=C+D|0,R=ge(R^C,8),T=T+R|0,D=ge(D^T,7),N=N+j|0,$=ge($^N,16),k=k+$|0,j=ge(j^k,12),N=N+j|0,$=ge($^N,8),k=k+$|0,j=ge(j^k,7),B=B+V|0,F=ge(F^B,16),I=I+F|0,V=ge(V^I,12),B=B+V|0,F=ge(F^B,8),I=I+F|0,V=ge(V^I,7),S=S+D|0,F=ge(F^S,16),k=k+F|0,D=ge(D^k,12),S=S+D|0,F=ge(F^S,8),k=k+F|0,D=ge(D^k,7),C=C+j|0,P=ge(P^C,16),I=I+P|0,j=ge(j^I,12),C=C+j|0,P=ge(P^C,8),I=I+P|0,j=ge(j^I,7),N=N+V|0,R=ge(R^N,16),A=A+R|0,V=ge(V^A,12),N=N+V|0,R=ge(R^N,8),A=A+R|0,V=ge(V^A,7),B=B+M|0,$=ge($^B,16),T=T+$|0,M=ge(M^T,12),B=B+M|0,$=ge($^B,8),T=T+$|0,M=ge(M^T,7);let U=0;r[U++]=i+S|0,r[U++]=a+C|0,r[U++]=l+N|0,r[U++]=u+B|0,r[U++]=c+M|0,r[U++]=d+D|0,r[U++]=h+j|0,r[U++]=m+V|0,r[U++]=y+A|0,r[U++]=f+T|0,r[U++]=w+k|0,r[U++]=p+I|0,r[U++]=v+P|0,r[U++]=x+R|0,r[U++]=E+$|0,r[U++]=_+F|0}const kN=E4(S4,{counterRight:!1,counterLength:4,allowShortKeys:!1});class PN extends fN{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Wn.hash(t);const r=ul(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(t){return Wn.exists(this),this.iHash.update(t),this}digestInto(t){Wn.exists(this),Wn.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const zd=(e,t,n)=>new PN(e,t).update(n).digest();zd.create=(e,t)=>new PN(e,t);function _4(e,t,n){return Wn.hash(e),zd(e,ul(n),ul(t))}const ah=new Uint8Array([0]),o0=new Uint8Array;function C4(e,t,n,r=32){if(Wn.hash(e),Wn.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(r/e.outputLen);n===void 0&&(n=o0);const s=new Uint8Array(o*e.outputLen),i=zd.create(e,t),a=i._cloneInto(),l=new Uint8Array(i.outputLen);for(let u=0;u<o;u++)ah[0]=u+1,a.update(u===0?o0:l).update(n).update(ah).digestInto(l),s.set(l,e.outputLen*u),i._cloneInto(a);return i.destroy(),a.destroy(),l.fill(0),ah.fill(0),s.slice(0,r)}var N4=Object.defineProperty,De=(e,t)=>{for(var n in t)N4(e,n,{get:t[n],enumerable:!0})},Rs=Symbol("verified"),T4=e=>e instanceof Object;function Jg(e){if(!T4(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}var k4={};De(k4,{Queue:()=>O4,QueueNode:()=>RN,binarySearch:()=>ey,insertEventIntoAscendingList:()=>A4,insertEventIntoDescendingList:()=>R4,normalizeURL:()=>P4,utf8Decoder:()=>wr,utf8Encoder:()=>kn});var wr=new TextDecoder("utf-8"),kn=new TextEncoder;function P4(e){e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function R4(e,t){const[n,r]=ey(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:o.created_at-t.created_at);return r||e.splice(n,0,t),e}function A4(e,t){const[n,r]=ey(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:t.created_at-o.created_at);return r||e.splice(n,0,t),e}function ey(e,t){let n=0,r=e.length-1;for(;n<=r;){const o=Math.floor((n+r)/2),s=t(e[o]);if(s===0)return[o,!0];s<0?r=o-1:n=o+1}return[n,!1]}var RN=class{constructor(e){O(this,"value");O(this,"next",null);O(this,"prev",null);this.value=e}},O4=class{constructor(){O(this,"first");O(this,"last");this.first=null,this.last=null}enqueue(e){const t=new RN(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,e.value}},I4=class{generateSecretKey(){return ya.utils.randomPrivateKey()}getPublicKey(e){return Tt(ya.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=Tt(ya.getPublicKey(t)),n.id=tc(n),n.sig=Tt(ya.sign(tc(n),t)),n[Rs]=!0,n}verifyEvent(e){if(typeof e[Rs]=="boolean")return e[Rs];const t=tc(e);if(t!==e.id)return e[Rs]=!1,!1;try{const n=ya.verify(e.sig,t,e.pubkey);return e[Rs]=n,n}catch{return e[Rs]=!1,!1}}};function M4(e){if(!Jg(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function tc(e){let t=na(kn.encode(M4(e)));return Tt(t)}var Vd=new I4,$4=Vd.generateSecretKey,ty=Vd.getPublicKey,nr=Vd.finalizeEvent,ny=Vd.verifyEvent,D4={};De(D4,{Application:()=>L8,BadgeAward:()=>H4,BadgeDefinition:()=>A8,BlockedRelaysList:()=>m8,BookmarkList:()=>f8,Bookmarksets:()=>k8,Calendar:()=>H8,CalendarEventRSVP:()=>q8,ChannelCreation:()=>DN,ChannelHideMessage:()=>FN,ChannelMessage:()=>LN,ChannelMetadata:()=>jN,ChannelMuteUser:()=>BN,ClassifiedListing:()=>U8,ClientAuth:()=>zN,CommunitiesList:()=>h8,CommunityDefinition:()=>G8,CommunityPostApproval:()=>t8,Contacts:()=>z4,CreateOrUpdateProduct:()=>M8,CreateOrUpdateStall:()=>I8,Curationsets:()=>P8,Date:()=>V8,DirectMessageRelaysList:()=>w8,DraftClassifiedListing:()=>z8,DraftLong:()=>D8,Emojisets:()=>j8,EncryptedDirectMessage:()=>V4,EventDeletion:()=>W4,FileMetadata:()=>G4,FileServerPreference:()=>b8,Followsets:()=>C8,GenericRepost:()=>K4,Genericlists:()=>N8,GiftWrap:()=>UN,HTTPAuth:()=>sy,Handlerinformation:()=>Z8,Handlerrecommendation:()=>K8,Highlights:()=>l8,InterestsList:()=>y8,Interestsets:()=>O8,JobFeedback:()=>o8,JobRequest:()=>n8,JobResult:()=>r8,Label:()=>e8,LightningPubRPC:()=>E8,LiveChatMessage:()=>Q4,LiveEvent:()=>F8,LongFormArticle:()=>$8,Metadata:()=>F4,Mutelist:()=>u8,NWCWalletInfo:()=>x8,NWCWalletRequest:()=>VN,NWCWalletResponse:()=>S8,NostrConnect:()=>_8,OpenTimestamps:()=>Z4,Pinlist:()=>c8,PrivateDirectMessage:()=>q4,ProblemTracker:()=>Y4,ProfileBadges:()=>R8,PublicChatsList:()=>p8,Reaction:()=>oy,RecommendRelay:()=>U4,RelayList:()=>d8,Relaysets:()=>T8,Report:()=>X4,Reporting:()=>J4,Repost:()=>ry,Seal:()=>$N,SearchRelaysList:()=>g8,ShortTextNote:()=>B4,Time:()=>W8,UserEmojiList:()=>v8,UserStatuses:()=>B8,Zap:()=>a8,ZapGoal:()=>s8,ZapRequest:()=>i8,classifyKind:()=>j4,isEphemeralKind:()=>IN,isKind:()=>L4,isParameterizedReplaceableKind:()=>MN,isRegularKind:()=>AN,isReplaceableKind:()=>ON});function AN(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function ON(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function IN(e){return 2e4<=e&&e<3e4}function MN(e){return 3e4<=e&&e<4e4}function j4(e){return AN(e)?"regular":ON(e)?"replaceable":IN(e)?"ephemeral":MN(e)?"parameterized":"unknown"}function L4(e,t){const n=t instanceof Array?t:[t];return Jg(e)&&n.includes(e.kind)||!1}var F4=0,B4=1,U4=2,z4=3,V4=4,W4=5,ry=6,oy=7,H4=8,$N=13,q4=14,K4=16,DN=40,jN=41,LN=42,FN=43,BN=44,Z4=1040,UN=1059,G4=1063,Q4=1311,Y4=1971,X4=1984,J4=1984,e8=1985,t8=4550,n8=5999,r8=6999,o8=7e3,s8=9041,i8=9734,a8=9735,l8=9802,u8=1e4,c8=10001,d8=10002,f8=10003,h8=10004,p8=10005,m8=10006,g8=10007,y8=10015,v8=10030,w8=10050,b8=10096,x8=13194,E8=21e3,zN=22242,VN=23194,S8=23195,_8=24133,sy=27235,C8=3e4,N8=30001,T8=30002,k8=30003,P8=30004,R8=30008,A8=30009,O8=30015,I8=30017,M8=30018,$8=30023,D8=30024,j8=30030,L8=30078,F8=30311,B8=30315,U8=30402,z8=30403,V8=31922,W8=31923,H8=31924,q8=31925,K8=31989,Z8=31990,G8=34550,Q8={};De(Q8,{getHex64:()=>iy,getInt:()=>WN,getSubscriptionId:()=>Y8,matchEventId:()=>X8,matchEventKind:()=>eF,matchEventPubkey:()=>J8});function iy(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,o=e.slice(r).indexOf('"')+r+1;return e.slice(o,o+64)}function WN(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,o=e.slice(r),s=Math.min(o.indexOf(","),o.indexOf("}"));return parseInt(o.slice(0,s),10)}function Y8(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,o=e.slice(r+1,80).indexOf('"');if(o===-1)return null;let s=r+1+o;return e.slice(r+1,s)}function X8(e,t){return t===iy(e,"id")}function J8(e,t){return t===iy(e,"pubkey")}function eF(e,t){return t===WN(e,"kind")}var tF={};De(tF,{makeAuthEvent:()=>nF});function nF(e,t){return{kind:zN,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}var rF;try{rF=WebSocket}catch{}var oF;try{oF=WebSocket}catch{}var sF={};De(sF,{BECH32_REGEX:()=>HN,Bech32MaxSize:()=>ay,NostrTypeGuard:()=>iF,decode:()=>Wd,encodeBytes:()=>qd,naddrEncode:()=>hF,neventEncode:()=>fF,noteEncode:()=>cF,nprofileEncode:()=>dF,npubEncode:()=>uF,nsecEncode:()=>lF});var iF={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},ay=5e3,HN=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function aF(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function Wd(e){var o,s,i,a,l,u,c;let{prefix:t,words:n}=Di.decode(e,ay),r=new Uint8Array(Di.fromWords(n));switch(t){case"nprofile":{let d=lh(r);if(!((o=d[0])!=null&&o[0]))throw new Error("missing TLV 0 for nprofile");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Tt(d[0][0]),relays:d[1]?d[1].map(h=>wr.decode(h)):[]}}}case"nevent":{let d=lh(r);if(!((s=d[0])!=null&&s[0]))throw new Error("missing TLV 0 for nevent");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(d[2]&&d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(d[3]&&d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Tt(d[0][0]),relays:d[1]?d[1].map(h=>wr.decode(h)):[],author:(i=d[2])!=null&&i[0]?Tt(d[2][0]):void 0,kind:(a=d[3])!=null&&a[0]?parseInt(Tt(d[3][0]),16):void 0}}}case"naddr":{let d=lh(r);if(!((l=d[0])!=null&&l[0]))throw new Error("missing TLV 0 for naddr");if(!((u=d[2])!=null&&u[0]))throw new Error("missing TLV 2 for naddr");if(d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((c=d[3])!=null&&c[0]))throw new Error("missing TLV 3 for naddr");if(d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:wr.decode(d[0][0]),pubkey:Tt(d[2][0]),kind:parseInt(Tt(d[3][0]),16),relays:d[1]?d[1].map(h=>wr.decode(h)):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:Tt(r)};default:throw new Error(`unknown prefix ${t}`)}}function lh(e){let t={},n=e;for(;n.length>0;){let r=n[0],o=n[1],s=n.slice(2,2+o);if(n=n.slice(2+o),s.length<o)throw new Error(`not enough data to read on TLV ${r}`);t[r]=t[r]||[],t[r].push(s)}return t}function lF(e){return qd("nsec",e)}function uF(e){return qd("npub",$i(e))}function cF(e){return qd("note",$i(e))}function Hd(e,t){let n=Di.toWords(t);return Di.encode(e,n,ay)}function qd(e,t){return Hd(e,t)}function dF(e){let t=ly({0:[$i(e.pubkey)],1:(e.relays||[]).map(n=>kn.encode(n))});return Hd("nprofile",t)}function fF(e){let t;e.kind!==void 0&&(t=aF(e.kind));let n=ly({0:[$i(e.id)],1:(e.relays||[]).map(r=>kn.encode(r)),2:e.author?[$i(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Hd("nevent",n)}function hF(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=ly({0:[kn.encode(e.identifier)],1:(e.relays||[]).map(r=>kn.encode(r)),2:[$i(e.pubkey)],3:[new Uint8Array(t)]});return Hd("naddr",n)}function ly(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(o=>{let s=new Uint8Array(o.length+2);s.set([parseInt(n)],0),s.set([o.length],1),s.set(o,2),t.push(s)})}),Bd(...t)}var pF={};De(pF,{decrypt:()=>mF,encrypt:()=>qN});async function qN(e,t,n){const r=e instanceof Uint8Array?Tt(e):e,o=ta.getSharedSecret(r,"02"+t),s=KN(o);let i=Uint8Array.from(pN(16)),a=kn.encode(n),l=_N(s,i).encrypt(a),u=Nr.encode(new Uint8Array(l)),c=Nr.encode(new Uint8Array(i.buffer));return`${u}?iv=${c}`}async function mF(e,t,n){const r=e instanceof Uint8Array?Tt(e):e;let[o,s]=n.split("?iv="),i=ta.getSharedSecret(r,"02"+t),a=KN(i),l=Nr.decode(s),u=Nr.decode(o),c=_N(a,l).decrypt(u);return wr.decode(c)}function KN(e){return e.slice(1,33)}var gF={};De(gF,{NIP05_REGEX:()=>uy,isNip05:()=>yF,isValid:()=>bF,queryProfile:()=>ZN,searchDomain:()=>wF,useFetchImplementation:()=>vF});var uy=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,yF=e=>uy.test(e||""),Kd;try{Kd=fetch}catch{}function vF(e){Kd=e}async function wF(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`,r=await Kd(n,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch{return{}}}async function ZN(e){var o;const t=e.match(uy);if(!t)return null;const[,n="_",r]=t;try{const s=`https://${r}/.well-known/nostr.json?name=${n}`,i=await Kd(s,{redirect:"manual"});if(i.status!==200)throw Error("Wrong response code");const a=await i.json(),l=a.names[n];return l?{pubkey:l,relays:(o=a.relays)==null?void 0:o[l]}:null}catch{return null}}async function bF(e,t){const n=await ZN(t);return n?n.pubkey===e:!1}var xF={};De(xF,{parse:()=>EF});function EF(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let n,r;for(let o=e.tags.length-1;o>=0;o--){const s=e.tags[o];if(s[0]==="e"&&s[1]){const[i,a,l,u,c]=s,d={id:a,relays:l?[l]:[],author:c};if(u==="root"){t.root=d;continue}if(u==="reply"){t.reply=d;continue}if(u==="mention"){t.mentions.push(d);continue}n?r=d:n=d,t.mentions.push(d);continue}if(s[0]==="q"&&s[1]){const[i,a,l]=s;t.quotes.push({id:a,relays:l?[l]:[]})}if(s[0]==="p"&&s[1]){t.profiles.push({pubkey:s[1],relays:s[2]?[s[2]]:[]});continue}}return t.root||(t.root=r||n||t.reply),t.reply||(t.reply=n||t.root),[t.reply,t.root].forEach(o=>{if(!o)return;let s=t.mentions.indexOf(o);if(s!==-1&&t.mentions.splice(s,1),o.author){let i=t.profiles.find(a=>a.pubkey===o.author);i&&i.relays&&(o.relays||(o.relays=[]),i.relays.forEach(a=>{var l;((l=o.relays)==null?void 0:l.indexOf(a))===-1&&o.relays.push(a)}),i.relays=o.relays)}}),t.mentions.forEach(o=>{if(o.author){let s=t.profiles.find(i=>i.pubkey===o.author);s&&s.relays&&(o.relays||(o.relays=[]),s.relays.forEach(i=>{o.relays.indexOf(i)===-1&&o.relays.push(i)}),s.relays=o.relays)}}),t}var SF={};De(SF,{fetchRelayInformation:()=>CF,useFetchImplementation:()=>_F});var GN;try{GN=fetch}catch{}function _F(e){GN=e}async function CF(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var NF={};De(NF,{fastEventHash:()=>YN,getPow:()=>QN,minePow:()=>TF});function QN(e){let t=0;for(let n=0;n<64;n+=8){const r=parseInt(e.substring(n,n+8),16);if(r===0)t+=32;else{t+=Math.clz32(r);break}}return t}function TF(e,t){let n=0;const r=e,o=["nonce",n.toString(),t.toString()];for(r.tags.push(o);;){const s=Math.floor(new Date().getTime()/1e3);if(s!==r.created_at&&(n=0,r.created_at=s),o[1]=(++n).toString(),r.id=YN(r),QN(r.id)>=t)break}return r}function YN(e){return Tt(na(kn.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}var kF={};De(kF,{finishRepostEvent:()=>PF,getRepostedEvent:()=>RF,getRepostedEventPointer:()=>XN});function PF(e,t,n,r){return nr({kind:ry,tags:[...e.tags??[],["e",t.id,n],["p",t.pubkey]],content:e.content===""?"":JSON.stringify(t),created_at:e.created_at},r)}function XN(e){if(e.kind!==ry)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const o=e.tags[r];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&n===void 0&&(n=o))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function RF(e,{skipVerification:t}={}){const n=XN(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch{return}if(r.id===n.id&&!(!t&&!ny(r)))return r}var AF={};De(AF,{NOSTR_URI_REGEX:()=>Zd,parse:()=>IF,test:()=>OF});var Zd=new RegExp(`nostr:(${HN.source})`);function OF(e){return typeof e=="string"&&new RegExp(`^${Zd.source}$`).test(e)}function IF(e){const t=e.match(new RegExp(`^${Zd.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Wd(t[1])}}var MF={};De(MF,{finishReactionEvent:()=>$F,getReactedEventPointer:()=>DF});function $F(e,t,n){const r=t.tags.filter(o=>o.length>=2&&(o[0]==="e"||o[0]==="p"));return nr({...e,kind:oy,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function DF(e){if(e.kind!==oy)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const o=e.tags[r];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&n===void 0&&(n=o))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var jF={};De(jF,{matchAll:()=>LF,regex:()=>cy,replaceAll:()=>FF});var cy=()=>new RegExp(`\\b${Zd.source}\\b`,"g");function*LF(e){const t=e.matchAll(cy());for(const n of t)try{const[r,o]=n;yield{uri:r,value:o,decoded:Wd(o),start:n.index,end:n.index+r.length}}catch{}}function FF(e,t){return e.replaceAll(cy(),(n,r)=>t({uri:n,value:r,decoded:Wd(r)}))}var BF={};De(BF,{channelCreateEvent:()=>UF,channelHideMessageEvent:()=>WF,channelMessageEvent:()=>VF,channelMetadataEvent:()=>zF,channelMuteUserEvent:()=>HF});var UF=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return nr({kind:DN,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},zF=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return nr({kind:jN,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},VF=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),nr({kind:LN,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},WF=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return nr({kind:FN,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},HF=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return nr({kind:BN,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},qF={};De(qF,{EMOJI_SHORTCODE_REGEX:()=>JN,matchAll:()=>KF,regex:()=>dy,replaceAll:()=>ZF});var JN=/:(\w+):/,dy=()=>new RegExp(`\\B${JN.source}\\B`,"g");function*KF(e){const t=e.matchAll(dy());for(const n of t)try{const[r,o]=n;yield{shortcode:r,name:o,start:n.index,end:n.index+r.length}}catch{}}function ZF(e,t){return e.replaceAll(dy(),(n,r)=>t({shortcode:n,name:r}))}var GF={};De(GF,{useFetchImplementation:()=>QF,validateGithub:()=>YF});var fy;try{fy=fetch}catch{}function QF(e){fy=e}async function YF(e,t,n){try{return await(await fy(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var XF={};De(XF,{decrypt:()=>gy,encrypt:()=>my,getConversationKey:()=>hy,v2:()=>rB});var eT=1,tT=65535;function hy(e,t){const n=ta.getSharedSecret(e,"02"+t).subarray(1,33);return _4(na,n,"nip44-v2")}function nT(e,t){const n=C4(na,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function py(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function JF(e){if(!Number.isSafeInteger(e)||e<eT||e>tT)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function eB(e){const t=kn.encode(e),n=t.length,r=JF(n),o=new Uint8Array(py(n)-n);return Bd(r,t,o)}function tB(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<eT||t>tT||n.length!==t||e.length!==2+py(t))throw new Error("invalid padding");return wr.decode(n)}function rT(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=Bd(n,t);return zd(na,e,r)}function nB(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=Nr.decode(e)}catch(s){throw new Error("invalid base64: "+s.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const o=n[0];if(o!==2)throw new Error("unknown encryption version "+o);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function my(e,t,n=pN(32)){const{chacha_key:r,chacha_nonce:o,hmac_key:s}=nT(t,n),i=eB(e),a=kN(r,o,i),l=rT(s,a,n);return Nr.encode(Bd(new Uint8Array([2]),n,a,l))}function gy(e,t){const{nonce:n,ciphertext:r,mac:o}=nB(e),{chacha_key:s,chacha_nonce:i,hmac_key:a}=nT(t,n),l=rT(a,r,n);if(!s4(l,o))throw new Error("invalid MAC");const u=kN(s,i,r);return tB(u)}var rB={utils:{getConversationKey:hy,calcPaddedLen:py},encrypt:my,decrypt:gy},oB={};De(oB,{makeNwcRequestEvent:()=>iB,parseConnectionString:()=>sB});function sB(e){const{pathname:t,searchParams:n}=new URL(e),r=t,o=n.get("relay"),s=n.get("secret");if(!r||!o||!s)throw new Error("invalid connection string");return{pubkey:r,relay:o,secret:s}}async function iB(e,t,n){const o=await qN(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),s={kind:VN,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e]]};return nr(s,t)}var aB={};De(aB,{getZapEndpoint:()=>uB,makeZapReceipt:()=>fB,makeZapRequest:()=>cB,useFetchImplementation:()=>lB,validateZapRequest:()=>dB});var yy;try{yy=fetch}catch{}function lB(e){yy=e}async function uB(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:i}=Di.decode(n,1e3),a=Di.fromWords(i);t=wr.decode(a)}else if(r){let[i,a]=r.split("@");t=new URL(`/.well-known/lnurlp/${i}`,`https://${a}`).toString()}else return null;let s=await(await yy(t)).json();if(s.allowsNostr&&s.nostrPubkey)return s.callback}catch{}return null}function cB({profile:e,event:t,amount:n,relays:r,comment:o=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let s={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e],["amount",n.toString()],["relays",...r]]};return t&&s.tags.push(["e",t]),s}function dB(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!Jg(t))return"Zap request is not a valid Nostr event.";if(!ny(t))return"Invalid signature on zap request.";let n=t.tags.find(([s,i])=>s==="p"&&i);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([s,i])=>s==="e"&&i);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([s,i])=>s==="relays"&&i)?null:"Zap request doesn't have a 'relays' tag."}function fB({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let o=JSON.parse(e),s=o.tags.filter(([a])=>a==="e"||a==="p"||a==="a"),i={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...s,["P",o.pubkey],["bolt11",n],["description",e]]};return t&&i.tags.push(["preimage",t]),i}var hB={};De(hB,{createRumor:()=>lT,createSeal:()=>uT,createWrap:()=>cT,unwrapEvent:()=>dT,unwrapManyEvents:()=>gB,wrapEvent:()=>rm,wrapManyEvents:()=>mB});var pB=2*24*60*60,oT=()=>Math.round(Date.now()/1e3),sT=()=>Math.round(oT()-Math.random()*pB),iT=(e,t)=>hy(e,t),aT=(e,t,n)=>my(JSON.stringify(e),iT(t,n)),s0=(e,t)=>JSON.parse(gy(e.content,iT(t,e.pubkey)));function lT(e,t){const n={created_at:oT(),content:"",tags:[],...e,pubkey:ty(t)};return n.id=tc(n),n}function uT(e,t,n){return nr({kind:$N,content:aT(e,t,n),created_at:sT(),tags:[]},t)}function cT(e,t){const n=$4();return nr({kind:UN,content:aT(e,n,t),created_at:sT(),tags:[["p",t]]},n)}function rm(e,t,n){const r=lT(e,t),o=uT(r,t,n);return cT(o,n)}function mB(e,t,n){if(!n||n.length===0)throw new Error("At least one recipient is required.");const r=ty(t),o=[rm(e,t,r)];return n.forEach(s=>{o.push(rm(e,t,s))}),o}function dT(e,t){const n=s0(e,t);return s0(n,t)}function gB(e,t){let n=[];return e.forEach(r=>{n.push(dT(r,t))}),n.sort((r,o)=>r.created_at-o.created_at),n}var yB={};De(yB,{getToken:()=>vB,hashPayload:()=>vy,unpackEventFromToken:()=>hT,validateEvent:()=>wT,validateEventKind:()=>mT,validateEventMethodTag:()=>yT,validateEventPayloadTag:()=>vT,validateEventTimestamp:()=>pT,validateEventUrlTag:()=>gT,validateToken:()=>wB});var fT="Nostr ";async function vB(e,t,n,r=!1,o){const s={kind:sy,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};o&&s.tags.push(["payload",vy(o)]);const i=await n(s);return(r?fT:"")+Nr.encode(kn.encode(JSON.stringify(i)))}async function wB(e,t,n){const r=await hT(e).catch(s=>{throw s});return await wT(r,t,n).catch(s=>{throw s})}async function hT(e){if(!e)throw new Error("Missing token");e=e.replace(fT,"");const t=wr.decode(Nr.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function pT(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function mT(e){return e.kind===sy}function gT(e,t){const n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function yT(e,t){const n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function vy(e){const t=na(kn.encode(JSON.stringify(e)));return Tt(t)}function vT(e,t){const n=e.tags.find(o=>o[0]==="payload");if(!n)return!1;const r=vy(t);return n.length>0&&n[1]===r}async function wT(e,t,n,r){if(!ny(e))throw new Error("Invalid nostr event, signature invalid");if(!mT(e))throw new Error("Invalid nostr event, kind invalid");if(!pT(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!gT(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!yT(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!vT(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}const bT=g.createContext(null);function bB({children:e}){const{toast:t}=Od(),[n,r]=g.useState(null),[o,s]=g.useState(!0),[i,a]=g.useState(null);g.useEffect(()=>{const d=localStorage.getItem("nostr_auth");if(d)try{const h=JSON.parse(d);r(h)}catch(h){console.error("Failed to parse stored auth:",h)}s(!1)},[]);const l=async()=>{try{if(s(!0),!window.nostr)throw new Error("No Nostr extension found. Please install a Nostr extension.");const h={type:"extension",publicKey:await window.nostr.getPublicKey()};r(h),localStorage.setItem("nostr_auth",JSON.stringify(h)),t({title:"Login Successful",description:"Connected with Nostr extension"})}catch(d){const h=d;a(h),t({title:"Login Failed",description:h.message,variant:"destructive"})}finally{s(!1)}},u=async()=>{try{s(!0),a(null);const d=new Uint8Array(32);crypto.getRandomValues(d);const h=Array.from(d).map(f=>f.toString(16).padStart(2,"0")).join("");console.log("Generating new keys...");const m=ty(h);console.log("Public key generated:",m);const y={type:"generated",publicKey:m,privateKey:h};r(y),localStorage.setItem("nostr_auth",JSON.stringify(y)),t({title:"",description:"Nostr"})}catch(d){console.error("Key generation error:",d);const h=d;a(h),t({title:"",description:h.message,variant:"destructive"})}finally{s(!1)}},c=()=>{r(null),localStorage.removeItem("nostr_auth"),t({title:"Logged Out",description:"Successfully logged out"})};return b.jsx(bT.Provider,{value:{user:n,isLoading:o,error:i,loginWithExtension:l,generateNewKeys:u,logout:c},children:e})}function Uo(){const e=g.useContext(bT);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const Yn=g.forwardRef(({className:e,...t},n)=>b.jsx("div",{ref:n,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Yn.displayName="Card";const ko=g.forwardRef(({className:e,...t},n)=>b.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",e),...t}));ko.displayName="CardHeader";const cl=g.forwardRef(({className:e,...t},n)=>b.jsx("h3",{ref:n,className:oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));cl.displayName="CardTitle";const xB=g.forwardRef(({className:e,...t},n)=>b.jsx("p",{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));xB.displayName="CardDescription";const Xn=g.forwardRef(({className:e,...t},n)=>b.jsx("div",{ref:n,className:oe("p-6 pt-0",e),...t}));Xn.displayName="CardContent";const xT=g.forwardRef(({className:e,...t},n)=>b.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",e),...t}));xT.displayName="CardFooter";function EB(){return b.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:b.jsx(Yn,{className:"w-full max-w-md mx-4",children:b.jsxs(Xn,{className:"pt-6",children:[b.jsxs("div",{className:"flex mb-4 gap-2",children:[b.jsx(KD,{className:"h-8 w-8 text-red-500"}),b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),b.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const SB=zl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),lt=g.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},s)=>{const i=r?Oi:"button";return b.jsx(i,{className:oe(SB({variant:t,size:n,className:e})),ref:s,...o})});lt.displayName="Button";const _B=zl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),wy=g.forwardRef(({className:e,variant:t,...n},r)=>b.jsx("div",{ref:r,role:"alert",className:oe(_B({variant:t}),e),...n}));wy.displayName="Alert";const CB=g.forwardRef(({className:e,...t},n)=>b.jsx("h5",{ref:n,className:oe("mb-1 font-medium leading-none tracking-tight",e),...t}));CB.displayName="AlertTitle";const by=g.forwardRef(({className:e,...t},n)=>b.jsx("div",{ref:n,className:oe("text-sm [&_p]:leading-relaxed",e),...t}));by.displayName="AlertDescription";function NB(){const{user:e,loginWithExtension:t,generateNewKeys:n,isLoading:r}=Uo();return e?b.jsx(J_,{to:"/"}):b.jsxs("div",{className:"min-h-screen grid md:grid-cols-2",children:[b.jsx("div",{className:"flex items-center justify-center p-4",children:b.jsxs(Yn,{className:"w-full max-w-md",children:[b.jsx(ko,{children:b.jsx(cl,{children:"Connect to Nostr"})}),b.jsxs(Xn,{className:"space-y-6",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs(lt,{className:"w-full h-12 text-lg",onClick:t,disabled:r,children:[r?b.jsx(ms,{className:"mr-2 h-5 w-5 animate-spin"}):b.jsx(ej,{className:"mr-2 h-5 w-5"}),"Connect with Extension"]}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 flex items-center",children:b.jsx("span",{className:"w-full border-t"})}),b.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:b.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or"})})]}),b.jsxs(lt,{variant:"outline",className:"w-full h-12 text-lg",onClick:n,disabled:r,children:[r?b.jsx(ms,{className:"mr-2 h-5 w-5 animate-spin"}):b.jsx(YD,{className:"mr-2 h-5 w-5"}),"Generate New Keys"]})]}),b.jsx(wy,{children:b.jsx(by,{children:"Use a Nostr browser extension like nos2x or Alby for the best experience. If you don't have one installed, you can generate new keys, but make sure to save them securely!"})})]})]})}),b.jsx("div",{className:"hidden md:flex bg-primary items-center justify-center p-8",children:b.jsxs("div",{className:"text-primary-foreground max-w-md space-y-4",children:[b.jsx("h1",{className:"text-4xl font-bold",children:"Connect to the Nostr Network"}),b.jsx("p",{className:"text-lg",children:"Join the decentralized social network where you own your data and connections. Use your existing Nostr extension or generate new keys to get started."})]})})]})}var TB=Object.defineProperty,kB=(e,t,n)=>t in e?TB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y=(e,t,n)=>(kB(e,typeof t!="symbol"?t+"":t,n),n);class Wl extends Error{}let i0=class extends Wl{constructor(t){super(`RxNostrWebSocketError: WebSocket was closed with code ${t} by relay.`),this.code=t,this.name="RxNostrWebSocketError"}};class nc extends Wl{constructor(t){super(`RxNostrInvalidUsageError: ${t}`),this.name="RxNostrInvalidUsageError"}}let uh=class extends Wl{constructor(t){super(`RxNostrEnvironmentError: ${t}`),this.name="RxNostrEnvironmentError"}},ET=class extends Wl{constructor(){super("RxNostrLogicError: This is rx-nostr's internal bug. Please report to the author of the library."),this.name="RxNostrLogicError"}};class cr extends Wl{constructor(){super("RxNostrAlreadyDisposedError: Attempted to access a disposed resource."),this.name="RxNostrAlreadyDisposedError"}}const Hl=(e,t)=>({...t,...e});function PB(e){if(typeof e.id!="string"||typeof e.sig!="string"||typeof e.kind!="number"||typeof e.pubkey!="string"||typeof e.content!="string"||typeof e.created_at!="number"||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){const n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}function ch(e){throw e}function ST(e){return{async signEvent(t){var n,r;const o={...t,pubkey:t.pubkey??await((n=window==null?void 0:window.nostr)==null?void 0:n.getPublicKey())??ch(new uh("window.nostr.getPublicKey() is not found")),tags:[...t.tags??[]],created_at:t.created_at??Math.floor(Date.now()/1e3)};return PB(o)?o:await((r=window==null?void 0:window.nostr)==null?void 0:r.signEvent(o))??ch(new uh("window.nostr.signEvent() is not found"))},getPublicKey(){var t;return((t=window==null?void 0:window.nostr)==null?void 0:t.getPublicKey())??ch(new uh("window.nostr.getPublicKey() is not found"))}}}const RB=e=>Hl(e,{signer:ST(),connectionStrategy:"lazy",retry:{strategy:"exponential",maxCount:5,initialDelay:1e3},disconnectTimeout:1e4,eoseTimeout:30*1e3,okTimeout:30*1e3,authTimeout:30*1e3,skipVerify:!1,skipValidateFilterMatching:!1,skipExpirationCheck:!1,skipFetchNip11:!1});function AB(e){return"length"in e?e.map(a0):[a0(e)]}function a0(e){return{...e,since:e.since?l0(e.since):void 0,until:e.until?l0(e.until):void 0}}function l0(e){return typeof e=="number"?e:e()}async function OB(e){try{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws(s?):/,"http$1:"),await(await fetch(t.toString(),{headers:{Accept:"application/nostr+json"}})).json()}catch{return{}}}function u0(e,t){try{return e()}catch(n){return t instanceof Function?t(n):t}}function fr(e){let t="";try{t=e.trim();const n=new URL(t);n.hash="",n.pathname=u0(()=>decodeURI(n.pathname),n.pathname),n.pathname=n.pathname.replace(/\/$/,""),n.hostname=n.hostname.replace(/\.$/,""),n.searchParams.sort(),n.search=u0(()=>decodeURIComponent(n.search),n.search);let r=n.toString();return n.search||(r=r.replace(/\/$/,"")),r}catch{return t}}class ii extends Map{constructor(t){if(super(),!!t)for(const[n,r]of Object.entries(t))this.set(fr(n),r)}get(t){return super.get(fr(t))}getMany(t){const n=[];for(const r of new Set(t.map(fr))){const o=this.get(r);o!==void 0&&n.push(o)}return n}set(t,n){return super.set(fr(t),n)}has(t){return super.has(fr(t))}delete(t){return super.delete(fr(t))}toObject(){const t={};for(const[n,r]of this.entries())t[n]=r;return t}toKeys(){return[...super.keys()]}toValues(){return[...super.values()]}copy(){return new ii(this.toObject())}}class $c{static async getValue(t,n,r){if(!(r!=null&&r.skipCache)){const o=await this.cache.get(t);if(o)return n(o)}if(!(r!=null&&r.skipFetch)){const o=await this.fetch(t);if(o)return n(o)}return n(this.default)}static get(t){const n=this.cache.get(t);if(n&&!(n instanceof Promise))return n}static async fetch(t){const n=OB(t);return this.cache.set(t,n),n.then(r=>{this.cache.set(t,r)}),n}static async getOrFetch(t){return this.cache.get(t)??this.fetch(t)}static set(t,n){this.cache.set(t,n)}static getDefault(){return this.default}static setDefault(t){this.default=t}static forget(t){this.cache.delete(t)}static forgetAll(){this.cache.clear()}}Y($c,"cache",new ii),Y($c,"default",{});/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */new Uint8Array(new Uint32Array([287454020]).buffer)[0];function IB(e,t,n){return Array.isArray(t)?t.some(r=>c0(e,r)):c0(e,t)}function c0(e,t,n){const{sinceInclusive:r,untilInclusive:o}=Hl({},{sinceInclusive:!0,untilInclusive:!0});if(t.ids&&t.ids.every(s=>!e.id.startsWith(s))||t.kinds&&!t.kinds.includes(e.kind)||t.authors&&t.authors.every(s=>!e.pubkey.startsWith(s))||t.since&&(r&&!(t.since<=e.created_at)||!r&&!(t.since<e.created_at))||t.until&&(o&&!(e.created_at<=t.until)||!o&&!(e.created_at<t.until)))return!1;for(const[s,i]of Object.entries(t)){if(!s.startsWith("#")||!Array.isArray(i))continue;const a=s.slice(1);if(!e.tags.find(([l,u])=>a===l&&i.includes(u)))return!1}return!0}function MB(e,t){const n=e.tags.find(r=>r[0]==="expiration");if(!n)return!1;try{const r=Number(n[1]);return Number.isInteger(r)?r<=(t??Math.floor(Date.now()/1e3)):!1}catch{return!1}}var om=function(e,t){return om=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},om(e,t)};function Mr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");om(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function $B(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(c){try{u(r.next(c))}catch(d){i(d)}}function l(c){try{u(r.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):o(c.value).then(a,l)}u((r=r.apply(e,[])).next())})}function _T(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],o=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ji(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Li(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}function Fi(e,t,n){if(arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function ai(e){return this instanceof ai?(this.v=e,this):new ai(e)}function DB(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(h){r[h]&&(o[h]=function(m){return new Promise(function(y,f){s.push([h,m,y,f])>1||a(h,m)})})}function a(h,m){try{l(r[h](m))}catch(y){d(s[0][3],y)}}function l(h){h.value instanceof ai?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,m){h(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function jB(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ji=="function"?ji(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(i){return new Promise(function(a,l){i=e[s](i),o(a,l,i.done,i.value)})}}function o(s,i,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},i)}}function Ve(e){return typeof e=="function"}function Gd(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var dh=Gd(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Dc(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ql=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,s;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=ji(i),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(f){t={error:f}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else i.remove(this);var c=this.initialTeardown;if(Ve(c))try{c()}catch(f){s=f instanceof dh?f.errors:[f]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=ji(d),m=h.next();!m.done;m=h.next()){var y=m.value;try{d0(y)}catch(f){s=s??[],f instanceof dh?s=Fi(Fi([],Li(s)),Li(f.errors)):s.push(f)}}}catch(f){r={error:f}}finally{try{m&&!m.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}}if(s)throw new dh(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)d0(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Dc(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Dc(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),CT=ql.EMPTY;function NT(e){return e instanceof ql||e&&"closed"in e&&Ve(e.remove)&&Ve(e.add)&&Ve(e.unsubscribe)}function d0(e){Ve(e)?e():e.unsubscribe()}var TT={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},LB={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Fi([e,t],Li(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function kT(e){LB.setTimeout(function(){throw e})}function sm(){}function rc(e){e()}var xy=function(e){Mr(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,NT(n)&&n.add(r)):r.destination=zB,r}return t.create=function(n,r,o){return new jc(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(ql),FB=Function.prototype.bind;function fh(e,t){return FB.call(e,t)}var BB=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){ku(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){ku(r)}else ku(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){ku(n)}},e}(),jc=function(e){Mr(t,e);function t(n,r,o){var s=e.call(this)||this,i;if(Ve(n)||!n)i={next:n??void 0,error:r??void 0,complete:o??void 0};else{var a;s&&TT.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},i={next:n.next&&fh(n.next,a),error:n.error&&fh(n.error,a),complete:n.complete&&fh(n.complete,a)}):i=n}return s.destination=new BB(i),s}return t}(xy);function ku(e){kT(e)}function UB(e){throw e}var zB={closed:!0,next:sm,error:UB,complete:sm},Ey=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function $r(e){return e}function VB(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return PT(e)}function PT(e){return e.length===0?$r:e.length===1?e[0]:function(t){return e.reduce(function(n,r){return r(n)},t)}}var Wt=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,s=HB(t)?t:new jc(t,n,r);return rc(function(){var i=o,a=i.operator,l=i.source;s.add(a?a.call(s,l):l?o._subscribe(s):o._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=f0(n),new n(function(o,s){var i=new jc({next:function(a){try{t(a)}catch(l){s(l),i.unsubscribe()}},error:s,complete:o});r.subscribe(i)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Ey]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return PT(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=f0(t),new t(function(r,o){var s;n.subscribe(function(i){return s=i},function(i){return o(i)},function(){return r(s)})})},e.create=function(t){return new e(t)},e}();function f0(e){var t;return(t=e??TT.Promise)!==null&&t!==void 0?t:Promise}function WB(e){return e&&Ve(e.next)&&Ve(e.error)&&Ve(e.complete)}function HB(e){return e&&e instanceof xy||WB(e)&&NT(e)}function qB(e){return Ve(e==null?void 0:e.lift)}function _t(e){return function(t){if(qB(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ft(e,t,n,r,o){return new KB(e,t,n,r,o)}var KB=function(e){Mr(t,e);function t(n,r,o,s,i,a){var l=e.call(this,n)||this;return l.onFinalize=i,l.shouldUnsubscribe=a,l._next=r?function(u){try{r(u)}catch(c){n.error(c)}}:e.prototype._next,l._error=s?function(u){try{s(u)}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=o?function(){try{o()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(xy),ZB=Gd(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),$e=function(e){Mr(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new h0(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new ZB},t.prototype.next=function(n){var r=this;rc(function(){var o,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var i=ji(r.currentObservers),a=i.next();!a.done;a=i.next()){var l=a.value;l.next(n)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(s=i.return)&&s.call(i)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;rc(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;rc(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,s=o.hasError,i=o.isStopped,a=o.observers;return s||i?CT:(this.currentObservers=null,a.push(n),new ql(function(){r.currentObservers=null,Dc(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,s=r.thrownError,i=r.isStopped;o?n.error(s):i&&n.complete()},t.prototype.asObservable=function(){var n=new Wt;return n.source=this,n},t.create=function(n,r){return new h0(n,r)},t}(Wt),h0=function(e){Mr(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:CT},t}($e),GB=function(e){Mr(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,s=n._value;if(r)throw o;return this._throwIfClosed(),s},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}($e),QB={now:function(){return Date.now()},delegate:void 0},YB=function(e){Mr(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(ql),im={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=im.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,Fi([e,t],Li(n))):setInterval.apply(void 0,Fi([e,t],Li(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},XB=function(e){Mr(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var s=this.id,i=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(i,s,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(i,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),im.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&im.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,s;try{this.work(n)}catch(i){o=!0,s=i||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),s},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,s=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Dc(s,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(YB),p0=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=QB.now,e}(),JB=function(e){Mr(t,e);function t(n,r){r===void 0&&(r=p0.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(p0),RT=new JB(XB),e6=RT,Kl=new Wt(function(e){return e.complete()});function t6(e){return e&&Ve(e.schedule)}function Sy(e){return e[e.length-1]}function n6(e){return Ve(Sy(e))?e.pop():void 0}function _y(e){return t6(Sy(e))?e.pop():void 0}function r6(e,t){return typeof Sy(e)=="number"?e.pop():t}var AT=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function OT(e){return Ve(e==null?void 0:e.then)}function IT(e){return Ve(e[Ey])}function MT(e){return Symbol.asyncIterator&&Ve(e==null?void 0:e[Symbol.asyncIterator])}function $T(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function o6(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var DT=o6();function jT(e){return Ve(e==null?void 0:e[DT])}function LT(e){return DB(this,arguments,function(){var t,n,r,o;return _T(this,function(s){switch(s.label){case 0:t=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,ai(t.read())];case 3:return n=s.sent(),r=n.value,o=n.done,o?[4,ai(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,ai(r)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function FT(e){return Ve(e==null?void 0:e.getReader)}function rr(e){if(e instanceof Wt)return e;if(e!=null){if(IT(e))return s6(e);if(AT(e))return i6(e);if(OT(e))return a6(e);if(MT(e))return BT(e);if(jT(e))return l6(e);if(FT(e))return u6(e)}throw $T(e)}function s6(e){return new Wt(function(t){var n=e[Ey]();if(Ve(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function i6(e){return new Wt(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function a6(e){return new Wt(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,kT)})}function l6(e){return new Wt(function(t){var n,r;try{for(var o=ji(e),s=o.next();!s.done;s=o.next()){var i=s.value;if(t.next(i),t.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function BT(e){return new Wt(function(t){c6(e,t).catch(function(n){return t.error(n)})})}function u6(e){return BT(LT(e))}function c6(e,t){var n,r,o,s;return $B(this,void 0,void 0,function(){var i,a;return _T(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=jB(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(i=r.value,t.next(i),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),o={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Zn(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var s=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!o)return s}function UT(e,t){return t===void 0&&(t=0),_t(function(n,r){n.subscribe(ft(r,function(o){return Zn(r,e,function(){return r.next(o)},t)},function(){return Zn(r,e,function(){return r.complete()},t)},function(o){return Zn(r,e,function(){return r.error(o)},t)}))})}function zT(e,t){return t===void 0&&(t=0),_t(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function d6(e,t){return rr(e).pipe(zT(t),UT(t))}function f6(e,t){return rr(e).pipe(zT(t),UT(t))}function h6(e,t){return new Wt(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function p6(e,t){return new Wt(function(n){var r;return Zn(n,t,function(){r=e[DT](),Zn(n,t,function(){var o,s,i;try{o=r.next(),s=o.value,i=o.done}catch(a){n.error(a);return}i?n.complete():n.next(s)},0,!0)}),function(){return Ve(r==null?void 0:r.return)&&r.return()}})}function VT(e,t){if(!e)throw new Error("Iterable cannot be null");return new Wt(function(n){Zn(n,t,function(){var r=e[Symbol.asyncIterator]();Zn(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function m6(e,t){return VT(LT(e),t)}function g6(e,t){if(e!=null){if(IT(e))return d6(e,t);if(AT(e))return h6(e,t);if(OT(e))return f6(e,t);if(MT(e))return VT(e,t);if(jT(e))return p6(e,t);if(FT(e))return m6(e,t)}throw $T(e)}function Zl(e,t){return t?g6(e,t):rr(e)}function WT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_y(e);return Zl(e,n)}var Cy=Gd(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function HT(e,t){return new Promise(function(n,r){var o=new jc({next:function(s){n(s),o.unsubscribe()},error:r,complete:function(){r(new Cy)}});e.subscribe(o)})}function qT(e){return e instanceof Date&&!isNaN(e)}var KT=Gd(function(e){return function(t){t===void 0&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function ZT(e,t){var n=qT(e)?{first:e}:typeof e=="number"?{each:e}:e,r=n.first,o=n.each,s=n.with,i=s===void 0?y6:s,a=n.scheduler,l=a===void 0?RT:a,u=n.meta,c=u===void 0?null:u;if(r==null&&o==null)throw new TypeError("No timeout provided.");return _t(function(d,h){var m,y,f=null,w=0,p=function(v){y=Zn(h,l,function(){try{m.unsubscribe(),rr(i({meta:c,lastValue:f,seen:w})).subscribe(h)}catch(x){h.error(x)}},v)};m=d.subscribe(ft(h,function(v){y==null||y.unsubscribe(),w++,h.next(f=v),o>0&&p(o)},void 0,void 0,function(){y!=null&&y.closed||y==null||y.unsubscribe(),f=null})),!w&&p(r!=null?typeof r=="number"?r:+r-l.now():o)})}function y6(e){throw new KT(e)}function So(e,t){return _t(function(n,r){var o=0;n.subscribe(ft(r,function(s){r.next(e.call(t,s,o++))}))})}var v6=Array.isArray;function w6(e,t){return v6(t)?e.apply(void 0,Fi([],Li(t))):e(t)}function b6(e){return So(function(t){return w6(e,t)})}var x6=Array.isArray,E6=Object.getPrototypeOf,S6=Object.prototype,_6=Object.keys;function C6(e){if(e.length===1){var t=e[0];if(x6(t))return{args:t,keys:null};if(N6(t)){var n=_6(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function N6(e){return e&&typeof e=="object"&&E6(e)===S6}function T6(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}function k6(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_y(e),r=n6(e),o=C6(e),s=o.args,i=o.keys;if(s.length===0)return Zl([],n);var a=new Wt(P6(s,n,i?function(l){return T6(i,l)}:$r));return r?a.pipe(b6(r)):a}function P6(e,t,n){return n===void 0&&(n=$r),function(r){m0(t,function(){for(var o=e.length,s=new Array(o),i=o,a=o,l=function(c){m0(t,function(){var d=Zl(e[c],t),h=!1;d.subscribe(ft(r,function(m){s[c]=m,h||(h=!0,a--),a||r.next(n(s.slice()))},function(){--i||r.complete()}))},r)},u=0;u<o;u++)l(u)},r)}}function m0(e,t,n){e?Zn(n,e,t):t()}function R6(e,t,n,r,o,s,i,a){var l=[],u=0,c=0,d=!1,h=function(){d&&!l.length&&!u&&t.complete()},m=function(f){return u<r?y(f):l.push(f)},y=function(f){u++;var w=!1;rr(n(f,c++)).subscribe(ft(t,function(p){t.next(p)},function(){w=!0},void 0,function(){if(w)try{u--;for(var p=function(){var v=l.shift();i?Zn(t,i,function(){return y(v)}):y(v)};l.length&&u<r;)p();h()}catch(v){t.error(v)}}))};return e.subscribe(ft(t,m,function(){d=!0,h()})),function(){}}function Lc(e,t,n){return n===void 0&&(n=1/0),Ve(t)?Lc(function(r,o){return So(function(s,i){return t(r,s,o,i)})(rr(e(r,o)))},n):(typeof t=="number"&&(n=t),_t(function(r,o){return R6(r,o,e,n)}))}function GT(e){return e===void 0&&(e=1/0),Lc($r,e)}function g0(e,t,n){return e===void 0&&(e=0),n===void 0&&(n=e6),new Wt(function(r){var o=qT(e)?+e-n.now():e;o<0&&(o=0);var s=0;return n.schedule(function(){r.closed||(r.next(s++),r.complete())},o)})}function A6(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_y(e),r=r6(e,1/0),o=e;return o.length?o.length===1?rr(o[0]):GT(r)(Zl(o,n)):Kl}function dn(e,t){return _t(function(n,r){var o=0;n.subscribe(ft(r,function(s){return e.call(t,s,o++)&&r.next(s)}))})}function QT(e){return _t(function(t,n){var r=null,o=!1,s;r=t.subscribe(ft(n,void 0,void 0,function(i){s=rr(e(i,QT(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,s.subscribe(n))})}function O6(e){return _t(function(t,n){var r=!1;t.subscribe(ft(n,function(o){r=!0,n.next(o)},function(){r||n.next(e),n.complete()}))})}function I6(e){return e<=0?function(){return Kl}:_t(function(t,n){var r=0;t.subscribe(ft(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function M6(e,t){return t===void 0&&(t=$r),e=e??$6,_t(function(n,r){var o,s=!0;n.subscribe(ft(r,function(i){var a=t(i);(s||!e(o,a))&&(s=!1,o=a,r.next(i))}))})}function $6(e,t){return e===t}function D6(e){return e===void 0&&(e=j6),_t(function(t,n){var r=!1;t.subscribe(ft(n,function(o){r=!0,n.next(o)},function(){return r?n.complete():n.error(e())}))})}function j6(){return new Cy}function hh(e){return _t(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function am(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?dn(function(o,s){return e(o,s,r)}):$r,I6(1),n?O6(t):D6(function(){return new Cy}))}}function L6(e,t){return _t(function(n,r){var o=null,s=0,i=!1,a=function(){return i&&!o&&r.complete()};n.subscribe(ft(r,function(l){o==null||o.unsubscribe();var u=0,c=s++;rr(e(l,c)).subscribe(o=ft(r,function(d){return r.next(t?t(l,d,c,u++):d)},function(){o=null,a()}))},function(){i=!0,a()}))})}function F6(){return L6($r)}function wa(e){return _t(function(t,n){rr(e).subscribe(ft(n,function(){return n.complete()},sm)),!n.closed&&t.subscribe(n)})}function B6(e,t){return _t(function(n,r){var o=0;n.subscribe(ft(r,function(s){var i=e(s,o++);(i||t)&&r.next(s),!i&&r.complete()}))})}function Pu(e,t,n){var r=Ve(e)||t||n?{next:e,error:t,complete:n}:e;return r?_t(function(o,s){var i;(i=r.subscribe)===null||i===void 0||i.call(r);var a=!0;o.subscribe(ft(s,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),s.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},function(l){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),s.error(l)},function(){var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):$r}function U6(e){return Lc((t,n)=>Zl(e(t,n)).pipe(Lc(r=>r?WT(t):Kl)))}function y0(e){return VB(ZT(e),QT(t=>{if(t instanceof KT)return Kl;throw t}))}function ph(e,t){const{not:n}=Hl(t,{not:!1});return dn(r=>z6(r.subId===e,n))}function z6(e,t){return!e&&t||e&&!t}class V6{constructor(t){Y(this,"relay"),Y(this,"config"),Y(this,"authenticator"),Y(this,"ongoings",new Set),Y(this,"authResult$",new $e),Y(this,"disposed",!1),this.relay=t.relay,this.config=t.config,this.authenticator=t.authenticator;const n=this.relay.getOKObservable().subscribe(o=>{const{eventId:s,ok:i}=o;this.ongoings.has(s)&&(this.ongoings.delete(s),this.authResult$.next(i),i||(n.unsubscribe(),r.unsubscribe()))}),r=this.relay.getAUTHObservable().subscribe(({challenge:o})=>{this.challenge(o)})}getAuthResultObservable(){return this.authResult$.asObservable()}async challenge(t){try{const n=await this.signer.signEvent({kind:22242,content:"",tags:[["relay",this.relay.url],["challenge",t]]});this.ongoings.add(n.id),this.relay.send(["AUTH",n])}catch{}}get signer(){return this.authenticator.signer??this.config.signer}dispose(){this[Symbol.dispose]()}[Symbol.dispose](){if(this.disposed)return;this.disposed=!0;const t=[this.authResult$];for(const n of t)n.complete()}}let YT=class extends GB{constructor(t){super(t??0)}increment(){this.next(this.getValue()+1)}decrement(){this.next(this.getValue()-1)}next(t){typeof t=="number"?super.next(t):super.next(t(this.getValue()))}};class W6 extends $e{waitNext(){return HT(this.pipe(am(null,void 0)))}}class H6{constructor(t){Y(this,"relay"),Y(this,"authProxy"),Y(this,"pubs",new Map),Y(this,"authRequiredPubs",new Set),Y(this,"count$",new YT(0)),Y(this,"ok$",new $e),Y(this,"disposed",!1);var n;this.relay=t.relay,this.authProxy=t.authProxy,this.relay.getReconnectedObservable().subscribe(r=>{for(const[o,s]of r)o==="EVENT"&&this.pubs.has(s.id)&&this.sendEVENT(s)}),this.relay.getOKObservable().subscribe(async r=>{const{eventId:o,notice:s}=r;this.pubs.get(o)&&(this.authProxy&&s!=null&&s.startsWith("auth-required:")?(this.authRequiredPubs.add(o),this.ok$.next({...r,done:!1})):(this.ok$.next({...r,done:!0}),this.confirmOK(o)))}),(n=this.authProxy)==null||n.getAuthResultObservable().subscribe(r=>{if(r)for(const o of this.authRequiredPubs){const s=this.pubs.get(o);s&&this.sendEVENT(s)}else for(const o of this.authRequiredPubs)this.confirmOK(o);this.authRequiredPubs.clear()})}async publish(t){if(!this.disposed)return this.pubs.has(t.id)||(this.pubs.set(t.id,t),this.count$.increment()),this.sendEVENT(t)}confirmOK(t){this.disposed||this.pubs.has(t)||(this.pubs.delete(t),this.count$.decrement())}getOkAgainstEventObservable(){return this.ok$.asObservable()}getLogicalConnectionSizeObservable(){return this.count$.asObservable()}dispose(){this[Symbol.dispose]()}[Symbol.dispose](){if(this.disposed)return;this.disposed=!0;const t=[this.count$,this.ok$];for(const n of t)n.complete()}sendEVENT(t){return this.relay.send(["EVENT",t])}}const v0={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3};class q6{constructor(t,n){Y(this,"socket",null),Y(this,"buffer",[]),Y(this,"unsent",[]),Y(this,"reconnected$",new $e),Y(this,"outgoing$",new $e),Y(this,"message$",new $e),Y(this,"error$",new $e),Y(this,"retryTimer",null),Y(this,"sendAttempted$",new W6),Y(this,"disposed",!1),Y(this,"state$",new $e),Y(this,"_state","initialized"),this.url=t,this.config=n,n.skipFetchNip11||$c.getOrFetch(t),this.setState("initialized")}get state(){return this._state}setState(t){this._state=t,this.state$.next(t)}connectManually(){this.connect()}connect(t){if(this.state==="terminated")return;const n=typeof t=="number";(this.state==="initialized"||this.state==="dormant"||this.state==="error"||this.state==="rejected"||n)&&(this.socket=this.createSocket(t??0))}createSocket(t){const n=t>0,r=this.state==="error"||this.state==="rejected";n?this.setState("retrying"):this.setState("connecting");const o=async()=>{if(this.state==="terminated"){l==null||l.close(js.RX_NOSTR_DISPOSED);return}this.setState("connected"),(n||r)&&(this.reconnected$.next(this.unsent),this.unsent=[]);try{for(const u of this.buffer)this.send(u)}catch(u){this.error$.next(u)}finally{this.buffer=[]}},s=({data:u})=>{if(this.state!=="terminated")try{this.message$.next(this.pack(JSON.parse(u)))}catch(c){this.error$.next(c)}},i=({code:u})=>{var c;if(l==null||l.removeEventListener("open",o),l==null||l.removeEventListener("message",s),l==null||l.removeEventListener("close",i),this.socket===l&&(this.socket=null),this.state==="terminated"||u===js.RX_NOSTR_DISPOSED){this.unsent=[],this.buffer=[];return}if(u===js.RX_NOSTR_IDLE)this.setState("dormant"),this.buffer.length>0&&this.connect();else if(u===js.DONT_RETRY)this.unsent=[],this.buffer=[],this.error$.next(new i0(u)),this.setState("rejected");else{this.unsent.push(...this.buffer),this.buffer=[],this.error$.next(new i0(u));const d=t+1;this.config.retry.strategy!=="off"&&d<=this.config.retry.maxCount?(this.setState("waiting-for-retrying"),(c=this.retryTimer)==null||c.unsubscribe(),this.retryTimer=K6(this.config.retry,d).subscribe(()=>{this.disposed||this.connect(d)})):this.setState("error")}},a=this.config.websocketCtor??globalThis.WebSocket;if(!a)throw new nc("WebSocket constructor is missing");const l=(()=>{try{return new a(this.url)}catch(u){return i({type:"close",code:0,reason:`${u}`}),null}})();return l==null||l.addEventListener("open",o),l==null||l.addEventListener("message",s),l==null||l.addEventListener("close",i),l}pack(t){const n=t[0],r=this.url;switch(n){case"EVENT":return{from:r,type:n,message:t,subId:t[1],event:t[2]};case"EOSE":return{from:r,type:n,message:t,subId:t[1]};case"OK":return{from:r,type:n,message:t,eventId:t[1],ok:t[2],notice:t[3]};case"CLOSED":return{from:r,type:n,message:t,subId:t[1],notice:t[2]};case"NOTICE":return{from:r,type:n,message:t,notice:t[1]};case"AUTH":return{from:r,type:n,message:t,challenge:t[1]};case"COUNT":return{from:r,type:n,message:t,subId:t[1],count:t[2]};default:return{from:r,type:"unknown",message:t}}}disconnect(t){var n;((n=this.socket)==null?void 0:n.readyState)===v0.OPEN&&this.socket.close(t)}send(t){const n=this.sendAttempted$.waitNext();switch(this.state){case"terminated":case"rejected":return this.sendAttempted$.next(),n;case"initialized":case"connecting":case"dormant":return this.buffer.push(t),this.connect(),n;case"connected":{if(!this.socket)throw new ET;return this.socket.readyState===v0.OPEN?(this.outgoing$.next({to:this.url,message:t}),this.socket.send(JSON.stringify(t)),this.sendAttempted$.next(),n):(this.buffer.push(t),n)}case"waiting-for-retrying":case"retrying":case"error":return this.sendAttempted$.next(),this.unsent.push(t),n}}getEVENTObservable(){return this.message$.pipe(dn(t=>t.type==="EVENT"))}getEOSEObservable(){return this.message$.pipe(dn(t=>t.type==="EOSE"))}getCLOSEDObservable(){return this.message$.pipe(dn(t=>t.type==="CLOSED"))}getOKObservable(){return this.message$.pipe(dn(t=>t.type==="OK"))}getAUTHObservable(){return this.message$.pipe(dn(t=>t.type==="AUTH"))}getAllMessageObservable(){return this.message$.asObservable()}getOutgoingMessageObservable(){return this.outgoing$.asObservable()}getReconnectedObservable(){return this.reconnected$.asObservable()}getConnectionStateObservable(){return this.state$.pipe(M6(),So(t=>({from:this.url,state:t})))}getErrorObservable(){return this.error$.asObservable()}dispose(){this[Symbol.dispose]()}[Symbol.dispose](){var t,n;if(this.disposed)return;this.disposed=!0,this.setState("terminated"),(t=this.retryTimer)==null||t.unsubscribe(),(n=this.socket)==null||n.close(js.RX_NOSTR_DISPOSED),this.socket=null;const r=[this.state$,this.outgoing$,this.message$,this.error$,this.reconnected$,this.sendAttempted$];for(const o of r)o.complete()}}function K6(e,t){switch(e.strategy){case"exponential":{const n=Math.max(e.initialDelay*2**(t-1)+(Math.random()-.5)*1e3,1e3);return g0(n)}case"immediately":return WT(0);case"linear":return g0(e.interval);case"off":return Kl}}const js={ABNORMAL_CLOSURE:1006,DONT_RETRY:4e3,RX_NOSTR_IDLE:4537,RX_NOSTR_DISPOSED:4538};class Z6{constructor(t){Y(this,"relay"),Y(this,"authProxy"),Y(this,"config"),Y(this,"subs",new Map),Y(this,"authRequiredSubs",new Set),Y(this,"fin$",new $e),Y(this,"disposed",!1),Y(this,"queue");var n;this.relay=t.relay,this.authProxy=t.authProxy,this.config=t.config,this.queue=new G6(this.relay.url,this.config),this.queue.getActivationObservable().subscribe(r=>{for(const{req:o}of r)this.sendREQ(o)}),this.relay.getReconnectedObservable().subscribe(()=>{for(const{req:r}of this.queue.ongoings)this.sendREQ(r)}),this.relay.getEOSEObservable().subscribe(({subId:r})=>{var o;(o=this.subs.get(r))!=null&&o.autoclose&&this.unsubscribe(r)}),this.relay.getCLOSEDObservable().subscribe(async({subId:r,notice:o})=>{this.subs.get(r)&&(this.authProxy&&o!=null&&o.startsWith("auth-required:")?this.authRequiredSubs.add(r):this.fin(r))}),(n=this.authProxy)==null||n.getAuthResultObservable().subscribe(r=>{var o;if(r)for(const s of this.authRequiredSubs){const i=(o=this.subs.get(s))==null?void 0:o.req;i&&this.sendREQ(i)}else for(const s of this.authRequiredSubs)this.fin(s);this.authRequiredSubs.clear()})}subscribe(t,n){if(this.disposed)return;const r=t[1],o={subId:r,req:t,autoclose:n};this.subs.set(r,o),this.queue.enqueue(o)}unsubscribe(t){this.disposed||(this.subs.has(t)&&this.sendCLOSE(t),this.fin(t))}isOngoingOrQueued(t){return this.subs.has(t)}getEventObservable(){return this.relay.getEVENTObservable().pipe(dn(({subId:t,event:n})=>{var r;const o=(r=this.subs.get(t))==null?void 0:r.filters;return o?this.config.skipValidateFilterMatching||IB(n,o):!1}))}getFinObservable(){return this.fin$.asObservable()}getLogicalConnectionSizeObservable(){return this.queue.getSizeObservable()}dispose(){this[Symbol.dispose]()}[Symbol.dispose](){if(this.disposed)return;this.disposed=!0;const t=[this.fin$];for(const n of t)n.complete();this.queue.dispose()}sendREQ([,t,...n]){const r=AB(n),o=this.subs.get(t);o&&(o.filters=r,this.relay.send(["REQ",t,...r]))}sendCLOSE(t){this.relay.send(["CLOSE",t])}fin(t){this.subs.delete(t),this.queue.drop(t),this.fin$.next({from:this.relay.url,subId:t})}}class G6{constructor(t,n){Y(this,"_queuings",[]),Y(this,"_ongoings",[]),Y(this,"activated$",new $e),Y(this,"count$",new YT),this.url=t,this.config=n}get queuings(){return this._queuings}set queuings(t){this._queuings=t}get ongoings(){return this._ongoings}set ongoings(t){this._ongoings=t}enqueue(t){this.queuings=[...this.queuings,t],this.count$.increment(),this.shift()}drop(t){const n=(a,l)=>{const u=a.length,c=a.filter(h=>h.subId!==l),d=u-c.length;return[c,d]},[r,o]=n(this.queuings,t),[s,i]=n(this.ongoings,t);this.queuings=r,this.ongoings=s,this.count$.next(a=>a-(o+i)),this.shift()}getActivationObservable(){return this.activated$.asObservable()}getSizeObservable(){return this.count$.asObservable()}dispose(){const t=[this.activated$,this.count$];for(const n of t)n.complete()}async shift(){const t=await this.capacity(),n=[...this.ongoings,...this.queuings],r=n.slice(0,t),o=n.slice(t),s=this.queuings.slice(0,t-this.ongoings.length);this.ongoings=r,this.queuings=o,s.length>0&&this.activated$.next(s)}async capacity(){return await $c.getValue(this.url,t=>{var n;return(n=t.limitation)==null?void 0:n.max_subscriptions},{skipFetch:this.config.skipFetchNip11})??1/0}}class Q6{constructor(t,n){Y(this,"relay"),Y(this,"pubProxy"),Y(this,"subProxy"),Y(this,"defaultSubscriptionIds",new Set),Y(this,"communicating",!1),Y(this,"strategy","lazy"),Y(this,"disconnectTimeout"),Y(this,"disconnectTimer"),Y(this,"isDefaultRelay",!1),Y(this,"disposed",!1),Y(this,"_url"),this._url=fr(t);const r=Y6(t,n),o=new q6(this.url,n),s=r?new V6({relay:o,config:n,authenticator:r}):null,i=new H6({relay:o,authProxy:s}),a=new Z6({relay:o,authProxy:s,config:n});this.relay=o,this.pubProxy=i,this.subProxy=a,this.disconnectTimeout=n.disconnectTimeout,k6([this.pubProxy.getLogicalConnectionSizeObservable(),this.subProxy.getLogicalConnectionSizeObservable()]).pipe(So(([l,u])=>l+u)).subscribe(l=>{this.communicating=l>0,this.resetConnection()})}get url(){return this._url}setConnectionStrategy(t){this.disposed||(this.strategy=t,this.resetConnection())}resetConnection(){let t=this.strategy;switch(this.isDefaultRelay||(t="lazy"),t){case"lazy":{const n=()=>{this.communicating||this.relay.disconnect(js.RX_NOSTR_IDLE)};this.disconnectTimeout>0?(this.disconnectTimeout&&(clearTimeout(this.disconnectTimer),this.disconnectTimer=void 0),this.disconnectTimer=setTimeout(n,this.disconnectTimeout)):n();break}case"lazy-keep":break;case"aggressive":{(this.connectionState==="initialized"||this.connectionState==="dormant")&&this.relay.connectManually();break}}}markAsDefault(t){if(!this.disposed){if(this.isDefaultRelay=t,!this.isDefaultRelay){for(const n of this.defaultSubscriptionIds)this.subProxy.unsubscribe(n);this.defaultSubscriptionIds.clear()}this.resetConnection()}}async publish(t){if(!this.disposed)return this.pubProxy.publish(t)}confirmOK(t){this.disposed||this.pubProxy.confirmOK(t)}subscribe(t,n){if(this.disposed)return;const{mode:r,overwrite:o,autoclose:s}=Hl(n??{},{overwrite:!1,autoclose:!1,mode:"default"}),[,i]=t;r==="default"&&!this.isDefaultRelay||!o&&this.subProxy.isOngoingOrQueued(i)||(r==="default"&&this.defaultSubscriptionIds.add(i),this.subProxy.subscribe(t,s))}unsubscribe(t){this.disposed||(this.defaultSubscriptionIds.delete(t),this.subProxy.unsubscribe(t))}getEventObservable(){if(this.disposed)throw new cr;return this.subProxy.getEventObservable()}getFinObservable(){if(this.disposed)throw new cr;return this.subProxy.getFinObservable()}getOkAgainstEventObservable(){if(this.disposed)throw new cr;return this.pubProxy.getOkAgainstEventObservable()}getAllMessageObservable(){if(this.disposed)throw new cr;return this.relay.getAllMessageObservable()}getOutgoingMessageObservable(){if(this.disposed)throw new cr;return this.relay.getOutgoingMessageObservable()}getConnectionStateObservable(){if(this.disposed)throw new cr;return this.relay.getConnectionStateObservable()}get connectionState(){return this.relay.state}getErrorObservable(){if(this.disposed)throw new cr;return this.relay.getErrorObservable().pipe(So(t=>({from:this.url,reason:t})))}connectManually(){this.relay.connectManually()}dispose(){this[Symbol.dispose]()}[Symbol.dispose](){this.disposed||(this.disposed=!0,this.disconnectTimer&&clearTimeout(this.disconnectTimer),this.disconnectTimer=void 0,this.relay.dispose(),this.pubProxy.dispose(),this.subProxy.dispose())}}function Y6(e,t){const n=t.authenticator;if(!n)return;const r=n instanceof Function?n(e):n;return r==="auto"?{}:r}function X6(e,t){return e.filter(n=>!t.includes(n))}function J6(e){const{rxReq:t,index:n}=e,{rxReqId:r,strategy:o}=t;return`${r}:${o==="backward"?n:0}`}function e5(e){const{rxReq:t,filters:n,index:r}=e;return["REQ",J6({rxReq:t,index:r}),...n]}function w0(e){if(Array.isArray(e)){const t=e.map(n=>{let r="",o=!1,s=!1;if(typeof n=="string")r=n,o=!0,s=!0;else if(Array.isArray(n)){const i=n[2];r=n[1],o=!i||i==="read",s=!i||i==="write"}else r=n.url,o=n.read,s=n.write;return{url:r,read:o,write:s}});return Object.fromEntries(t.map(n=>[n.url,n]))}else{const t=Object.entries(e).map(([n,r])=>({url:n,...r}));return Object.fromEntries(t.map(n=>[n.url,n]))}}function b0(e,t){const n=new Set;if(t!=null&&t.on){const r=t.on;if(!r.defaultReadRelays&&!r.defaultWriteRelays&&!r.relays)return;const o=e.getDefaultRelays();if(r.defaultReadRelays)for(const{url:s}of Object.values(o).filter(i=>i.read))n.add(s);if(r.defaultWriteRelays)for(const{url:s}of Object.values(o).filter(i=>i.write))n.add(s);if(r.relays)for(const s of r.relays)n.add(fr(s));return[...n]}else if(t!=null&&t.relays){for(const r of t.relays)n.add(fr(r));return[...n]}else return}function mh(e){return new t5(RB(e??{}))}class t5{constructor(t){Y(this,"connections",new ii),Y(this,"defaultRelays",new ii),Y(this,"defaultSubscriptions",new Map),Y(this,"event$",new $e),Y(this,"fin$",new $e),Y(this,"ok$",new $e),Y(this,"all$",new $e),Y(this,"error$",new $e),Y(this,"connectionState$",new $e),Y(this,"outgoing$",new $e),Y(this,"dispose$",new $e),Y(this,"disposed",!1),this.config=t}get defaultReadables(){const t=[];for(const{url:n,read:r}of this.defaultRelays.values()){const o=this.connections.get(n);r&&o&&t.push(o)}return t}get defaultWritables(){const t=[];for(const{url:n,write:r}of this.defaultRelays.values()){const o=this.connections.get(n);r&&o&&t.push(o)}return t}getDefaultRelays(){if(this.disposed)throw new cr;return this.defaultRelays.toObject()}getDefaultRelay(t){return this.defaultRelays.get(t)}setDefaultRelays(t){if(this.disposed)throw new cr;const n=new ii(w0(t)),r=[];for(const{read:o,url:s}of n.values()){const i=this.ensureNostrConnection(s);i.setConnectionStrategy(this.config.connectionStrategy),o&&r.push(i)}this.updateDefaultSubscriptions(r),this.defaultRelays=n}ensureNostrConnection(t){let n=this.connections.get(t);return n||(n=new Q6(t,this.config),this.attachNostrConnection(n),this.connections.set(t,n),n)}attachNostrConnection(t){t.getEventObservable().subscribe(this.event$),t.getFinObservable().subscribe(this.fin$),t.getOkAgainstEventObservable().subscribe(this.ok$),t.getAllMessageObservable().subscribe(this.all$),t.getConnectionStateObservable().subscribe(this.connectionState$),t.getErrorObservable().subscribe(this.error$),t.getOutgoingMessageObservable().subscribe(this.outgoing$)}updateDefaultSubscriptions(t){const n=X6(this.defaultReadables,t);for(const r of n)r.markAsDefault(!1);for(const r of t){r.markAsDefault(!0);for(const{req:o,autoclose:s}of this.defaultSubscriptions.values())r==null||r.subscribe(o,{mode:"default",overwrite:!1,autoclose:s})}}addDefaultRelays(t){const n=w0(t);this.setDefaultRelays({...this.defaultRelays.toObject(),...n})}removeDefaultRelays(t){const n=this.defaultRelays.copy(),r=Array.isArray(t)?t:[t];for(const o of r)n.delete(o);this.setDefaultRelays(n.toObject())}getAllRelayStatus(){return Object.fromEntries(Array.from(this.connections.values()).map(t=>[t.url,{connection:t.connectionState}]))}getRelayStatus(t){const n=this.connections.get(t);if(n)return{connection:n.connectionState}}reconnect(t){const n=this.getDefaultRelay(t);if(!n)throw new nc(`The relay (${t}) is not a default relay. \`reconnect()\` can be used only for a readable default relay.`);if(!n.read)throw new nc(`The relay (${t}) is not readable. \`reconnect()\` can be used only for a readable default relay.`);const r=this.connections.get(t);if(!r)throw new ET;(r.connectionState==="error"||r.connectionState==="rejected")&&r.connectManually()}use(t,n){const r=b0(this,n),o=({filters:c,relays:d},h)=>{var m;const y=t.strategy==="backward"?d:void 0,f=e5({rxReq:t,filters:c,index:h});return{subId:f[1],req:f,targetConnections:((m=y??r)==null?void 0:m.map(w=>this.ensureNostrConnection(w)))??this.defaultReadables,mode:y===void 0&&r===void 0?"default":"temporary"}},s=({req:c,targetConnections:d,mode:h})=>{this.startSubscription({req:c,targetConnections:d,mode:h,overwrite:t.strategy==="forward",autoclose:t.strategy==="backward"})},i=({subId:c,targetConnections:d,mode:h})=>{this.teardownSubscription({subId:c,targetConnections:d,mode:h})},a=({req:c,targetConnections:d})=>t.strategy==="forward"?this.createForwardEventObservable({req:c}).pipe(wa(this.dispose$)):this.createBackwardEventObservable({req:c,targetConnections:d}).pipe(wa(this.dispose$)),l=t.getReqPacketObservable().pipe(dn(({filters:c})=>c.length>0),So(o),wa(this.dispose$)),u=()=>U6(async({event:c})=>(this.config.skipVerify||await this.config.verifier(c))&&(this.config.skipExpirationCheck||!MB(c)));if(t.strategy==="forward"){let c;return l.pipe(Pu(d=>{c=d}),Pu(s),So(a),hh(()=>{c&&i(c)}),F6(),u())}else return l.pipe(Pu(s),So(c=>a(c).pipe(hh(()=>{i(c)}))),GT(),u())}createForwardEventObservable(t){const{req:n}=t,r=n[1];return this.event$.pipe(ph(r))}createBackwardEventObservable(t){const{req:n,targetConnections:r}=t,o=n[1],s=new Set,i=c=>c==="error"||c==="rejected"||c==="terminated",a=()=>r.every(({connectionState:c,url:d})=>i(c)||s.has(d)),l=this.fin$.pipe(ph(o),Pu(({from:c})=>{s.add(c)})),u=A6(l,this.connectionState$.asObservable()).pipe(dn(()=>a()),am(null,void 0));return this.event$.pipe(wa(u),y0(this.config.eoseTimeout),ph(o),dn(c=>!s.has(c.from)))}startSubscription(t){const{req:n,targetConnections:r,mode:o,overwrite:s,autoclose:i}=t,a=n[1];o==="default"&&this.defaultSubscriptions.set(a,{req:n,autoclose:i});for(const l of r)l.subscribe(n,{mode:o,overwrite:s,autoclose:i})}teardownSubscription(t){const{subId:n,targetConnections:r,mode:o}=t;o==="default"&&this.defaultSubscriptions.delete(n);for(const s of r)s.unsubscribe(n)}createAllEventObservable(){return this.event$.asObservable()}createAllErrorObservable(){return this.error$.asObservable()}createAllMessageObservable(){return this.all$.asObservable()}createConnectionStateObservable(){return this.connectionState$.asObservable()}createOutgoingMessageObservable(){return this.outgoing$.asObservable()}send(t,n){const{signer:r,errorOnTimeout:o,completeOn:s}=Hl(n??{},{signer:this.config.signer,errorOnTimeout:!1,completeOn:"all-ok"}),i=b0(this,n),a=i===void 0?this.defaultWritables:i.map(m=>this.ensureNostrConnection(m)),l=new $e,u=new Set;let c="";const d=()=>{l.closed||l.complete();for(const m of a)m.confirmOK(c)};r.signEvent(t).then(async m=>{l.closed||(c=m.id,this.ok$.pipe(dn(({eventId:y})=>y===m.id)).subscribe(l),await Promise.all(a.map(y=>y.publish(m))),s==="sent"&&l.complete())}).catch(m=>{throw d(),new nc(m instanceof Error?m.message:"Failed to sign the given event")});const h=(()=>{switch(s){case"sent":return $r;case"all-ok":return B6(({from:m,done:y})=>(y&&u.add(m),u.size<a.length),!0);case"any-ok":return am(m=>m.ok)}})();return l.pipe(h,wa(this.dispose$),o?ZT(this.config.okTimeout):y0(this.config.okTimeout),hh(d))}async cast(t,n){await HT(this.send(t,{...n,completeOn:"sent"}))}dispose(){this[Symbol.dispose]()}[Symbol.dispose](){if(this.disposed)return;this.disposed=!0;for(const n of this.connections.values())n.dispose();this.connections.clear();const t=[this.event$,this.ok$,this.fin$,this.all$,this.connectionState$,this.error$,this.outgoing$];for(const n of t)n.complete();this.dispose$.next(),this.dispose$.complete()}}const XT=e=>{const{strategy:t}=e,n=e.operators??[],r=e.rxReqId??n5(),o=e.subject??new $e;return{strategy:t,rxReqId:r,getReqPacketObservable(){return o.pipe(...n)},pipe(...s){return XT({strategy:t,rxReqId:r,operators:[...n,...s],subject:o})},emit(s,i){o.next({filters:o5(s),...i??{}})},over(){o.complete()}}};function ba(e){return XT({strategy:"forward",rxReqId:e})}function n5(){return`${Math.floor(Math.random()*1e6)}`}function r5(e){var t,n;const r={},o=s=>/^#[a-zA-Z]$/.test(s);for(const s of Object.keys(e)){if(s==="limit"&&(e[s]??-1)>=0){r[s]=e[s];continue}if(s==="since"||s==="until"){const i=e[s];if(typeof i!="number"||(i??-1)>=0){r[s]=i;continue}}if((o(s)||s==="ids"||s==="authors")&&e[s]!==void 0&&(((t=e[s])==null?void 0:t.length)??-1)>0){r[s]=e[s];continue}if(s==="kinds"&&e[s]!==void 0&&(((n=e[s])==null?void 0:n.length)??-1)>0){r[s]=e[s];continue}if(s==="search"&&e[s]!==void 0){r[s]=e[s];continue}}return typeof r.since!="number"||typeof r.until!="number"||r.since<=r.until?r:null}function o5(e){return(Array.isArray(e)?e:[e]).map(t=>r5(t)).filter(t=>t!==null)}function x0(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function s5(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Gl(e,...t){if(!s5(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function i5(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");x0(e.outputLen),x0(e.blockLen)}function Fc(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a5(e,t){Gl(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const gh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yh=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ln=(e,t)=>e<<32-t|e>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];const l5=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Bc(e){Gl(e);let t="";for(let n=0;n<e.length;n++)t+=l5[e[n]];return t}function u5(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Ny(e){return typeof e=="string"&&(e=u5(e)),Gl(e),e}function c5(...e){let t=0;for(let r=0;r<e.length;r++){const o=e[r];Gl(o),t+=o.length}const n=new Uint8Array(t);for(let r=0,o=0;r<e.length;r++){const s=e[r];n.set(s,o),o+=s.length}return n}class JT{clone(){return this._cloneInto()}}function d5(e){const t=r=>e().update(Ny(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ek(e=32){if(gh&&typeof gh.getRandomValues=="function")return gh.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function f5(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const o=BigInt(32),s=BigInt(4294967295),i=Number(n>>o&s),a=Number(n&s),l=r?4:0,u=r?0:4;e.setUint32(t+l,i,r),e.setUint32(t+u,a,r)}const h5=(e,t,n)=>e&t^~e&n,p5=(e,t,n)=>e&t^e&n^t&n;class m5 extends JT{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=yh(this.buffer)}update(t){Fc(this);const{view:n,buffer:r,blockLen:o}=this;t=Ny(t);const s=t.length;for(let i=0;i<s;){const a=Math.min(o-this.pos,s-i);if(a===o){const l=yh(t);for(;o<=s-i;i+=o)this.process(l,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Fc(this),a5(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:s}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(r,0),i=0);for(let d=i;d<o;d++)n[d]=0;f5(r,o-8,BigInt(this.length*8),s),this.process(r,0);const a=yh(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,c[d],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:s,destroyed:i,pos:a}=this;return t.length=o,t.pos=a,t.finished=s,t.destroyed=i,o%n&&t.buffer.set(r),t}}const g5=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Hr=new Uint32Array(64);class y5 extends m5{constructor(){super(64,32,8,!1),this.A=Wr[0]|0,this.B=Wr[1]|0,this.C=Wr[2]|0,this.D=Wr[3]|0,this.E=Wr[4]|0,this.F=Wr[5]|0,this.G=Wr[6]|0,this.H=Wr[7]|0}get(){const{A:t,B:n,C:r,D:o,E:s,F:i,G:a,H:l}=this;return[t,n,r,o,s,i,a,l]}set(t,n,r,o,s,i,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=a|0,this.H=l|0}process(t,n){for(let d=0;d<16;d++,n+=4)Hr[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const h=Hr[d-15],m=Hr[d-2],y=Ln(h,7)^Ln(h,18)^h>>>3,f=Ln(m,17)^Ln(m,19)^m>>>10;Hr[d]=f+Hr[d-7]+y+Hr[d-16]|0}let{A:r,B:o,C:s,D:i,E:a,F:l,G:u,H:c}=this;for(let d=0;d<64;d++){const h=Ln(a,6)^Ln(a,11)^Ln(a,25),m=c+h+h5(a,l,u)+g5[d]+Hr[d]|0,y=(Ln(r,2)^Ln(r,13)^Ln(r,22))+p5(r,o,s)|0;c=u,u=l,l=a,a=i+m|0,i=s,s=o,o=r,r=m+y|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,o,s,i,a,l,u,c)}roundClean(){Hr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Uc=d5(()=>new y5);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tk=BigInt(0),Qd=BigInt(1),v5=BigInt(2);function ys(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Ql(e){if(!ys(e))throw new Error("Uint8Array expected")}const w5=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Bi(e){Ql(e);let t="";for(let n=0;n<e.length;n++)t+=w5[e[n]];return t}function nk(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Ty(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const ir={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function E0(e){if(e>=ir._0&&e<=ir._9)return e-ir._0;if(e>=ir._A&&e<=ir._F)return e-(ir._A-10);if(e>=ir._a&&e<=ir._f)return e-(ir._a-10)}function Ui(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let o=0,s=0;o<n;o++,s+=2){const i=E0(e.charCodeAt(s)),a=E0(e.charCodeAt(s+1));if(i===void 0||a===void 0){const l=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[o]=i*16+a}return r}function Vt(e){return Ty(Bi(e))}function ky(e){return Ql(e),Ty(Bi(Uint8Array.from(e).reverse()))}function Po(e,t){return Ui(e.toString(16).padStart(t*2,"0"))}function Py(e,t){return Po(e,t).reverse()}function b5(e){return Ui(nk(e))}function vt(e,t,n){let r;if(typeof t=="string")try{r=Ui(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(ys(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(`${e} expected ${n} bytes, got ${o}`);return r}function vs(...e){let t=0;for(let r=0;r<e.length;r++){const o=e[r];Ql(o),t+=o.length}const n=new Uint8Array(t);for(let r=0,o=0;r<e.length;r++){const s=e[r];n.set(s,o),o+=s.length}return n}function x5(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function E5(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function S5(e){let t;for(t=0;e>tk;e>>=Qd,t+=1);return t}function _5(e,t){return e>>BigInt(t)&Qd}function C5(e,t,n){return e|(n?Qd:tk)<<BigInt(t)}const Ry=e=>(v5<<BigInt(e-1))-Qd,vh=e=>new Uint8Array(e),S0=e=>Uint8Array.from(e);function rk(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=vh(e),o=vh(e),s=0;const i=()=>{r.fill(1),o.fill(0),s=0},a=(...c)=>n(o,r,...c),l=(c=vh())=>{o=a(S0([0]),c),r=a(),c.length!==0&&(o=a(S0([1]),c),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let c=0;const d=[];for(;c<t;){r=a();const h=r.slice();d.push(h),c+=r.length}return vs(...d)};return(c,d)=>{i(),l(c);let h;for(;!(h=d(u()));)l();return i(),h}}const N5={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||ys(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Yl(e,t,n={}){const r=(o,s,i)=>{const a=N5[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=e[o];if(!(i&&l===void 0)&&!a(l,e))throw new Error(`Invalid param ${String(o)}=${l} (${typeof l}), expected ${s}`)};for(const[o,s]of Object.entries(t))r(o,s,!1);for(const[o,s]of Object.entries(n))r(o,s,!0);return e}const T5=Object.freeze(Object.defineProperty({__proto__:null,abytes:Ql,bitGet:_5,bitLen:S5,bitMask:Ry,bitSet:C5,bytesToHex:Bi,bytesToNumberBE:Vt,bytesToNumberLE:ky,concatBytes:vs,createHmacDrbg:rk,ensureBytes:vt,equalBytes:x5,hexToBytes:Ui,hexToNumber:Ty,isBytes:ys,numberToBytesBE:Po,numberToBytesLE:Py,numberToHexUnpadded:nk,numberToVarBytesBE:b5,utf8ToBytes:E5,validateObject:Yl},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const et=BigInt(0),ze=BigInt(1),Go=BigInt(2),k5=BigInt(3),lm=BigInt(4),_0=BigInt(5),C0=BigInt(8);BigInt(9);BigInt(16);function it(e,t){const n=e%t;return n>=et?n:t+n}function P5(e,t,n){if(n<=et||t<et)throw new Error("Expected power/modulo > 0");if(n===ze)return et;let r=ze;for(;t>et;)t&ze&&(r=r*e%n),e=e*e%n,t>>=ze;return r}function rn(e,t,n){let r=e;for(;t-- >et;)r*=r,r%=n;return r}function um(e,t){if(e===et||t<=et)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=it(e,t),r=t,o=et,s=ze;for(;n!==et;){const i=r/n,a=r%n,l=o-s*i;r=n,n=a,o=s,s=l}if(r!==ze)throw new Error("invert: does not exist");return it(o,t)}function R5(e){const t=(e-ze)/Go;let n,r,o;for(n=e-ze,r=0;n%Go===et;n/=Go,r++);for(o=Go;o<e&&P5(o,t,e)!==e-ze;o++);if(r===1){const i=(e+ze)/lm;return function(a,l){const u=a.pow(l,i);if(!a.eql(a.sqr(u),l))throw new Error("Cannot find square root");return u}}const s=(n+ze)/Go;return function(i,a){if(i.pow(a,t)===i.neg(i.ONE))throw new Error("Cannot find square root");let l=r,u=i.pow(i.mul(i.ONE,o),n),c=i.pow(a,s),d=i.pow(a,n);for(;!i.eql(d,i.ONE);){if(i.eql(d,i.ZERO))return i.ZERO;let h=1;for(let y=i.sqr(d);h<l&&!i.eql(y,i.ONE);h++)y=i.sqr(y);const m=i.pow(u,ze<<BigInt(l-h-1));u=i.sqr(m),c=i.mul(c,m),d=i.mul(d,u),l=h}return c}}function A5(e){if(e%lm===k5){const t=(e+ze)/lm;return function(n,r){const o=n.pow(r,t);if(!n.eql(n.sqr(o),r))throw new Error("Cannot find square root");return o}}if(e%C0===_0){const t=(e-_0)/C0;return function(n,r){const o=n.mul(r,Go),s=n.pow(o,t),i=n.mul(r,s),a=n.mul(n.mul(i,Go),s),l=n.mul(i,n.sub(a,n.ONE));if(!n.eql(n.sqr(l),r))throw new Error("Cannot find square root");return l}}return R5(e)}const O5=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function I5(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=O5.reduce((r,o)=>(r[o]="function",r),t);return Yl(e,n)}function M5(e,t,n){if(n<et)throw new Error("Expected power > 0");if(n===et)return e.ONE;if(n===ze)return t;let r=e.ONE,o=t;for(;n>et;)n&ze&&(r=e.mul(r,o)),o=e.sqr(o),n>>=ze;return r}function $5(e,t){const n=new Array(t.length),r=t.reduce((s,i,a)=>e.is0(i)?s:(n[a]=s,e.mul(s,i)),e.ONE),o=e.inv(r);return t.reduceRight((s,i,a)=>e.is0(i)?s:(n[a]=e.mul(s,n[a]),e.mul(s,i)),o),n}function ok(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function D5(e,t,n=!1,r={}){if(e<=et)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:s}=ok(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=A5(e),a=Object.freeze({ORDER:e,BITS:o,BYTES:s,MASK:Ry(o),ZERO:et,ONE:ze,create:l=>it(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return et<=l&&l<e},is0:l=>l===et,isOdd:l=>(l&ze)===ze,neg:l=>it(-l,e),eql:(l,u)=>l===u,sqr:l=>it(l*l,e),add:(l,u)=>it(l+u,e),sub:(l,u)=>it(l-u,e),mul:(l,u)=>it(l*u,e),pow:(l,u)=>M5(a,l,u),div:(l,u)=>it(l*um(u,e),e),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>um(l,e),sqrt:r.sqrt||(l=>i(a,l)),invertBatch:l=>$5(a,l),cmov:(l,u,c)=>c?u:l,toBytes:l=>n?Py(l,s):Po(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return n?ky(l):Vt(l)}});return Object.freeze(a)}function sk(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ik(e){const t=sk(e);return t+Math.ceil(t/2)}function j5(e,t,n=!1){const r=e.length,o=sk(t),s=ik(t);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const i=n?Vt(e):ky(e),a=it(i,t-ze)+ze;return n?Py(a,o):Po(a,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const L5=BigInt(0),wh=BigInt(1);function F5(e,t){const n=(o,s)=>{const i=s.negate();return o?i:s},r=o=>{const s=Math.ceil(t/o)+1,i=2**(o-1);return{windows:s,windowSize:i}};return{constTimeNegate:n,unsafeLadder(o,s){let i=e.ZERO,a=o;for(;s>L5;)s&wh&&(i=i.add(a)),a=a.double(),s>>=wh;return i},precomputeWindow(o,s){const{windows:i,windowSize:a}=r(s),l=[];let u=o,c=u;for(let d=0;d<i;d++){c=u,l.push(c);for(let h=1;h<a;h++)c=c.add(u),l.push(c);u=c.double()}return l},wNAF(o,s,i){const{windows:a,windowSize:l}=r(o);let u=e.ZERO,c=e.BASE;const d=BigInt(2**o-1),h=2**o,m=BigInt(o);for(let y=0;y<a;y++){const f=y*l;let w=Number(i&d);i>>=m,w>l&&(w-=h,i+=wh);const p=f,v=f+Math.abs(w)-1,x=y%2!==0,E=w<0;w===0?c=c.add(n(x,s[p])):u=u.add(n(E,s[v]))}return{p:u,f:c}},wNAFCached(o,s,i,a){const l=o._WINDOW_SIZE||1;let u=s.get(o);return u||(u=this.precomputeWindow(o,l),l!==1&&s.set(o,a(u))),this.wNAF(l,u,i)}}}function ak(e){return I5(e.Fp),Yl(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ok(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function B5(e){const t=ak(e);Yl(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:U5,hexToBytes:z5}=T5,ts={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=ts;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:U5(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=ts,n=typeof e=="string"?z5(e):e;Ql(n);let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:o,l:s}=ts._parseInt(n.subarray(2)),{d:i,l:a}=ts._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:i}},hexFromSig(e){const t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const c=u.toString(16);return c.length&1?`0${c}`:c},r=t(n(e.s)),o=t(n(e.r)),s=r.length/2,i=o.length/2,a=n(s),l=n(i);return`30${n(i+s+4)}02${l}${o}02${a}${r}`}},mr=BigInt(0),an=BigInt(1);BigInt(2);const N0=BigInt(3);BigInt(4);function V5(e){const t=B5(e),{Fp:n}=t,r=t.toBytes||((y,f,w)=>{const p=f.toAffine();return vs(Uint8Array.from([4]),n.toBytes(p.x),n.toBytes(p.y))}),o=t.fromBytes||(y=>{const f=y.subarray(1),w=n.fromBytes(f.subarray(0,n.BYTES)),p=n.fromBytes(f.subarray(n.BYTES,2*n.BYTES));return{x:w,y:p}});function s(y){const{a:f,b:w}=t,p=n.sqr(y),v=n.mul(p,y);return n.add(n.add(v,n.mul(y,f)),w)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function i(y){return typeof y=="bigint"&&mr<y&&y<t.n}function a(y){if(!i(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(y){const{allowedPrivateKeyLengths:f,nByteLength:w,wrapPrivateKey:p,n:v}=t;if(f&&typeof y!="bigint"){if(ys(y)&&(y=Bi(y)),typeof y!="string"||!f.includes(y.length))throw new Error("Invalid key");y=y.padStart(w*2,"0")}let x;try{x=typeof y=="bigint"?y:Vt(vt("private key",y,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof y}`)}return p&&(x=it(x,v)),a(x),x}const u=new Map;function c(y){if(!(y instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(f,w,p){if(this.px=f,this.py=w,this.pz=p,f==null||!n.isValid(f))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(p==null||!n.isValid(p))throw new Error("z required")}static fromAffine(f){const{x:w,y:p}=f||{};if(!f||!n.isValid(w)||!n.isValid(p))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const v=x=>n.eql(x,n.ZERO);return v(w)&&v(p)?d.ZERO:new d(w,p,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const w=n.invertBatch(f.map(p=>p.pz));return f.map((p,v)=>p.toAffine(w[v])).map(d.fromAffine)}static fromHex(f){const w=d.fromAffine(o(vt("pointHex",f)));return w.assertValidity(),w}static fromPrivateKey(f){return d.BASE.multiply(l(f))}_setWindowSize(f){this._WINDOW_SIZE=f,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:f,y:w}=this.toAffine();if(!n.isValid(f)||!n.isValid(w))throw new Error("bad point: x or y not FE");const p=n.sqr(w),v=s(f);if(!n.eql(p,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:f}=this.toAffine();if(n.isOdd)return!n.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:w,py:p,pz:v}=this,{px:x,py:E,pz:_}=f,S=n.eql(n.mul(w,_),n.mul(x,v)),C=n.eql(n.mul(p,_),n.mul(E,v));return S&&C}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:f,b:w}=t,p=n.mul(w,N0),{px:v,py:x,pz:E}=this;let _=n.ZERO,S=n.ZERO,C=n.ZERO,N=n.mul(v,v),B=n.mul(x,x),M=n.mul(E,E),D=n.mul(v,x);return D=n.add(D,D),C=n.mul(v,E),C=n.add(C,C),_=n.mul(f,C),S=n.mul(p,M),S=n.add(_,S),_=n.sub(B,S),S=n.add(B,S),S=n.mul(_,S),_=n.mul(D,_),C=n.mul(p,C),M=n.mul(f,M),D=n.sub(N,M),D=n.mul(f,D),D=n.add(D,C),C=n.add(N,N),N=n.add(C,N),N=n.add(N,M),N=n.mul(N,D),S=n.add(S,N),M=n.mul(x,E),M=n.add(M,M),N=n.mul(M,D),_=n.sub(_,N),C=n.mul(M,B),C=n.add(C,C),C=n.add(C,C),new d(_,S,C)}add(f){c(f);const{px:w,py:p,pz:v}=this,{px:x,py:E,pz:_}=f;let S=n.ZERO,C=n.ZERO,N=n.ZERO;const B=t.a,M=n.mul(t.b,N0);let D=n.mul(w,x),j=n.mul(p,E),V=n.mul(v,_),A=n.add(w,p),T=n.add(x,E);A=n.mul(A,T),T=n.add(D,j),A=n.sub(A,T),T=n.add(w,v);let k=n.add(x,_);return T=n.mul(T,k),k=n.add(D,V),T=n.sub(T,k),k=n.add(p,v),S=n.add(E,_),k=n.mul(k,S),S=n.add(j,V),k=n.sub(k,S),N=n.mul(B,T),S=n.mul(M,V),N=n.add(S,N),S=n.sub(j,N),N=n.add(j,N),C=n.mul(S,N),j=n.add(D,D),j=n.add(j,D),V=n.mul(B,V),T=n.mul(M,T),j=n.add(j,V),V=n.sub(D,V),V=n.mul(B,V),T=n.add(T,V),D=n.mul(j,T),C=n.add(C,D),D=n.mul(k,T),S=n.mul(A,S),S=n.sub(S,D),D=n.mul(A,j),N=n.mul(k,N),N=n.add(N,D),new d(S,C,N)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return m.wNAFCached(this,u,f,w=>{const p=n.invertBatch(w.map(v=>v.pz));return w.map((v,x)=>v.toAffine(p[x])).map(d.fromAffine)})}multiplyUnsafe(f){const w=d.ZERO;if(f===mr)return w;if(a(f),f===an)return this;const{endo:p}=t;if(!p)return m.unsafeLadder(this,f);let{k1neg:v,k1:x,k2neg:E,k2:_}=p.splitScalar(f),S=w,C=w,N=this;for(;x>mr||_>mr;)x&an&&(S=S.add(N)),_&an&&(C=C.add(N)),N=N.double(),x>>=an,_>>=an;return v&&(S=S.negate()),E&&(C=C.negate()),C=new d(n.mul(C.px,p.beta),C.py,C.pz),S.add(C)}multiply(f){a(f);let w=f,p,v;const{endo:x}=t;if(x){const{k1neg:E,k1:_,k2neg:S,k2:C}=x.splitScalar(w);let{p:N,f:B}=this.wNAF(_),{p:M,f:D}=this.wNAF(C);N=m.constTimeNegate(E,N),M=m.constTimeNegate(S,M),M=new d(n.mul(M.px,x.beta),M.py,M.pz),p=N.add(M),v=B.add(D)}else{const{p:E,f:_}=this.wNAF(w);p=E,v=_}return d.normalizeZ([p,v])[0]}multiplyAndAddUnsafe(f,w,p){const v=d.BASE,x=(_,S)=>S===mr||S===an||!_.equals(v)?_.multiplyUnsafe(S):_.multiply(S),E=x(this,w).add(x(f,p));return E.is0()?void 0:E}toAffine(f){const{px:w,py:p,pz:v}=this,x=this.is0();f==null&&(f=x?n.ONE:n.inv(v));const E=n.mul(w,f),_=n.mul(p,f),S=n.mul(v,f);if(x)return{x:n.ZERO,y:n.ZERO};if(!n.eql(S,n.ONE))throw new Error("invZ was invalid");return{x:E,y:_}}isTorsionFree(){const{h:f,isTorsionFree:w}=t;if(f===an)return!0;if(w)return w(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:w}=t;return f===an?this:w?w(d,this):this.multiplyUnsafe(t.h)}toRawBytes(f=!0){return this.assertValidity(),r(d,this,f)}toHex(f=!0){return Bi(this.toRawBytes(f))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,m=F5(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:i}}function W5(e){const t=ak(e);return Yl(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function H5(e){const t=W5(e),{Fp:n,n:r}=t,o=n.BYTES+1,s=2*n.BYTES+1;function i(T){return mr<T&&T<n.ORDER}function a(T){return it(T,r)}function l(T){return um(T,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:d,isWithinCurveOrder:h}=V5({...t,toBytes(T,k,I){const P=k.toAffine(),R=n.toBytes(P.x),$=vs;return I?$(Uint8Array.from([k.hasEvenY()?2:3]),R):$(Uint8Array.from([4]),R,n.toBytes(P.y))},fromBytes(T){const k=T.length,I=T[0],P=T.subarray(1);if(k===o&&(I===2||I===3)){const R=Vt(P);if(!i(R))throw new Error("Point is not on curve");const $=d(R);let F;try{F=n.sqrt($)}catch(q){const G=q instanceof Error?": "+q.message:"";throw new Error("Point is not on curve"+G)}const U=(F&an)===an;return(I&1)===1!==U&&(F=n.neg(F)),{x:R,y:F}}else if(k===s&&I===4){const R=n.fromBytes(P.subarray(0,n.BYTES)),$=n.fromBytes(P.subarray(n.BYTES,2*n.BYTES));return{x:R,y:$}}else throw new Error(`Point of length ${k} was invalid. Expected ${o} compressed bytes or ${s} uncompressed bytes`)}}),m=T=>Bi(Po(T,t.nByteLength));function y(T){const k=r>>an;return T>k}function f(T){return y(T)?a(-T):T}const w=(T,k,I)=>Vt(T.slice(k,I));class p{constructor(k,I,P){this.r=k,this.s=I,this.recovery=P,this.assertValidity()}static fromCompact(k){const I=t.nByteLength;return k=vt("compactSignature",k,I*2),new p(w(k,0,I),w(k,I,2*I))}static fromDER(k){const{r:I,s:P}=ts.toSig(vt("DER",k));return new p(I,P)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(k){return new p(this.r,this.s,k)}recoverPublicKey(k){const{r:I,s:P,recovery:R}=this,$=C(vt("msgHash",k));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const F=R===2||R===3?I+t.n:I;if(F>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const U=R&1?"03":"02",q=u.fromHex(U+m(F)),G=l(F),ye=a(-$*G),de=a(P*G),J=u.BASE.multiplyAndAddUnsafe(q,ye,de);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Ui(this.toDERHex())}toDERHex(){return ts.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ui(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const v={isValidPrivateKey(T){try{return c(T),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const T=ik(t.n);return j5(t.randomBytes(T),t.n)},precompute(T=8,k=u.BASE){return k._setWindowSize(T),k.multiply(BigInt(3)),k}};function x(T,k=!0){return u.fromPrivateKey(T).toRawBytes(k)}function E(T){const k=ys(T),I=typeof T=="string",P=(k||I)&&T.length;return k?P===o||P===s:I?P===2*o||P===2*s:T instanceof u}function _(T,k,I=!0){if(E(T))throw new Error("first arg must be private key");if(!E(k))throw new Error("second arg must be public key");return u.fromHex(k).multiply(c(T)).toRawBytes(I)}const S=t.bits2int||function(T){const k=Vt(T),I=T.length*8-t.nBitLength;return I>0?k>>BigInt(I):k},C=t.bits2int_modN||function(T){return a(S(T))},N=Ry(t.nBitLength);function B(T){if(typeof T!="bigint")throw new Error("bigint expected");if(!(mr<=T&&T<N))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Po(T,t.nByteLength)}function M(T,k,I=D){if(["recovered","canonical"].some(be=>be in I))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:R}=t;let{lowS:$,prehash:F,extraEntropy:U}=I;$==null&&($=!0),T=vt("msgHash",T),F&&(T=vt("prehashed msgHash",P(T)));const q=C(T),G=c(k),ye=[B(G),B(q)];if(U!=null&&U!==!1){const be=U===!0?R(n.BYTES):U;ye.push(vt("extraEntropy",be))}const de=vs(...ye),J=q;function Qe(be){const Ye=S(be);if(!h(Ye))return;const Mn=l(Ye),We=u.BASE.multiply(Ye).toAffine(),Ne=a(We.x);if(Ne===mr)return;const Mt=a(Mn*a(J+Ne*G));if(Mt===mr)return;let zo=(We.x===Ne?0:2)|Number(We.y&an),Vo=Mt;return $&&y(Mt)&&(Vo=f(Mt),zo^=1),new p(Ne,Vo,zo)}return{seed:de,k2sig:Qe}}const D={lowS:t.lowS,prehash:!1},j={lowS:t.lowS,prehash:!1};function V(T,k,I=D){const{seed:P,k2sig:R}=M(T,k,I),$=t;return rk($.hash.outputLen,$.nByteLength,$.hmac)(P,R)}u.BASE._setWindowSize(8);function A(T,k,I,P=j){var R;const $=T;if(k=vt("msgHash",k),I=vt("publicKey",I),"strict"in P)throw new Error("options.strict was renamed to lowS");const{lowS:F,prehash:U}=P;let q,G;try{if(typeof $=="string"||ys($))try{q=p.fromDER($)}catch(We){if(!(We instanceof ts.Err))throw We;q=p.fromCompact($)}else if(typeof $=="object"&&typeof $.r=="bigint"&&typeof $.s=="bigint"){const{r:We,s:Ne}=$;q=new p(We,Ne)}else throw new Error("PARSE");G=u.fromHex(I)}catch(We){if(We.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(F&&q.hasHighS())return!1;U&&(k=t.hash(k));const{r:ye,s:de}=q,J=C(k),Qe=l(de),be=a(J*Qe),Ye=a(ye*Qe),Mn=(R=u.BASE.multiplyAndAddUnsafe(G,be,Ye))==null?void 0:R.toAffine();return Mn?a(Mn.x)===ye:!1}return{CURVE:t,getPublicKey:x,getSharedSecret:_,sign:V,verify:A,ProjectivePoint:u,Signature:p,utils:v}}class lk extends JT{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,i5(t);const r=Ny(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=t.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(t){return Fc(this),this.iHash.update(t),this}digestInto(t){Fc(this),Gl(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const uk=(e,t,n)=>new lk(e,t).update(n).digest();uk.create=(e,t)=>new lk(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function q5(e){return{hash:e,hmac:(t,...n)=>uk(e,t,c5(...n)),randomBytes:ek}}function K5(e,t){const n=r=>H5({...e,...q5(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yd=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),zc=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ck=BigInt(1),Vc=BigInt(2),T0=(e,t)=>(e+t/Vc)/t;function dk(e){const t=Yd,n=BigInt(3),r=BigInt(6),o=BigInt(11),s=BigInt(22),i=BigInt(23),a=BigInt(44),l=BigInt(88),u=e*e*e%t,c=u*u*e%t,d=rn(c,n,t)*c%t,h=rn(d,n,t)*c%t,m=rn(h,Vc,t)*u%t,y=rn(m,o,t)*m%t,f=rn(y,s,t)*y%t,w=rn(f,a,t)*f%t,p=rn(w,l,t)*w%t,v=rn(p,a,t)*f%t,x=rn(v,n,t)*c%t,E=rn(x,i,t)*y%t,_=rn(E,r,t)*u%t,S=rn(_,Vc,t);if(!cm.eql(cm.sqr(S),e))throw new Error("Cannot find square root");return S}const cm=D5(Yd,void 0,void 0,{sqrt:dk}),Ay=K5({a:BigInt(0),b:BigInt(7),Fp:cm,n:zc,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=zc,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ck*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,i=BigInt("0x100000000000000000000000000000000"),a=T0(s*e,t),l=T0(-r*e,t);let u=it(e-a*n-l*o,t),c=it(-a*r-l*s,t);const d=u>i,h=c>i;if(d&&(u=t-u),h&&(c=t-c),u>i||c>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:h,k2:c}}}},Uc),Xd=BigInt(0),fk=e=>typeof e=="bigint"&&Xd<e&&e<Yd,Z5=e=>typeof e=="bigint"&&Xd<e&&e<zc,k0={};function Wc(e,...t){let n=k0[e];if(n===void 0){const r=Uc(Uint8Array.from(e,o=>o.charCodeAt(0)));n=vs(r,r),k0[e]=n}return Uc(vs(n,...t))}const Oy=e=>e.toRawBytes(!0).slice(1),dm=e=>Po(e,32),bh=e=>it(e,Yd),dl=e=>it(e,zc),Iy=Ay.ProjectivePoint,G5=(e,t,n)=>Iy.BASE.multiplyAndAddUnsafe(e,t,n);function fm(e){let t=Ay.utils.normPrivateKeyToScalar(e),n=Iy.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:dl(-t),bytes:Oy(n)}}function hk(e){if(!fk(e))throw new Error("bad x: need 0 < x < p");const t=bh(e*e),n=bh(t*e+BigInt(7));let r=dk(n);r%Vc!==Xd&&(r=bh(-r));const o=new Iy(e,r,ck);return o.assertValidity(),o}function pk(...e){return dl(Vt(Wc("BIP0340/challenge",...e)))}function Q5(e){return fm(e).bytes}function Y5(e,t,n=ek(32)){const r=vt("message",e),{bytes:o,scalar:s}=fm(t),i=vt("auxRand",n,32),a=dm(s^Vt(Wc("BIP0340/aux",i))),l=Wc("BIP0340/nonce",a,o,r),u=dl(Vt(l));if(u===Xd)throw new Error("sign failed: k is zero");const{bytes:c,scalar:d}=fm(u),h=pk(c,o,r),m=new Uint8Array(64);if(m.set(c,0),m.set(dm(dl(d+h*s)),32),!mk(m,r,o))throw new Error("sign: Invalid signature produced");return m}function mk(e,t,n){const r=vt("signature",e,64),o=vt("message",t),s=vt("publicKey",n,32);try{const i=hk(Vt(s)),a=Vt(r.subarray(0,32));if(!fk(a))return!1;const l=Vt(r.subarray(32,64));if(!Z5(l))return!1;const u=pk(dm(a),Oy(i),o),c=G5(i,l,dl(-u));return!(!c||!c.hasEvenY()||c.toAffine().x!==a)}catch{return!1}}const xh={getPublicKey:Q5,sign:Y5,verify:mk,utils:{randomPrivateKey:Ay.utils.randomPrivateKey,lift_x:hk,pointToBytes:Oy,numberToBytesBE:Po,bytesToNumberBE:Vt,taggedHash:Wc,mod:it}};/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function X5(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function J5(...e){const t=s=>s,n=(s,i)=>a=>s(i(a)),r=e.map(s=>s.encode).reduceRight(n,t),o=e.map(s=>s.decode).reduce(n,t);return{encode:r,decode:o}}function eU(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function tU(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}const gk=(e,t)=>t?gk(t,e%t):e,Hc=(e,t)=>e+(t-gk(e,t));function hm(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Hc(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Hc(t,n)}`);let o=0,s=0;const i=2**n-1,a=[];for(const l of e){if(l>=2**t)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(o=o<<t|l,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=n;s-=n)a.push((o>>s-n&i)>>>0);o&=2**s-1}if(o=o<<n-s&i,!r&&s>=t)throw new Error("Excess padding");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&s>0&&a.push(o>>>0),a}function nU(e,t=!1){if(Hc(8,e)>32||Hc(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!X5(n))throw new Error("radix2.encode input should be Uint8Array");return hm(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(hm(n,e,8,t))}}}function P0(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const pm=J5(eU("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),tU("")),R0=[996825010,642813549,513874426,1027748829,705979059];function xa(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<R0.length;r++)(t>>r&1)===1&&(n^=R0[r]);return n}function A0(e,t,n=1){const r=e.length;let o=1;for(let s=0;s<r;s++){const i=e.charCodeAt(s);if(i<33||i>126)throw new Error(`Invalid prefix (${e})`);o=xa(o)^i>>5}o=xa(o);for(let s=0;s<r;s++)o=xa(o)^e.charCodeAt(s)&31;for(let s of t)o=xa(o)^s;for(let s=0;s<6;s++)o=xa(o);return o^=n,pm.encode(hm([o%2**30],30,5,!1))}function rU(e){const n=nU(5),r=n.decode,o=n.encode,s=P0(r);function i(c,d,h=90){if(typeof c!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof c}`);if(!Array.isArray(d)||d.length&&typeof d[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof d}`);if(c.length===0)throw new TypeError(`Invalid prefix length ${c.length}`);const m=c.length+7+d.length;if(h!==!1&&m>h)throw new TypeError(`Length ${m} exceeds limit ${h}`);const y=c.toLowerCase(),f=A0(y,d,1);return`${y}1${pm.encode(d)}${f}`}function a(c,d=90){if(typeof c!="string")throw new Error(`bech32.decode input should be string, not ${typeof c}`);if(c.length<8||d!==!1&&c.length>d)throw new TypeError(`Wrong string length: ${c.length} (${c}). Expected (8..${d})`);const h=c.toLowerCase();if(c!==h&&c!==c.toUpperCase())throw new Error("String must be lowercase or uppercase");const m=h.lastIndexOf("1");if(m===0||m===-1)throw new Error('Letter "1" must be present between prefix and data only');const y=h.slice(0,m),f=h.slice(m+1);if(f.length<6)throw new Error("Data must be at least 6 characters long");const w=pm.decode(f).slice(0,-6),p=A0(y,w,1);if(!f.endsWith(p))throw new Error(`Invalid checksum in ${c}: expected "${p}"`);return{prefix:y,words:w}}const l=P0(a);function u(c){const{prefix:d,words:h}=a(c,!1);return{prefix:d,words:h,bytes:r(h)}}return{encode:i,decode:a,decodeToBytes:u,decodeUnsafe:l,fromWords:r,fromWordsUnsafe:s,toWords:o}}const O0=rU(),oU=new TextEncoder;function sU(e){return Bc(Uc(oU.encode(e)))}const My={sign:(e,t)=>Bc(xh.sign(e,t)),verify:xh.verify,getPublicKey:e=>Bc(xh.getPublicKey(e))};function iU(e){return My.getPublicKey(e)}function yk(e){const t=JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]);return sU(t)}function aU(e,t){return My.sign(e,t)}function lU(e){try{return My.verify(e.sig,yk(e),e.pubkey)}catch(t){return console.warn("The following error occurred during verify():",t),!1}}function uU(e){const{words:t}=O0.decode(e),n=new Uint8Array(O0.fromWords(t));return Bc(n)}function cU(e,t){const n=e.startsWith("nsec1")?uU(e):e,r=iU(n);return{async signEvent(o){const s={...o,pubkey:o.pubkey??r,tags:[...o.tags??[]],created_at:o.created_at??Math.floor(Date.now()/1e3)};if(dU(s))return s;const i=s.id??yk(s),a=s.sig??aU(i,n);return{...s,id:i,sig:a}},async getPublicKey(){return r}}}function dU(e){if(typeof e.id!="string"||typeof e.sig!="string"||typeof e.kind!="number"||typeof e.pubkey!="string"||typeof e.content!="string"||typeof e.created_at!="number"||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){const n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}const Eh=async e=>lU(e),Ru="nostr_metadata_cache",I0="nostr_metadata_timestamp",vk=1e3*60*60*3,M0=1e3,fU=15e3,qr=["wss://r.kojira.io","wss://x.kojira.io"];let Le=null,Sh=!1,_h=!1;const Wo={saveMetadata(e,t){try{const n=this.loadAllMetadata();n[e]=t;const r=Object.entries(n);if(r.length>M0){const o=r.sort(([,i],[,a])=>a.timestamp-i.timestamp).slice(0,M0),s=Object.fromEntries(o);localStorage.setItem(Ru,JSON.stringify(s))}else localStorage.setItem(Ru,JSON.stringify(n));localStorage.setItem(I0,Date.now().toString())}catch(n){console.error("Error saving metadata to localStorage:",n)}},loadAllMetadata(){try{const e=localStorage.getItem(Ru);return e?JSON.parse(e):{}}catch(e){return console.error("Error loading metadata from localStorage:",e),{}}},loadMetadata(e){return this.loadAllMetadata()[e]},clearExpiredMetadata(){const e=Date.now(),t=this.loadAllMetadata(),n=Object.entries(t).filter(([,o])=>e-o.timestamp<vk&&!o.error),r=Object.fromEntries(n);return localStorage.setItem(Ru,JSON.stringify(r)),localStorage.setItem(I0,e.toString()),r},updateMetadata(e,t,n){const r={data:t,timestamp:Date.now(),error:n};return this.saveMetadata(e,r),r}};function Xl(){const{toast:e}=Od(),{user:t}=Uo(),[n,r]=g.useState(!1),[o,s]=g.useState(new Map),[i,a]=g.useState(new Map),l=g.useRef(new Set);g.useRef(0);const u=g.useRef(!1),c=g.useRef([]),[d,h]=g.useState(!1),m=g.useRef(!1),y=g.useRef(t),[f,w]=g.useState(new Set),p=g.useCallback((A,...T)=>{console.log(`[Nostr ${new Date().toISOString()}] ${A}`,...T)},[]),v=g.useCallback(()=>{p("Resetting rx-nostr instance"),Le=null,Sh=!1,r(!1),h(!1),m.current=!1,u.current=!1,l.current.clear(),s(new Map),w(new Set)},[p]);g.useEffect(()=>{var A;(t==null?void 0:t.publicKey)!==((A=y.current)==null?void 0:A.publicKey)&&(p("User changed, resetting Nostr client"),v()),y.current=t},[t,v,p]);const x=g.useCallback(A=>{const T=Wo.loadMetadata(A);return T&&Date.now()-T.timestamp<vk&&!T.error},[]),E=g.useCallback(A=>{const T=Wo.loadMetadata(A);return T&&!T.error?(a(k=>{const I=new Map(k);return I.set(A,T.data),I}),!0):!1},[]),_=g.useCallback(async()=>{if(!(_h||!c.current.length)){_h=!0,p("Starting metadata queue processing");try{for(;c.current.length>0;){const A=c.current[0];if(x(A)){p(`Using cached metadata for ${A}`),E(A),c.current.shift();continue}if(!Le||!m.current){p(`Metadata load skipped: rxInstance=${!!Le}, ready=${m.current}`);break}p(`Requesting metadata for ${A}`);try{await new Promise((T,k)=>{const I={kinds:[0],authors:[A],limit:1},P=ba();let R=!1;const $=setTimeout(()=>{if(!R){p(`Metadata request timeout for ${A}`);const U={name:`nostr:${A.slice(0,8)}`,picture:void 0};Wo.updateMetadata(A,U,"Timeout"),a(q=>{const G=new Map(q);return G.set(A,U),G}),R=!0,T(void 0)}},fU),F=Le.use(P).subscribe({next:({event:U})=>{if(!R)try{p(`Received metadata for ${U.pubkey}`);const q=JSON.parse(U.content);if(!q)throw new Error("Invalid metadata format");const G={name:q.name||`nostr:${U.pubkey.slice(0,8)}`,picture:q.picture,about:q.about};Wo.updateMetadata(U.pubkey,G),a(ye=>{const de=new Map(ye);return de.set(U.pubkey,G),de}),R=!0,T(void 0)}catch(q){p("Error processing metadata:",q),k(q)}},error:U=>{p("Metadata subscription error:",U),k(U)},complete:()=>{if(!R){p(`No metadata found for ${A}`);const U={name:`nostr:${A.slice(0,8)}`,picture:void 0};Wo.updateMetadata(A,U,"Not found"),a(q=>{const G=new Map(q);return G.set(A,U),G}),R=!0,T(void 0)}}});return P.emit(I),()=>{F.unsubscribe(),clearTimeout($)}})}catch(T){p(`Error fetching metadata for ${A}:`,T)}c.current.shift(),await new Promise(T=>setTimeout(T,100))}}finally{_h=!1}}},[p,x,E]),S=g.useCallback(A=>{if(x(A)){p(`Using cached metadata for ${A}`),E(A);return}c.current.includes(A)||(c.current.push(A),_().catch(T=>p("Error processing metadata queue:",T)))},[p,x,E,_]),C=g.useCallback((A,T)=>{A.id&&A.sig?(s(k=>{const I=new Map(k);return I.has(A.id)||(I.set(A.id,T),p(`Added new post with id: ${A.id}`)),I}),x(A.pubkey)?(p(`Using cached metadata for ${A.pubkey}`),E(A.pubkey)):c.current.includes(A.pubkey)||(c.current.push(A.pubkey),_().catch(k=>p("Error processing metadata queue:",k)))):p("Skipping invalid event without id or signature")},[p,x,E,_]);g.useEffect(()=>{const A=Wo.clearExpiredMetadata();Object.entries(A).forEach(([T,k])=>{k.error||a(I=>{const P=new Map(I);return P.set(T,k.data),P})})},[]),g.useEffect(()=>{if(Sh&&n){p("Using existing rx-nostr instance"),r(!0),h(!0),m.current=!0;return}(async()=>{try{if(p("Starting rx-nostr initialization"),!Le){if(!t)p("No user available, initializing without signer"),Le=mh({verifier:Eh});else if(t.type==="extension")p("Initializing with NIP-07 signer"),Le=mh({verifier:Eh,signer:ST()});else if(t.type==="generated"&&t.privateKey)p("Initializing with private key signer"),Le=mh({verifier:Eh,signer:cU(t.privateKey)});else throw new Error("Invalid user configuration");Le.setDefaultRelays(qr),Sh=!0,p("Created new rx-nostr instance")}return r(!0),p("Setting up subscriptions"),(()=>{const k={kinds:[1],limit:30,since:Math.floor(Date.now()/1e3)-86400},I=ba();let P=0;const R=Le.use(I).subscribe({next:({event:q})=>{if(!l.current.has(q.id)){l.current.add(q.id);const G={id:0,userId:0,content:q.content,createdAt:new Date(q.created_at*1e3).toISOString(),nostrEventId:q.id,pubkey:q.pubkey,signature:q.sig,metadata:{tags:q.tags||[],relays:qr}};C(q,G),P++,p(`Received initial event: ${q.id}`)}},error:q=>{p("Initial fetch error:",q),e({title:"",description:"",variant:"destructive"})},complete:()=>{p(`Initial fetch completed with ${P} events`),h(!0),m.current=!0,u.current=!0}}),$={kinds:[1],since:Math.floor(Date.now()/1e3)};p("Setting up continuous subscription");const F=ba(),U=Le.use(F).subscribe({next:({event:q})=>{if(!l.current.has(q.id)){l.current.add(q.id);const G={id:0,userId:0,content:q.content,createdAt:new Date(q.created_at*1e3).toISOString(),nostrEventId:q.id,pubkey:q.pubkey,signature:q.sig,metadata:{tags:q.tags||[],relays:qr}};C(q,G)}},error:q=>{p("Continuous subscription error:",q)}});return I.emit(k),F.emit($),()=>{R.unsubscribe(),U.unsubscribe()}})()}catch(T){p("Error during initialization:",T),e({title:"",description:"",variant:"destructive"})}})()},[p,e,C,t,n]);const N=Kf({mutationFn:async A=>{if(!t||!Le)throw new Error("Not ready to post");p("Creating new post event");const T={kind:1,content:A,created_at:Math.floor(Date.now()/1e3),tags:[]};return p("Sending signed post with content:",A),new Promise((k,I)=>{let P=0,R=0;const $=qr.length;Le.send(T).subscribe({next:F=>{if(p(`Relay response from ${F.from}:`,F),F.ok){p(`Post sent successfully to ${F.from}`),P++;const U={id:0,userId:0,content:T.content,createdAt:new Date(T.created_at*1e3).toISOString(),nostrEventId:T.id,pubkey:T.pubkey,signature:T.sig,metadata:{tags:T.tags,relays:qr}};P===1&&k(U)}else p(`Failed to send post to ${F.from}`),R++;P+R===$&&(p(`Post sending completed. Success: ${P}, Failed: ${R}`),P===0&&I(new Error("Failed to send to all relays")))},error:F=>{p("Error sending post:",F),I(F)}})})},onSuccess:A=>{A.nostrEventId&&A.signature&&(s(T=>{const k=new Map(T);return k.set(A.nostrEventId,A),k}),e({title:"",description:""}))},onError:A=>{console.error("Error creating post:",A),e({title:"",description:"",variant:"destructive"})}}),B=Kf({mutationFn:async A=>{if(!t||!Le)throw new Error("Not ready to update profile");p("Creating profile update event");const T={kind:0,content:JSON.stringify(A),created_at:Math.floor(Date.now()/1e3),tags:[]};return p("Sending signed profile update with content:",A),new Promise((k,I)=>{let P=0,R=0;const $=qr.length;Le.send(T).subscribe({next:F=>{p(`Relay response from ${F.from}:`,F),F.ok?(p(`Profile update sent successfully to ${F.from}`),P++,P===1&&(a(U=>{const q=new Map(U);return t&&q.set(t.publicKey,{...A}),q}),t&&Wo.updateMetadata(t.publicKey,A),k())):(p(`Failed to send profile update to ${F.from}`),R++),P+R===$&&(p(`Profile update completed. Success: ${P}, Failed: ${R}`),P===0&&I(new Error("Failed to send to all relays")))},error:F=>{p("Error sending profile update:",F),I(F)}})})},onSuccess:()=>{e({title:"",description:""})},onError:A=>{console.error("Error updating profile:",A),e({title:"",description:"",variant:"destructive"})}}),M={METADATA:0,TEXT_NOTE:1,CONTACT_LIST:3},D=g.useCallback(async()=>{if(!t||!Le)return;p("Loading following list");const A={kinds:[M.CONTACT_LIST],authors:[t.publicKey]};return new Promise((T,k)=>{const I=ba();let P=!1;const R=Le.use(I).subscribe({next:({event:$})=>{if(!P)try{const F=$.tags.filter(U=>U[0]==="p").map(U=>({pubkey:U[1],relayUrl:U[2],petname:U[3]}));w(new Set(F.map(U=>U.pubkey))),P=!0,T()}catch(F){p("Error processing contact list:",F),k(F)}},error:$=>{p("Error loading following list:",$),k($)},complete:()=>{P||(p("No contact list found"),T())}});return I.emit(A),()=>R.unsubscribe()})},[t,p]),j=Kf({mutationFn:async A=>{if(!t||!Le)throw new Error("Not ready to update follows");const T=f.has(A),k=T?Array.from(f).filter(R=>R!==A):[...Array.from(f),A],I=k.map(R=>["p",R]),P={kind:M.CONTACT_LIST,content:"",tags:I,created_at:Math.floor(Date.now()/1e3)};return p(`${T?"Unfollowing":"Following"} ${A}`),new Promise((R,$)=>{let F=0,U=0;const q=qr.length;Le.send(P).subscribe({next:G=>{p(`Relay response from ${G.from}:`,G),G.ok?(p(`Follow update sent successfully to ${G.from}`),F++,F===1&&(w(new Set(k)),R())):(p(`Failed to send follow update to ${G.from}`),U++),F+U===q&&(p(`Follow update completed. Success: ${F}, Failed: ${U}`),F===0&&$(new Error("Failed to send to all relays")))},error:G=>{p("Error sending follow update:",G),$(G)}})})},onSuccess:()=>{e({title:"",description:""})},onError:A=>{console.error("Error updating follow status:",A),e({title:"",description:"",variant:"destructive"})}});g.useEffect(()=>{t&&n&&d&&D().catch(A=>{console.error("Error loading following list:",A)})},[t,n,d,D]);const V=g.useCallback(async({pubkey:A,since:T,until:k,limit:I=30,search:P})=>{if(!Le||!m.current)throw new Error("Nostr client not ready");p(`Fetching posts for user ${A}, since=${T}, until=${k}, limit=${I}`);const R={kinds:[M.TEXT_NOTE],authors:[A],limit:I,...T&&{since:T},...k&&{until:k}};return p("Using filter:",R),new Promise(($,F)=>{const U=[],q=ba();let G=!1;const ye=setTimeout(()=>{G||(p("Fetch timeout reached"),G=!0,de==null||de.unsubscribe(),$(U))},15e3),de=Le.use(q).subscribe({next:({event:J})=>{if(G)return;if(p(`Received event: ${J.id}, created_at: ${J.created_at}`),!J.id||!J.sig){p("Invalid event received (missing id or signature)");return}if(P&&!J.content.toLowerCase().includes(P.toLowerCase())){p(`Event filtered out by search: ${P}`);return}const Qe={id:0,userId:0,content:J.content,createdAt:new Date(J.created_at*1e3).toISOString(),nostrEventId:J.id,pubkey:J.pubkey,signature:J.sig,metadata:{tags:J.tags||[],relays:qr}};U.push(Qe),p(`Added post ${J.id}, total posts: ${U.length}`)},error:J=>{p("Error fetching user posts:",J),G||(G=!0,clearTimeout(ye),F(J))},complete:()=>{p(`Fetch completed, received ${U.length} posts`),G||(G=!0,clearTimeout(ye),U.sort((J,Qe)=>new Date(Qe.createdAt).getTime()-new Date(J.createdAt).getTime()),$(U))}});return p("Emitting filter to relays"),q.emit(R),()=>{G||(p("Cleaning up subscription"),clearTimeout(ye),de.unsubscribe())}})},[p]);return{posts:Array.from(o.values()).sort((A,T)=>new Date(T.createdAt).getTime()-new Date(A.createdAt).getTime()),isLoadingPosts:!n||!d,getUserMetadata:g.useCallback(A=>i.get(A),[i]),loadPostMetadata:S,createPost:N.mutate,isCreatingPost:N.isPending,updateProfile:B.mutate,isUpdatingProfile:B.isPending,isFollowing:g.useCallback(A=>f.has(A),[f]),toggleFollow:j.mutate,isTogglingFollow:j.isPending,fetchUserPosts:V}}function On(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ws(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const wk=6048e5,hU=864e5;let pU={};function Jd(){return pU}function fl(e,t){var a,l,u,c;const n=Jd(),r=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,o=On(e),s=o.getDay(),i=(s<r?7:0)+s-r;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}function qc(e){return fl(e,{weekStartsOn:1})}function bk(e){const t=On(e),n=t.getFullYear(),r=ws(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const o=qc(r),s=ws(e,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const i=qc(s);return t.getTime()>=o.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function $0(e){const t=On(e);return t.setHours(0,0,0,0),t}function D0(e){const t=On(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function mU(e,t){const n=$0(e),r=$0(t),o=+n-D0(n),s=+r-D0(r);return Math.round((o-s)/hU)}function gU(e){const t=bk(e),n=ws(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),qc(n)}function yU(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function vU(e){if(!yU(e)&&typeof e!="number")return!1;const t=On(e);return!isNaN(Number(t))}function wU(e){const t=On(e),n=ws(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const bU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xU=(e,t,n)=>{let r;const o=bU[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ch(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const EU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},SU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_U={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CU={date:Ch({formats:EU,defaultWidth:"full"}),time:Ch({formats:SU,defaultWidth:"full"}),dateTime:Ch({formats:_U,defaultWidth:"full"})},NU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TU=(e,t,n,r)=>NU[e];function Ea(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let o;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;o=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[a]||e.values[i]}const s=e.argumentCallback?e.argumentCallback(t):t;return o[s]}}const kU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},AU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},IU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},MU=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$U={ordinalNumber:MU,era:Ea({values:kU,defaultWidth:"wide"}),quarter:Ea({values:PU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ea({values:RU,defaultWidth:"wide"}),day:Ea({values:AU,defaultWidth:"wide"}),dayPeriod:Ea({values:OU,defaultWidth:"wide",formattingValues:IU,defaultFormattingWidth:"wide"})};function Sa(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(o);if(!s)return null;const i=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?jU(a,d=>d.test(i)):DU(a,d=>d.test(i));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=t.slice(i.length);return{value:u,rest:c}}}function DU(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function jU(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function LU(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const o=r[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=n.valueCallback?n.valueCallback(i):i;const a=t.slice(o.length);return{value:i,rest:a}}}const FU=/^(\d+)(th|st|nd|rd)?/i,BU=/\d+/i,UU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zU={any:[/^b/i,/^(a|c)/i]},VU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},WU={any:[/1/i,/2/i,/3/i,/4/i]},HU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},KU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ZU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},GU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},YU={ordinalNumber:LU({matchPattern:FU,parsePattern:BU,valueCallback:e=>parseInt(e,10)}),era:Sa({matchPatterns:UU,defaultMatchWidth:"wide",parsePatterns:zU,defaultParseWidth:"any"}),quarter:Sa({matchPatterns:VU,defaultMatchWidth:"wide",parsePatterns:WU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Sa({matchPatterns:HU,defaultMatchWidth:"wide",parsePatterns:qU,defaultParseWidth:"any"}),day:Sa({matchPatterns:KU,defaultMatchWidth:"wide",parsePatterns:ZU,defaultParseWidth:"any"}),dayPeriod:Sa({matchPatterns:GU,defaultMatchWidth:"any",parsePatterns:QU,defaultParseWidth:"any"})},XU={code:"en-US",formatDistance:xU,formatLong:CU,formatRelative:TU,localize:$U,match:YU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function JU(e){const t=On(e);return mU(t,wU(t))+1}function ez(e){const t=On(e),n=+qc(t)-+gU(t);return Math.round(n/wk)+1}function xk(e,t){var c,d,h,m;const n=On(e),r=n.getFullYear(),o=Jd(),s=(t==null?void 0:t.firstWeekContainsDate)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??o.firstWeekContainsDate??((m=(h=o.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=ws(e,0);i.setFullYear(r+1,0,s),i.setHours(0,0,0,0);const a=fl(i,t),l=ws(e,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=fl(l,t);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function tz(e,t){var a,l,u,c;const n=Jd(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,o=xk(e,t),s=ws(e,0);return s.setFullYear(o,0,r),s.setHours(0,0,0,0),fl(s,t)}function nz(e,t){const n=On(e),r=+fl(n,t)-+tz(n,t);return Math.round(r/wk)+1}function ve(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Kr={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ve(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ve(n+1,2)},d(e,t){return ve(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ve(e.getHours()%12||12,t.length)},H(e,t){return ve(e.getHours(),t.length)},m(e,t){return ve(e.getMinutes(),t.length)},s(e,t){return ve(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return ve(o,t.length)}},As={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},j0={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return Kr.y(e,t)},Y:function(e,t,n,r){const o=xk(e,r),s=o>0?o:1-o;if(t==="YY"){const i=s%100;return ve(i,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):ve(s,t.length)},R:function(e,t){const n=bk(e);return ve(n,t.length)},u:function(e,t){const n=e.getFullYear();return ve(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ve(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ve(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Kr.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ve(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=nz(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):ve(o,t.length)},I:function(e,t,n){const r=ez(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ve(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Kr.d(e,t)},D:function(e,t,n){const r=JU(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ve(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return ve(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return ve(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return ve(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(r===12?o=As.noon:r===0?o=As.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(r>=17?o=As.evening:r>=12?o=As.afternoon:r>=4?o=As.morning:o=As.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Kr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Kr.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ve(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ve(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Kr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Kr.s(e,t)},S:function(e,t){return Kr.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return F0(r);case"XXXX":case"XX":return Ko(r);case"XXXXX":case"XXX":default:return Ko(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return F0(r);case"xxxx":case"xx":return Ko(r);case"xxxxx":case"xxx":default:return Ko(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+L0(r,":");case"OOOO":default:return"GMT"+Ko(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+L0(r,":");case"zzzz":default:return"GMT"+Ko(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return ve(r,t.length)},T:function(e,t,n){const r=e.getTime();return ve(r,t.length)}};function L0(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),s=r%60;return s===0?n+String(o):n+String(o)+t+ve(s,2)}function F0(e,t){return e%60===0?(e>0?"-":"+")+ve(Math.abs(e)/60,2):Ko(e,t)}function Ko(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=ve(Math.trunc(r/60),2),s=ve(r%60,2);return n+o+t+s}const B0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Ek=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},rz=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return B0(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",B0(r,t)).replace("{{time}}",Ek(o,t))},oz={p:Ek,P:rz},sz=/^D+$/,iz=/^Y+$/,az=["D","DD","YY","YYYY"];function lz(e){return sz.test(e)}function uz(e){return iz.test(e)}function cz(e,t,n){const r=dz(e,t,n);if(console.warn(r),az.includes(e))throw new RangeError(r)}function dz(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pz=/^'([^]*?)'?$/,mz=/''/g,gz=/[a-zA-Z]/;function yz(e,t,n){var c,d,h,m;const r=Jd(),o=r.locale??XU,s=r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=r.weekStartsOn??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,a=On(e);if(!vU(a))throw new RangeError("Invalid time value");let l=t.match(hz).map(y=>{const f=y[0];if(f==="p"||f==="P"){const w=oz[f];return w(y,o.formatLong)}return y}).join("").match(fz).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const f=y[0];if(f==="'")return{isToken:!1,value:vz(y)};if(j0[f])return{isToken:!0,value:y};if(f.match(gz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:y}});o.localize.preprocessor&&(l=o.localize.preprocessor(a,l));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:o};return l.map(y=>{if(!y.isToken)return y.value;const f=y.value;(uz(f)||lz(f))&&cz(f,t,String(e));const w=j0[f[0]];return w(a,f,o.localize,u)}).join("")}function vz(e){const t=e.match(pz);return t?t[1].replace(mz,"'"):e}var $y="Avatar",[wz,MZ]=Xi($y),[bz,Sk]=wz($y),_k=g.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,s]=g.useState("idle");return b.jsx(bz,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:s,children:b.jsx(xe.span,{...r,ref:t})})});_k.displayName=$y;var Ck="AvatarImage",Nk=g.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...s}=e,i=Sk(Ck,n),a=xz(r,s.referrerPolicy),l=qe(u=>{o(u),i.onImageLoadingStatusChange(u)});return Jt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?b.jsx(xe.img,{...s,ref:t,src:r}):null});Nk.displayName=Ck;var Tk="AvatarFallback",kk=g.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,s=Sk(Tk,n),[i,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&s.imageLoadingStatus!=="loaded"?b.jsx(xe.span,{...o,ref:t}):null});kk.displayName=Tk;function xz(e,t){const[n,r]=g.useState("idle");return Jt(()=>{if(!e){r("error");return}let o=!0;const s=new window.Image,i=a=>()=>{o&&r(a)};return r("loading"),s.onload=i("loaded"),s.onerror=i("error"),s.src=e,t&&(s.referrerPolicy=t),()=>{o=!1}},[e,t]),n}var Pk=_k,Rk=Nk,Ak=kk;const ef=g.forwardRef(({className:e,...t},n)=>b.jsx(Pk,{ref:n,className:oe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ef.displayName=Pk.displayName;const tf=g.forwardRef(({className:e,...t},n)=>b.jsx(Rk,{ref:n,className:oe("aspect-square h-full w-full",e),...t}));tf.displayName=Rk.displayName;const nf=g.forwardRef(({className:e,...t},n)=>b.jsx(Ak,{ref:n,className:oe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));nf.displayName=Ak.displayName;function Kc({className:e,...t}){return b.jsx("div",{className:oe("animate-pulse rounded-md bg-muted",e),...t})}var mm=new Map,Au=new WeakMap,U0=0,Ez=void 0;function Sz(e){return e?(Au.has(e)||(U0+=1,Au.set(e,U0.toString())),Au.get(e)):"0"}function _z(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?Sz(e.root):e[t]}`).toString()}function Cz(e){const t=_z(e);let n=mm.get(t);if(!n){const r=new Map;let o;const s=new IntersectionObserver(i=>{i.forEach(a=>{var l;const u=a.isIntersecting&&o.some(c=>a.intersectionRatio>=c);e.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=r.get(a.target))==null||l.forEach(c=>{c(u,a)})})},e);o=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:s,elements:r},mm.set(t,n)}return n}function Nz(e,t,n={},r=Ez){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:o,observer:s,elements:i}=Cz(n),a=i.get(e)||[];return i.has(e)||i.set(e,a),a.push(t),s.observe(e),function(){a.splice(a.indexOf(t),1),a.length===0&&(i.delete(e),s.unobserve(e)),i.size===0&&(s.disconnect(),mm.delete(o))}}function Ok({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:o,triggerOnce:s,skip:i,initialInView:a,fallbackInView:l,onChange:u}={}){var c;const[d,h]=g.useState(null),m=g.useRef(u),[y,f]=g.useState({inView:!!a,entry:void 0});m.current=u,g.useEffect(()=>{if(i||!d)return;let x;return x=Nz(d,(E,_)=>{f({inView:E,entry:_}),m.current&&m.current(E,_),_.isIntersecting&&s&&x&&(x(),x=void 0)},{root:o,rootMargin:r,threshold:e,trackVisibility:n,delay:t},l),()=>{x&&x()}},[Array.isArray(e)?e.toString():e,d,o,r,s,i,n,l,t]);const w=(c=y.entry)==null?void 0:c.target,p=g.useRef(void 0);!d&&w&&!s&&!i&&p.current!==w&&(p.current=w,f({inView:!!a,entry:void 0}));const v=[h,y.inView,y.entry];return v.ref=v[0],v.inView=v[1],v.entry=v[2],v}var Tz=g.createContext(void 0);function Ik(e){const t=g.useContext(Tz);return e||t||"ltr"}var Nh=0;function Mk(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??z0()),document.body.insertAdjacentElement("beforeend",e[1]??z0()),Nh++,()=>{Nh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Nh--}},[])}function z0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Th="focusScope.autoFocusOnMount",kh="focusScope.autoFocusOnUnmount",V0={bubbles:!1,cancelable:!0},kz="FocusScope",$k=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[a,l]=g.useState(null),u=qe(o),c=qe(s),d=g.useRef(null),h=dt(t,f=>l(f)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let f=function(x){if(m.paused||!a)return;const E=x.target;a.contains(E)?d.current=E:Qr(d.current,{select:!0})},w=function(x){if(m.paused||!a)return;const E=x.relatedTarget;E!==null&&(a.contains(E)||Qr(d.current,{select:!0}))},p=function(x){if(document.activeElement===document.body)for(const _ of x)_.removedNodes.length>0&&Qr(a)};document.addEventListener("focusin",f),document.addEventListener("focusout",w);const v=new MutationObserver(p);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",w),v.disconnect()}}},[r,a,m.paused]),g.useEffect(()=>{if(a){H0.add(m);const f=document.activeElement;if(!a.contains(f)){const p=new CustomEvent(Th,V0);a.addEventListener(Th,u),a.dispatchEvent(p),p.defaultPrevented||(Pz(Mz(Dk(a)),{select:!0}),document.activeElement===f&&Qr(a))}return()=>{a.removeEventListener(Th,u),setTimeout(()=>{const p=new CustomEvent(kh,V0);a.addEventListener(kh,c),a.dispatchEvent(p),p.defaultPrevented||Qr(f??document.body,{select:!0}),a.removeEventListener(kh,c),H0.remove(m)},0)}}},[a,u,c,m]);const y=g.useCallback(f=>{if(!n&&!r||m.paused)return;const w=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,p=document.activeElement;if(w&&p){const v=f.currentTarget,[x,E]=Rz(v);x&&E?!f.shiftKey&&p===E?(f.preventDefault(),n&&Qr(x,{select:!0})):f.shiftKey&&p===x&&(f.preventDefault(),n&&Qr(E,{select:!0})):p===v&&f.preventDefault()}},[n,r,m.paused]);return b.jsx(xe.div,{tabIndex:-1,...i,ref:h,onKeyDown:y})});$k.displayName=kz;function Pz(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Qr(r,{select:t}),document.activeElement!==n)return}function Rz(e){const t=Dk(e),n=W0(t,e),r=W0(t.reverse(),e);return[n,r]}function Dk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function W0(e,t){for(const n of e)if(!Az(n,{upTo:t}))return n}function Az(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Oz(e){return e instanceof HTMLInputElement&&"select"in e}function Qr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Oz(e)&&t&&e.select()}}var H0=Iz();function Iz(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=q0(e,t),e.unshift(t)},remove(t){var n;e=q0(e,t),(n=e[0])==null||n.resume()}}}function q0(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Mz(e){return e.filter(t=>t.tagName!=="A")}var $z=MS.useId||(()=>{}),Dz=0;function li(e){const[t,n]=g.useState($z());return Jt(()=>{e||n(r=>r??String(Dz++))},[e]),e||(t?`radix-${t}`:"")}const jz=["top","right","bottom","left"],Ro=Math.min,Kt=Math.max,Zc=Math.round,Ou=Math.floor,Gn=e=>({x:e,y:e}),Lz={left:"right",right:"left",bottom:"top",top:"bottom"},Fz={start:"end",end:"start"};function gm(e,t,n){return Kt(e,Ro(t,n))}function Tr(e,t){return typeof e=="function"?e(t):e}function kr(e){return e.split("-")[0]}function oa(e){return e.split("-")[1]}function Dy(e){return e==="x"?"y":"x"}function jy(e){return e==="y"?"height":"width"}function Ao(e){return["top","bottom"].includes(kr(e))?"y":"x"}function Ly(e){return Dy(Ao(e))}function Bz(e,t,n){n===void 0&&(n=!1);const r=oa(e),o=Ly(e),s=jy(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Gc(i)),[i,Gc(i)]}function Uz(e){const t=Gc(e);return[ym(e),t,ym(t)]}function ym(e){return e.replace(/start|end/g,t=>Fz[t])}function zz(e,t,n){const r=["left","right"],o=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?s:i;default:return[]}}function Vz(e,t,n,r){const o=oa(e);let s=zz(kr(e),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),t&&(s=s.concat(s.map(ym)))),s}function Gc(e){return e.replace(/left|right|bottom|top/g,t=>Lz[t])}function Wz(e){return{top:0,right:0,bottom:0,left:0,...e}}function jk(e){return typeof e!="number"?Wz(e):{top:e,right:e,bottom:e,left:e}}function Qc(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function K0(e,t,n){let{reference:r,floating:o}=e;const s=Ao(t),i=Ly(t),a=jy(i),l=kr(t),u=s==="y",c=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let m;switch(l){case"top":m={x:c,y:r.y-o.height};break;case"bottom":m={x:c,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-o.width,y:d};break;default:m={x:r.x,y:r.y}}switch(oa(t)){case"start":m[i]-=h*(n&&u?-1:1);break;case"end":m[i]+=h*(n&&u?-1:1);break}return m}const Hz=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:c,y:d}=K0(u,r,l),h=r,m={},y=0;for(let f=0;f<a.length;f++){const{name:w,fn:p}=a[f],{x:v,y:x,data:E,reset:_}=await p({x:c,y:d,initialPlacement:r,placement:h,strategy:o,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});c=v??c,d=x??d,m={...m,[w]:{...m[w],...E}},_&&y<=50&&(y++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:c,y:d}=K0(u,h,l)),f=-1)}return{x:c,y:d,placement:h,strategy:o,middlewareData:m}};async function hl(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=Tr(t,e),y=jk(m),w=a[h?d==="floating"?"reference":"floating":d],p=Qc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),v=d==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},_=Qc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(p.top-_.top+y.top)/E.y,bottom:(_.bottom-p.bottom+y.bottom)/E.y,left:(p.left-_.left+y.left)/E.x,right:(_.right-p.right+y.right)/E.x}}const qz=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=Tr(e,t)||{};if(u==null)return{};const d=jk(c),h={x:n,y:r},m=Ly(o),y=jy(m),f=await i.getDimensions(u),w=m==="y",p=w?"top":"left",v=w?"bottom":"right",x=w?"clientHeight":"clientWidth",E=s.reference[y]+s.reference[m]-h[m]-s.floating[y],_=h[m]-s.reference[m],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=S?S[x]:0;(!C||!await(i.isElement==null?void 0:i.isElement(S)))&&(C=a.floating[x]||s.floating[y]);const N=E/2-_/2,B=C/2-f[y]/2-1,M=Ro(d[p],B),D=Ro(d[v],B),j=M,V=C-f[y]-D,A=C/2-f[y]/2+N,T=gm(j,A,V),k=!l.arrow&&oa(o)!=null&&A!==T&&s.reference[y]/2-(A<j?M:D)-f[y]/2<0,I=k?A<j?A-j:A-V:0;return{[m]:h[m]+I,data:{[m]:T,centerOffset:A-T-I,...k&&{alignmentOffset:I}},reset:k}}}),Kz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:f=!0,...w}=Tr(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const p=kr(o),v=Ao(a),x=kr(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(u.floating)),_=h||(x||!f?[Gc(a)]:Uz(a)),S=y!=="none";!h&&S&&_.push(...Vz(a,f,y,E));const C=[a,..._],N=await hl(t,w),B=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&B.push(N[p]),d){const A=Bz(o,i,E);B.push(N[A[0]],N[A[1]])}if(M=[...M,{placement:o,overflows:B}],!B.every(A=>A<=0)){var D,j;const A=(((D=s.flip)==null?void 0:D.index)||0)+1,T=C[A];if(T)return{data:{index:A,overflows:M},reset:{placement:T}};let k=(j=M.filter(I=>I.overflows[0]<=0).sort((I,P)=>I.overflows[1]-P.overflows[1])[0])==null?void 0:j.placement;if(!k)switch(m){case"bestFit":{var V;const I=(V=M.filter(P=>{if(S){const R=Ao(P.placement);return R===v||R==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(R=>R>0).reduce((R,$)=>R+$,0)]).sort((P,R)=>P[1]-R[1])[0])==null?void 0:V[0];I&&(k=I);break}case"initialPlacement":k=a;break}if(o!==k)return{reset:{placement:k}}}return{}}}};function Z0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function G0(e){return jz.some(t=>e[t]>=0)}const Zz=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Tr(e,t);switch(r){case"referenceHidden":{const s=await hl(t,{...o,elementContext:"reference"}),i=Z0(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:G0(i)}}}case"escaped":{const s=await hl(t,{...o,altBoundary:!0}),i=Z0(s,n.floating);return{data:{escapedOffsets:i,escaped:G0(i)}}}default:return{}}}}};async function Gz(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=kr(n),a=oa(n),l=Ao(n)==="y",u=["left","top"].includes(i)?-1:1,c=s&&l?-1:1,d=Tr(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*c,y:h*u}:{x:h*u,y:m*c}}const Qz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,l=await Gz(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},Yz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:w=>{let{x:p,y:v}=w;return{x:p,y:v}}},...l}=Tr(e,t),u={x:n,y:r},c=await hl(t,l),d=Ao(kr(o)),h=Dy(d);let m=u[h],y=u[d];if(s){const w=h==="y"?"top":"left",p=h==="y"?"bottom":"right",v=m+c[w],x=m-c[p];m=gm(v,m,x)}if(i){const w=d==="y"?"top":"left",p=d==="y"?"bottom":"right",v=y+c[w],x=y-c[p];y=gm(v,y,x)}const f=a.fn({...t,[h]:m,[d]:y});return{...f,data:{x:f.x-n,y:f.y-r,enabled:{[h]:s,[d]:i}}}}}},Xz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Tr(e,t),c={x:n,y:r},d=Ao(o),h=Dy(d);let m=c[h],y=c[d];const f=Tr(a,t),w=typeof f=="number"?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(l){const x=h==="y"?"height":"width",E=s.reference[h]-s.floating[x]+w.mainAxis,_=s.reference[h]+s.reference[x]-w.mainAxis;m<E?m=E:m>_&&(m=_)}if(u){var p,v;const x=h==="y"?"width":"height",E=["top","left"].includes(kr(o)),_=s.reference[d]-s.floating[x]+(E&&((p=i.offset)==null?void 0:p[d])||0)+(E?0:w.crossAxis),S=s.reference[d]+s.reference[x]+(E?0:((v=i.offset)==null?void 0:v[d])||0)-(E?w.crossAxis:0);y<_?y=_:y>S&&(y=S)}return{[h]:m,[d]:y}}}},Jz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:i,elements:a}=t,{apply:l=()=>{},...u}=Tr(e,t),c=await hl(t,u),d=kr(o),h=oa(o),m=Ao(o)==="y",{width:y,height:f}=s.floating;let w,p;d==="top"||d==="bottom"?(w=d,p=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(p=d,w=h==="end"?"top":"bottom");const v=f-c.top-c.bottom,x=y-c.left-c.right,E=Ro(f-c[w],v),_=Ro(y-c[p],x),S=!t.middlewareData.shift;let C=E,N=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=v),S&&!h){const M=Kt(c.left,0),D=Kt(c.right,0),j=Kt(c.top,0),V=Kt(c.bottom,0);m?N=y-2*(M!==0||D!==0?M+D:Kt(c.left,c.right)):C=f-2*(j!==0||V!==0?j+V:Kt(c.top,c.bottom))}await l({...t,availableWidth:N,availableHeight:C});const B=await i.getDimensions(a.floating);return y!==B.width||f!==B.height?{reset:{rects:!0}}:{}}}};function rf(){return typeof window<"u"}function sa(e){return Lk(e)?(e.nodeName||"").toLowerCase():"#document"}function Qt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function or(e){var t;return(t=(Lk(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Lk(e){return rf()?e instanceof Node||e instanceof Qt(e).Node:!1}function Pn(e){return rf()?e instanceof Element||e instanceof Qt(e).Element:!1}function Jn(e){return rf()?e instanceof HTMLElement||e instanceof Qt(e).HTMLElement:!1}function Q0(e){return!rf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qt(e).ShadowRoot}function Jl(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Rn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function eV(e){return["table","td","th"].includes(sa(e))}function of(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Fy(e){const t=By(),n=Pn(e)?Rn(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function tV(e){let t=Oo(e);for(;Jn(t)&&!zi(t);){if(Fy(t))return t;if(of(t))return null;t=Oo(t)}return null}function By(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function zi(e){return["html","body","#document"].includes(sa(e))}function Rn(e){return Qt(e).getComputedStyle(e)}function sf(e){return Pn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Oo(e){if(sa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Q0(e)&&e.host||or(e);return Q0(t)?t.host:t}function Fk(e){const t=Oo(e);return zi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Jn(t)&&Jl(t)?t:Fk(t)}function pl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Fk(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),i=Qt(o);if(s){const a=vm(i);return t.concat(i,i.visualViewport||[],Jl(o)?o:[],a&&n?pl(a):[])}return t.concat(o,pl(o,[],n))}function vm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Bk(e){const t=Rn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Jn(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=Zc(n)!==s||Zc(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function Uy(e){return Pn(e)?e:e.contextElement}function ui(e){const t=Uy(e);if(!Jn(t))return Gn(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=Bk(t);let i=(s?Zc(n.width):n.width)/r,a=(s?Zc(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const nV=Gn(0);function Uk(e){const t=Qt(e);return!By()||!t.visualViewport?nV:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function rV(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Qt(e)?!1:t}function bs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=Uy(e);let i=Gn(1);t&&(r?Pn(r)&&(i=ui(r)):i=ui(e));const a=rV(s,n,r)?Uk(s):Gn(0);let l=(o.left+a.x)/i.x,u=(o.top+a.y)/i.y,c=o.width/i.x,d=o.height/i.y;if(s){const h=Qt(s),m=r&&Pn(r)?Qt(r):r;let y=h,f=vm(y);for(;f&&r&&m!==y;){const w=ui(f),p=f.getBoundingClientRect(),v=Rn(f),x=p.left+(f.clientLeft+parseFloat(v.paddingLeft))*w.x,E=p.top+(f.clientTop+parseFloat(v.paddingTop))*w.y;l*=w.x,u*=w.y,c*=w.x,d*=w.y,l+=x,u+=E,y=Qt(f),f=vm(y)}}return Qc({width:c,height:d,x:l,y:u})}function zy(e,t){const n=sf(e).scrollLeft;return t?t.left+n:bs(or(e)).left+n}function zk(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:zy(e,r)),s=r.top+t.scrollTop;return{x:o,y:s}}function oV(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",i=or(r),a=t?of(t.floating):!1;if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Gn(1);const c=Gn(0),d=Jn(r);if((d||!d&&!s)&&((sa(r)!=="body"||Jl(i))&&(l=sf(r)),Jn(r))){const m=bs(r);u=ui(r),c.x=m.x+r.clientLeft,c.y=m.y+r.clientTop}const h=i&&!d&&!s?zk(i,l,!0):Gn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+h.x,y:n.y*u.y-l.scrollTop*u.y+c.y+h.y}}function sV(e){return Array.from(e.getClientRects())}function iV(e){const t=or(e),n=sf(e),r=e.ownerDocument.body,o=Kt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Kt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+zy(e);const a=-n.scrollTop;return Rn(r).direction==="rtl"&&(i+=Kt(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}function aV(e,t){const n=Qt(e),r=or(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const u=By();(!u||u&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:i,x:a,y:l}}function lV(e,t){const n=bs(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=Jn(e)?ui(e):Gn(1),i=e.clientWidth*s.x,a=e.clientHeight*s.y,l=o*s.x,u=r*s.y;return{width:i,height:a,x:l,y:u}}function Y0(e,t,n){let r;if(t==="viewport")r=aV(e,n);else if(t==="document")r=iV(or(e));else if(Pn(t))r=lV(t,n);else{const o=Uk(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Qc(r)}function Vk(e,t){const n=Oo(e);return n===t||!Pn(n)||zi(n)?!1:Rn(n).position==="fixed"||Vk(n,t)}function uV(e,t){const n=t.get(e);if(n)return n;let r=pl(e,[],!1).filter(a=>Pn(a)&&sa(a)!=="body"),o=null;const s=Rn(e).position==="fixed";let i=s?Oo(e):e;for(;Pn(i)&&!zi(i);){const a=Rn(i),l=Fy(i);!l&&a.position==="fixed"&&(o=null),(s?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Jl(i)&&!l&&Vk(e,i))?r=r.filter(c=>c!==i):o=a,i=Oo(i)}return t.set(e,r),r}function cV(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?of(t)?[]:uV(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((u,c)=>{const d=Y0(t,c,o);return u.top=Kt(d.top,u.top),u.right=Ro(d.right,u.right),u.bottom=Ro(d.bottom,u.bottom),u.left=Kt(d.left,u.left),u},Y0(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function dV(e){const{width:t,height:n}=Bk(e);return{width:t,height:n}}function fV(e,t,n){const r=Jn(t),o=or(t),s=n==="fixed",i=bs(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=Gn(0);if(r||!r&&!s)if((sa(t)!=="body"||Jl(o))&&(a=sf(t)),r){const h=bs(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else o&&(l.x=zy(o));const u=o&&!r&&!s?zk(o,a):Gn(0),c=i.left+a.scrollLeft-l.x-u.x,d=i.top+a.scrollTop-l.y-u.y;return{x:c,y:d,width:i.width,height:i.height}}function Ph(e){return Rn(e).position==="static"}function X0(e,t){if(!Jn(e)||Rn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return or(e)===n&&(n=n.ownerDocument.body),n}function Wk(e,t){const n=Qt(e);if(of(e))return n;if(!Jn(e)){let o=Oo(e);for(;o&&!zi(o);){if(Pn(o)&&!Ph(o))return o;o=Oo(o)}return n}let r=X0(e,t);for(;r&&eV(r)&&Ph(r);)r=X0(r,t);return r&&zi(r)&&Ph(r)&&!Fy(r)?n:r||tV(e)||n}const hV=async function(e){const t=this.getOffsetParent||Wk,n=this.getDimensions,r=await n(e.floating);return{reference:fV(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pV(e){return Rn(e).direction==="rtl"}const mV={convertOffsetParentRelativeRectToViewportRelativeRect:oV,getDocumentElement:or,getClippingRect:cV,getOffsetParent:Wk,getElementRects:hV,getClientRects:sV,getDimensions:dV,getScale:ui,isElement:Pn,isRTL:pV};function gV(e,t){let n=null,r;const o=or(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:c,width:d,height:h}=e.getBoundingClientRect();if(a||t(),!d||!h)return;const m=Ou(c),y=Ou(o.clientWidth-(u+d)),f=Ou(o.clientHeight-(c+h)),w=Ou(u),v={rootMargin:-m+"px "+-y+"px "+-f+"px "+-w+"px",threshold:Kt(0,Ro(1,l))||1};let x=!0;function E(_){const S=_[0].intersectionRatio;if(S!==l){if(!x)return i();S?i(!1,S):r=setTimeout(()=>{i(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(E,{...v,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,v)}n.observe(e)}return i(!0),s}function yV(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Uy(e),c=o||s?[...u?pl(u):[],...pl(t)]:[];c.forEach(p=>{o&&p.addEventListener("scroll",n,{passive:!0}),s&&p.addEventListener("resize",n)});const d=u&&a?gV(u,n):null;let h=-1,m=null;i&&(m=new ResizeObserver(p=>{let[v]=p;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let y,f=l?bs(e):null;l&&w();function w(){const p=bs(e);f&&(p.x!==f.x||p.y!==f.y||p.width!==f.width||p.height!==f.height)&&n(),f=p,y=requestAnimationFrame(w)}return n(),()=>{var p;c.forEach(v=>{o&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),d==null||d(),(p=m)==null||p.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const vV=Qz,wV=Yz,bV=Kz,xV=Jz,EV=Zz,J0=qz,SV=Xz,_V=(e,t,n)=>{const r=new Map,o={platform:mV,...n},s={...o.platform,_c:r};return Hz(e,t,{...o,platform:s})};var oc=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Yc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Yc(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!Yc(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Hk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function eb(e,t){const n=Hk(e);return Math.round(t*n)/n}function Rh(e){const t=g.useRef(e);return oc(()=>{t.current=e}),t}function CV(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,d]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=g.useState(r);Yc(h,r)||m(r);const[y,f]=g.useState(null),[w,p]=g.useState(null),v=g.useCallback(P=>{P!==S.current&&(S.current=P,f(P))},[]),x=g.useCallback(P=>{P!==C.current&&(C.current=P,p(P))},[]),E=s||y,_=i||w,S=g.useRef(null),C=g.useRef(null),N=g.useRef(c),B=l!=null,M=Rh(l),D=Rh(o),j=Rh(u),V=g.useCallback(()=>{if(!S.current||!C.current)return;const P={placement:t,strategy:n,middleware:h};D.current&&(P.platform=D.current),_V(S.current,C.current,P).then(R=>{const $={...R,isPositioned:j.current!==!1};A.current&&!Yc(N.current,$)&&(N.current=$,Yi.flushSync(()=>{d($)}))})},[h,t,n,D,j]);oc(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,d(P=>({...P,isPositioned:!1})))},[u]);const A=g.useRef(!1);oc(()=>(A.current=!0,()=>{A.current=!1}),[]),oc(()=>{if(E&&(S.current=E),_&&(C.current=_),E&&_){if(M.current)return M.current(E,_,V);V()}},[E,_,V,M,B]);const T=g.useMemo(()=>({reference:S,floating:C,setReference:v,setFloating:x}),[v,x]),k=g.useMemo(()=>({reference:E,floating:_}),[E,_]),I=g.useMemo(()=>{const P={position:n,left:0,top:0};if(!k.floating)return P;const R=eb(k.floating,c.x),$=eb(k.floating,c.y);return a?{...P,transform:"translate("+R+"px, "+$+"px)",...Hk(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:$}},[n,a,k.floating,c.x,c.y]);return g.useMemo(()=>({...c,update:V,refs:T,elements:k,floatingStyles:I}),[c,V,T,k,I])}const NV=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?J0({element:r.current,padding:o}).fn(n):{}:r?J0({element:r,padding:o}).fn(n):{}}}},TV=(e,t)=>({...vV(e),options:[e,t]}),kV=(e,t)=>({...wV(e),options:[e,t]}),PV=(e,t)=>({...SV(e),options:[e,t]}),RV=(e,t)=>({...bV(e),options:[e,t]}),AV=(e,t)=>({...xV(e),options:[e,t]}),OV=(e,t)=>({...EV(e),options:[e,t]}),IV=(e,t)=>({...NV(e),options:[e,t]});var MV="Arrow",qk=g.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...s}=e;return b.jsx(xe.svg,{...s,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});qk.displayName=MV;var $V=qk;function DV(e,t=[]){let n=[];function r(s,i){const a=g.createContext(i),l=n.length;n=[...n,i];function u(d){const{scope:h,children:m,...y}=d,f=(h==null?void 0:h[e][l])||a,w=g.useMemo(()=>y,Object.values(y));return b.jsx(f.Provider,{value:w,children:m})}function c(d,h){const m=(h==null?void 0:h[e][l])||a,y=g.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,c]}const o=()=>{const s=n.map(i=>g.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return g.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,jV(o,...t)]}function jV(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(s)[`__scope${u}`];return{...a,...d}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Kk(e){const[t,n]=g.useState(void 0);return Jt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let i,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Vy="Popper",[Zk,Gk]=DV(Vy),[LV,Qk]=Zk(Vy),Yk=e=>{const{__scopePopper:t,children:n}=e,[r,o]=g.useState(null);return b.jsx(LV,{scope:t,anchor:r,onAnchorChange:o,children:n})};Yk.displayName=Vy;var Xk="PopperAnchor",Jk=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,s=Qk(Xk,n),i=g.useRef(null),a=dt(t,i);return g.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:b.jsx(xe.div,{...o,ref:a})});Jk.displayName=Xk;var Wy="PopperContent",[FV,BV]=Zk(Wy),eP=g.forwardRef((e,t)=>{var J,Qe,be,Ye,Mn,We;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...f}=e,w=Qk(Wy,n),[p,v]=g.useState(null),x=dt(t,Ne=>v(Ne)),[E,_]=g.useState(null),S=Kk(E),C=(S==null?void 0:S.width)??0,N=(S==null?void 0:S.height)??0,B=r+(s!=="center"?"-"+s:""),M=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},D=Array.isArray(u)?u:[u],j=D.length>0,V={padding:M,boundary:D.filter(zV),altBoundary:j},{refs:A,floatingStyles:T,placement:k,isPositioned:I,middlewareData:P}=CV({strategy:"fixed",placement:B,whileElementsMounted:(...Ne)=>yV(...Ne,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[TV({mainAxis:o+N,alignmentAxis:i}),l&&kV({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?PV():void 0,...V}),l&&RV({...V}),AV({...V,apply:({elements:Ne,rects:Mt,availableWidth:zo,availableHeight:Vo})=>{const{width:gI,height:yI}=Mt.reference,ou=Ne.floating.style;ou.setProperty("--radix-popper-available-width",`${zo}px`),ou.setProperty("--radix-popper-available-height",`${Vo}px`),ou.setProperty("--radix-popper-anchor-width",`${gI}px`),ou.setProperty("--radix-popper-anchor-height",`${yI}px`)}}),E&&IV({element:E,padding:a}),VV({arrowWidth:C,arrowHeight:N}),h&&OV({strategy:"referenceHidden",...V})]}),[R,$]=rP(k),F=qe(y);Jt(()=>{I&&(F==null||F())},[I,F]);const U=(J=P.arrow)==null?void 0:J.x,q=(Qe=P.arrow)==null?void 0:Qe.y,G=((be=P.arrow)==null?void 0:be.centerOffset)!==0,[ye,de]=g.useState();return Jt(()=>{p&&de(window.getComputedStyle(p).zIndex)},[p]),b.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:I?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(Ye=P.transformOrigin)==null?void 0:Ye.x,(Mn=P.transformOrigin)==null?void 0:Mn.y].join(" "),...((We=P.hide)==null?void 0:We.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:b.jsx(FV,{scope:n,placedSide:R,onArrowChange:_,arrowX:U,arrowY:q,shouldHideArrow:G,children:b.jsx(xe.div,{"data-side":R,"data-align":$,...f,ref:x,style:{...f.style,animation:I?void 0:"none"}})})})});eP.displayName=Wy;var tP="PopperArrow",UV={top:"bottom",right:"left",bottom:"top",left:"right"},nP=g.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,s=BV(tP,r),i=UV[s.placedSide];return b.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:b.jsx($V,{...o,ref:n,style:{...o.style,display:"block"}})})});nP.displayName=tP;function zV(e){return e!==null}var VV=e=>({name:"transformOrigin",options:e,fn(t){var w,p,v;const{placement:n,rects:r,middlewareData:o}=t,i=((w=o.arrow)==null?void 0:w.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[u,c]=rP(n),d={start:"0%",center:"50%",end:"100%"}[c],h=(((p=o.arrow)==null?void 0:p.x)??0)+a/2,m=(((v=o.arrow)==null?void 0:v.y)??0)+l/2;let y="",f="";return u==="bottom"?(y=i?d:`${h}px`,f=`${-l}px`):u==="top"?(y=i?d:`${h}px`,f=`${r.floating.height+l}px`):u==="right"?(y=`${-l}px`,f=i?d:`${m}px`):u==="left"&&(y=`${r.floating.width+l}px`,f=i?d:`${m}px`),{data:{x:y,y:f}}}});function rP(e){const[t,n="center"]=e.split("-");return[t,n]}var WV=Yk,HV=Jk,qV=eP,KV=nP;function ZV(e,t=[]){let n=[];function r(s,i){const a=g.createContext(i),l=n.length;n=[...n,i];function u(d){const{scope:h,children:m,...y}=d,f=(h==null?void 0:h[e][l])||a,w=g.useMemo(()=>y,Object.values(y));return b.jsx(f.Provider,{value:w,children:m})}function c(d,h){const m=(h==null?void 0:h[e][l])||a,y=g.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,c]}const o=()=>{const s=n.map(i=>g.createContext(i));return function(a){const l=(a==null?void 0:a[e])||s;return g.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,GV(o,...t)]}function GV(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(s)[`__scope${u}`];return{...a,...d}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Ah="rovingFocusGroup.onEntryFocus",QV={bubbles:!1,cancelable:!0},af="RovingFocusGroup",[wm,oP,YV]=Og(af),[XV,sP]=ZV(af,[YV]),[JV,e7]=XV(af),iP=g.forwardRef((e,t)=>b.jsx(wm.Provider,{scope:e.__scopeRovingFocusGroup,children:b.jsx(wm.Slot,{scope:e.__scopeRovingFocusGroup,children:b.jsx(t7,{...e,ref:t})})}));iP.displayName=af;var t7=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:c=!1,...d}=e,h=g.useRef(null),m=dt(t,h),y=Ik(s),[f=null,w]=Ul({prop:i,defaultProp:a,onChange:l}),[p,v]=g.useState(!1),x=qe(u),E=oP(n),_=g.useRef(!1),[S,C]=g.useState(0);return g.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(Ah,x),()=>N.removeEventListener(Ah,x)},[x]),b.jsx(JV,{scope:n,orientation:r,dir:y,loop:o,currentTabStopId:f,onItemFocus:g.useCallback(N=>w(N),[w]),onItemShiftTab:g.useCallback(()=>v(!0),[]),onFocusableItemAdd:g.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:g.useCallback(()=>C(N=>N-1),[]),children:b.jsx(xe.div,{tabIndex:p||S===0?-1:0,"data-orientation":r,...d,ref:m,style:{outline:"none",...e.style},onMouseDown:re(e.onMouseDown,()=>{_.current=!0}),onFocus:re(e.onFocus,N=>{const B=!_.current;if(N.target===N.currentTarget&&B&&!p){const M=new CustomEvent(Ah,QV);if(N.currentTarget.dispatchEvent(M),!M.defaultPrevented){const D=E().filter(k=>k.focusable),j=D.find(k=>k.active),V=D.find(k=>k.id===f),T=[j,V,...D].filter(Boolean).map(k=>k.ref.current);uP(T,c)}}_.current=!1}),onBlur:re(e.onBlur,()=>v(!1))})})}),aP="RovingFocusGroupItem",lP=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,...i}=e,a=li(),l=s||a,u=e7(aP,n),c=u.currentTabStopId===l,d=oP(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return g.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),b.jsx(wm.ItemSlot,{scope:n,id:l,focusable:r,active:o,children:b.jsx(xe.span,{tabIndex:c?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:re(e.onMouseDown,y=>{r?u.onItemFocus(l):y.preventDefault()}),onFocus:re(e.onFocus,()=>u.onItemFocus(l)),onKeyDown:re(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const f=o7(y,u.orientation,u.dir);if(f!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let p=d().filter(v=>v.focusable).map(v=>v.ref.current);if(f==="last")p.reverse();else if(f==="prev"||f==="next"){f==="prev"&&p.reverse();const v=p.indexOf(y.currentTarget);p=u.loop?s7(p,v+1):p.slice(v+1)}setTimeout(()=>uP(p))}})})})});lP.displayName=aP;var n7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function r7(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function o7(e,t,n){const r=r7(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return n7[r]}function uP(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function s7(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var i7=iP,a7=lP,l7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Os=new WeakMap,Iu=new WeakMap,Mu={},Oh=0,cP=function(e){return e&&(e.host||cP(e.parentNode))},u7=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=cP(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},c7=function(e,t,n,r){var o=u7(t,Array.isArray(e)?e:[e]);Mu[n]||(Mu[n]=new WeakMap);var s=Mu[n],i=[],a=new Set,l=new Set(o),u=function(d){!d||a.has(d)||(a.add(d),u(d.parentNode))};o.forEach(u);var c=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))c(h);else try{var m=h.getAttribute(r),y=m!==null&&m!=="false",f=(Os.get(h)||0)+1,w=(s.get(h)||0)+1;Os.set(h,f),s.set(h,w),i.push(h),f===1&&y&&Iu.set(h,!0),w===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",h,p)}})};return c(t),a.clear(),Oh++,function(){i.forEach(function(d){var h=Os.get(d)-1,m=s.get(d)-1;Os.set(d,h),s.set(d,m),h||(Iu.has(d)||d.removeAttribute(r),Iu.delete(d)),m||d.removeAttribute(n)}),Oh--,Oh||(Os=new WeakMap,Os=new WeakMap,Iu=new WeakMap,Mu={})}},dP=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=l7(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),c7(r,o,n,"aria-hidden")):function(){return null}},bt=function(){return bt=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},bt.apply(this,arguments)};function Hy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function fP(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var za="right-scroll-bar-position",Va="width-before-scroll-bar",d7="with-scroll-bars-hidden",f7="--removed-body-scroll-bar-size";function Ih(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function h7(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var p7=typeof window<"u"?g.useLayoutEffect:g.useEffect,tb=new WeakMap;function hP(e,t){var n=h7(null,function(r){return e.forEach(function(o){return Ih(o,r)})});return p7(function(){var r=tb.get(n);if(r){var o=new Set(r),s=new Set(e),i=n.current;o.forEach(function(a){s.has(a)||Ih(a,null)}),s.forEach(function(a){o.has(a)||Ih(a,i)})}tb.set(n,e)},[e]),n}function m7(e){return e}function g7(e,t){t===void 0&&(t=m7);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(s),i=n}var l=function(){var c=i;i=[],c.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){i.push(c),u()},filter:function(c){return i=i.filter(c),n}}}};return o}function pP(e){e===void 0&&(e={});var t=g7(null);return t.options=bt({async:!0,ssr:!1},e),t}var mP=function(e){var t=e.sideCar,n=Hy(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,bt({},n))};mP.isSideCarExport=!0;function gP(e,t){return e.useMedium(t),mP}var yP=pP(),Mh=function(){},lf=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:Mh,onWheelCapture:Mh,onTouchMoveCapture:Mh}),o=r[0],s=r[1],i=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,h=e.sideCar,m=e.noIsolation,y=e.inert,f=e.allowPinchZoom,w=e.as,p=w===void 0?"div":w,v=e.gapMode,x=Hy(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,_=hP([n,t]),S=bt(bt({},x),o);return g.createElement(g.Fragment,null,c&&g.createElement(E,{sideCar:yP,removeScrollBar:u,shards:d,noIsolation:m,inert:y,setCallbacks:s,allowPinchZoom:!!f,lockRef:n,gapMode:v}),i?g.cloneElement(g.Children.only(a),bt(bt({},S),{ref:_})):g.createElement(p,bt({},S,{className:l,ref:_}),a))});lf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lf.classNames={fullWidth:Va,zeroRight:za};var y7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function v7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=y7();return t&&e.setAttribute("nonce",t),e}function w7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function b7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var x7=function(){var e=0,t=null;return{add:function(n){e==0&&(t=v7())&&(w7(t,n),b7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},E7=function(){var e=x7();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},qy=function(){var e=E7(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},S7={left:0,top:0,right:0,gap:0},$h=function(e){return parseInt(e||"",10)||0},_7=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[$h(n),$h(r),$h(o)]},C7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return S7;var t=_7(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},N7=qy(),ci="data-scroll-locked",T7=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(d7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ci,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(za,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Va,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(za," .").concat(za,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Va," .").concat(Va,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ci,`] {
    `).concat(f7,": ").concat(a,`px;
  }
`)},nb=function(){var e=parseInt(document.body.getAttribute(ci)||"0",10);return isFinite(e)?e:0},k7=function(){g.useEffect(function(){return document.body.setAttribute(ci,(nb()+1).toString()),function(){var e=nb()-1;e<=0?document.body.removeAttribute(ci):document.body.setAttribute(ci,e.toString())}},[])},vP=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;k7();var s=g.useMemo(function(){return C7(o)},[o]);return g.createElement(N7,{styles:T7(s,!t,o,n?"":"!important")})},bm=!1;if(typeof window<"u")try{var $u=Object.defineProperty({},"passive",{get:function(){return bm=!0,!0}});window.addEventListener("test",$u,$u),window.removeEventListener("test",$u,$u)}catch{bm=!1}var Is=bm?{passive:!1}:!1,P7=function(e){return e.tagName==="TEXTAREA"},wP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!P7(e)&&n[t]==="visible")},R7=function(e){return wP(e,"overflowY")},A7=function(e){return wP(e,"overflowX")},rb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=bP(e,r);if(o){var s=xP(e,r),i=s[1],a=s[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},O7=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},I7=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},bP=function(e,t){return e==="v"?R7(t):A7(t)},xP=function(e,t){return e==="v"?O7(t):I7(t)},M7=function(e,t){return e==="h"&&t==="rtl"?-1:1},$7=function(e,t,n,r,o){var s=M7(e,window.getComputedStyle(t).direction),i=s*r,a=n.target,l=t.contains(a),u=!1,c=i>0,d=0,h=0;do{var m=xP(e,a),y=m[0],f=m[1],w=m[2],p=f-w-s*y;(y||p)&&bP(e,a)&&(d+=p,h+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&(Math.abs(d)<1||!o)||!c&&(Math.abs(h)<1||!o))&&(u=!0),u},Du=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ob=function(e){return[e.deltaX,e.deltaY]},sb=function(e){return e&&"current"in e?e.current:e},D7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},j7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},L7=0,Ms=[];function F7(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),o=g.useState(L7++)[0],s=g.useState(qy)[0],i=g.useRef(e);g.useEffect(function(){i.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var f=fP([e.lockRef.current],(e.shards||[]).map(sb),!0).filter(Boolean);return f.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),f.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=g.useCallback(function(f,w){if("touches"in f&&f.touches.length===2||f.type==="wheel"&&f.ctrlKey)return!i.current.allowPinchZoom;var p=Du(f),v=n.current,x="deltaX"in f?f.deltaX:v[0]-p[0],E="deltaY"in f?f.deltaY:v[1]-p[1],_,S=f.target,C=Math.abs(x)>Math.abs(E)?"h":"v";if("touches"in f&&C==="h"&&S.type==="range")return!1;var N=rb(C,S);if(!N)return!0;if(N?_=C:(_=C==="v"?"h":"v",N=rb(C,S)),!N)return!1;if(!r.current&&"changedTouches"in f&&(x||E)&&(r.current=_),!_)return!0;var B=r.current||_;return $7(B,w,f,B==="h"?x:E,!0)},[]),l=g.useCallback(function(f){var w=f;if(!(!Ms.length||Ms[Ms.length-1]!==s)){var p="deltaY"in w?ob(w):Du(w),v=t.current.filter(function(_){return _.name===w.type&&(_.target===w.target||w.target===_.shadowParent)&&D7(_.delta,p)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var x=(i.current.shards||[]).map(sb).filter(Boolean).filter(function(_){return _.contains(w.target)}),E=x.length>0?a(w,x[0]):!i.current.noIsolation;E&&w.cancelable&&w.preventDefault()}}},[]),u=g.useCallback(function(f,w,p,v){var x={name:f,delta:w,target:p,should:v,shadowParent:B7(p)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(E){return E!==x})},1)},[]),c=g.useCallback(function(f){n.current=Du(f),r.current=void 0},[]),d=g.useCallback(function(f){u(f.type,ob(f),f.target,a(f,e.lockRef.current))},[]),h=g.useCallback(function(f){u(f.type,Du(f),f.target,a(f,e.lockRef.current))},[]);g.useEffect(function(){return Ms.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Is),document.addEventListener("touchmove",l,Is),document.addEventListener("touchstart",c,Is),function(){Ms=Ms.filter(function(f){return f!==s}),document.removeEventListener("wheel",l,Is),document.removeEventListener("touchmove",l,Is),document.removeEventListener("touchstart",c,Is)}},[]);var m=e.removeScrollBar,y=e.inert;return g.createElement(g.Fragment,null,y?g.createElement(s,{styles:j7(o)}):null,m?g.createElement(vP,{gapMode:e.gapMode}):null)}function B7(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const U7=gP(yP,F7);var EP=g.forwardRef(function(e,t){return g.createElement(lf,bt({},e,{ref:t,sideCar:U7}))});EP.classNames=lf.classNames;var xm=["Enter"," "],z7=["ArrowDown","PageUp","Home"],SP=["ArrowUp","PageDown","End"],V7=[...z7,...SP],W7={ltr:[...xm,"ArrowRight"],rtl:[...xm,"ArrowLeft"]},H7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},eu="Menu",[ml,q7,K7]=Og(eu),[Ns,_P]=Xi(eu,[K7,Gk,sP]),uf=Gk(),CP=sP(),[Z7,Ts]=Ns(eu),[G7,tu]=Ns(eu),NP=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:i=!0}=e,a=uf(t),[l,u]=g.useState(null),c=g.useRef(!1),d=qe(s),h=Ik(o);return g.useEffect(()=>{const m=()=>{c.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>c.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),b.jsx(WV,{...a,children:b.jsx(Z7,{scope:t,open:n,onOpenChange:d,content:l,onContentChange:u,children:b.jsx(G7,{scope:t,onClose:g.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:c,dir:h,modal:i,children:r})})})};NP.displayName=eu;var Q7="MenuAnchor",Ky=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=uf(n);return b.jsx(HV,{...o,...r,ref:t})});Ky.displayName=Q7;var Zy="MenuPortal",[Y7,TP]=Ns(Zy,{forceMount:void 0}),kP=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=Ts(Zy,t);return b.jsx(Y7,{scope:t,forceMount:n,children:b.jsx(Ji,{present:n||s.open,children:b.jsx($g,{asChild:!0,container:o,children:r})})})};kP.displayName=Zy;var pn="MenuContent",[X7,Gy]=Ns(pn),PP=g.forwardRef((e,t)=>{const n=TP(pn,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=Ts(pn,e.__scopeMenu),i=tu(pn,e.__scopeMenu);return b.jsx(ml.Provider,{scope:e.__scopeMenu,children:b.jsx(Ji,{present:r||s.open,children:b.jsx(ml.Slot,{scope:e.__scopeMenu,children:i.modal?b.jsx(J7,{...o,ref:t}):b.jsx(e9,{...o,ref:t})})})})}),J7=g.forwardRef((e,t)=>{const n=Ts(pn,e.__scopeMenu),r=g.useRef(null),o=dt(t,r);return g.useEffect(()=>{const s=r.current;if(s)return dP(s)},[]),b.jsx(Qy,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:re(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),e9=g.forwardRef((e,t)=>{const n=Ts(pn,e.__scopeMenu);return b.jsx(Qy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Qy=g.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,onDismiss:m,disableOutsideScroll:y,...f}=e,w=Ts(pn,n),p=tu(pn,n),v=uf(n),x=CP(n),E=q7(n),[_,S]=g.useState(null),C=g.useRef(null),N=dt(t,C,w.onContentChange),B=g.useRef(0),M=g.useRef(""),D=g.useRef(0),j=g.useRef(null),V=g.useRef("right"),A=g.useRef(0),T=y?EP:g.Fragment,k=y?{as:Oi,allowPinchZoom:!0}:void 0,I=R=>{var J,Qe;const $=M.current+R,F=E().filter(be=>!be.disabled),U=document.activeElement,q=(J=F.find(be=>be.ref.current===U))==null?void 0:J.textValue,G=F.map(be=>be.textValue),ye=f9(G,$,q),de=(Qe=F.find(be=>be.textValue===ye))==null?void 0:Qe.ref.current;(function be(Ye){M.current=Ye,window.clearTimeout(B.current),Ye!==""&&(B.current=window.setTimeout(()=>be(""),1e3))})($),de&&setTimeout(()=>de.focus())};g.useEffect(()=>()=>window.clearTimeout(B.current),[]),Mk();const P=g.useCallback(R=>{var F,U;return V.current===((F=j.current)==null?void 0:F.side)&&p9(R,(U=j.current)==null?void 0:U.area)},[]);return b.jsx(X7,{scope:n,searchRef:M,onItemEnter:g.useCallback(R=>{P(R)&&R.preventDefault()},[P]),onItemLeave:g.useCallback(R=>{var $;P(R)||(($=C.current)==null||$.focus(),S(null))},[P]),onTriggerLeave:g.useCallback(R=>{P(R)&&R.preventDefault()},[P]),pointerGraceTimerRef:D,onPointerGraceIntentChange:g.useCallback(R=>{j.current=R},[]),children:b.jsx(T,{...k,children:b.jsx($k,{asChild:!0,trapped:o,onMountAutoFocus:re(s,R=>{var $;R.preventDefault(),($=C.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:b.jsx(Mg,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,onDismiss:m,children:b.jsx(i7,{asChild:!0,...x,dir:p.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:S,onEntryFocus:re(l,R=>{p.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:b.jsx(qV,{role:"menu","aria-orientation":"vertical","data-state":HP(w.open),"data-radix-menu-content":"",dir:p.dir,...v,...f,ref:N,style:{outline:"none",...f.style},onKeyDown:re(f.onKeyDown,R=>{const F=R.target.closest("[data-radix-menu-content]")===R.currentTarget,U=R.ctrlKey||R.altKey||R.metaKey,q=R.key.length===1;F&&(R.key==="Tab"&&R.preventDefault(),!U&&q&&I(R.key));const G=C.current;if(R.target!==G||!V7.includes(R.key))return;R.preventDefault();const de=E().filter(J=>!J.disabled).map(J=>J.ref.current);SP.includes(R.key)&&de.reverse(),c9(de)}),onBlur:re(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(B.current),M.current="")}),onPointerMove:re(e.onPointerMove,gl(R=>{const $=R.target,F=A.current!==R.clientX;if(R.currentTarget.contains($)&&F){const U=R.clientX>A.current?"right":"left";V.current=U,A.current=R.clientX}}))})})})})})})});PP.displayName=pn;var t9="MenuGroup",Yy=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return b.jsx(xe.div,{role:"group",...r,ref:t})});Yy.displayName=t9;var n9="MenuLabel",RP=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return b.jsx(xe.div,{...r,ref:t})});RP.displayName=n9;var Xc="MenuItem",ib="menu.itemSelect",cf=g.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=g.useRef(null),i=tu(Xc,e.__scopeMenu),a=Gy(Xc,e.__scopeMenu),l=dt(t,s),u=g.useRef(!1),c=()=>{const d=s.current;if(!n&&d){const h=new CustomEvent(ib,{bubbles:!0,cancelable:!0});d.addEventListener(ib,m=>r==null?void 0:r(m),{once:!0}),Ig(d,h),h.defaultPrevented?u.current=!1:i.onClose()}};return b.jsx(AP,{...o,ref:l,disabled:n,onClick:re(e.onClick,c),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:re(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:re(e.onKeyDown,d=>{const h=a.searchRef.current!=="";n||h&&d.key===" "||xm.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});cf.displayName=Xc;var AP=g.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,i=Gy(Xc,n),a=CP(n),l=g.useRef(null),u=dt(t,l),[c,d]=g.useState(!1),[h,m]=g.useState("");return g.useEffect(()=>{const y=l.current;y&&m((y.textContent??"").trim())},[s.children]),b.jsx(ml.ItemSlot,{scope:n,disabled:r,textValue:o??h,children:b.jsx(a7,{asChild:!0,...a,focusable:!r,children:b.jsx(xe.div,{role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:re(e.onPointerMove,gl(y=>{r?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:re(e.onPointerLeave,gl(y=>i.onItemLeave(y))),onFocus:re(e.onFocus,()=>d(!0)),onBlur:re(e.onBlur,()=>d(!1))})})})}),r9="MenuCheckboxItem",OP=g.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return b.jsx(jP,{scope:e.__scopeMenu,checked:n,children:b.jsx(cf,{role:"menuitemcheckbox","aria-checked":Jc(n)?"mixed":n,...o,ref:t,"data-state":Jy(n),onSelect:re(o.onSelect,()=>r==null?void 0:r(Jc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});OP.displayName=r9;var IP="MenuRadioGroup",[o9,s9]=Ns(IP,{value:void 0,onValueChange:()=>{}}),MP=g.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,s=qe(r);return b.jsx(o9,{scope:e.__scopeMenu,value:n,onValueChange:s,children:b.jsx(Yy,{...o,ref:t})})});MP.displayName=IP;var $P="MenuRadioItem",DP=g.forwardRef((e,t)=>{const{value:n,...r}=e,o=s9($P,e.__scopeMenu),s=n===o.value;return b.jsx(jP,{scope:e.__scopeMenu,checked:s,children:b.jsx(cf,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":Jy(s),onSelect:re(r.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,n)},{checkForDefaultPrevented:!1})})})});DP.displayName=$P;var Xy="MenuItemIndicator",[jP,i9]=Ns(Xy,{checked:!1}),LP=g.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=i9(Xy,n);return b.jsx(Ji,{present:r||Jc(s.checked)||s.checked===!0,children:b.jsx(xe.span,{...o,ref:t,"data-state":Jy(s.checked)})})});LP.displayName=Xy;var a9="MenuSeparator",FP=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return b.jsx(xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});FP.displayName=a9;var l9="MenuArrow",BP=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=uf(n);return b.jsx(KV,{...o,...r,ref:t})});BP.displayName=l9;var u9="MenuSub",[$Z,UP]=Ns(u9),Pa="MenuSubTrigger",zP=g.forwardRef((e,t)=>{const n=Ts(Pa,e.__scopeMenu),r=tu(Pa,e.__scopeMenu),o=UP(Pa,e.__scopeMenu),s=Gy(Pa,e.__scopeMenu),i=g.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,u={__scopeMenu:e.__scopeMenu},c=g.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return g.useEffect(()=>c,[c]),g.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),b.jsx(Ky,{asChild:!0,...u,children:b.jsx(AP,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":HP(n.open),...e,ref:Id(t,o.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:re(e.onPointerMove,gl(d=>{s.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),c()},100))})),onPointerLeave:re(e.onPointerLeave,gl(d=>{var m,y;c();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const f=(y=n.content)==null?void 0:y.dataset.side,w=f==="right",p=w?-5:5,v=h[w?"left":"right"],x=h[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+p,y:d.clientY},{x:v,y:h.top},{x,y:h.top},{x,y:h.bottom},{x:v,y:h.bottom}],side:f}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:re(e.onKeyDown,d=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&d.key===" "||W7[r.dir].includes(d.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),d.preventDefault())})})})});zP.displayName=Pa;var VP="MenuSubContent",WP=g.forwardRef((e,t)=>{const n=TP(pn,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=Ts(pn,e.__scopeMenu),i=tu(pn,e.__scopeMenu),a=UP(VP,e.__scopeMenu),l=g.useRef(null),u=dt(t,l);return b.jsx(ml.Provider,{scope:e.__scopeMenu,children:b.jsx(Ji,{present:r||s.open,children:b.jsx(ml.Slot,{scope:e.__scopeMenu,children:b.jsx(Qy,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:c=>{var d;i.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),c.preventDefault()},onCloseAutoFocus:c=>c.preventDefault(),onFocusOutside:re(e.onFocusOutside,c=>{c.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:re(e.onEscapeKeyDown,c=>{i.onClose(),c.preventDefault()}),onKeyDown:re(e.onKeyDown,c=>{var m;const d=c.currentTarget.contains(c.target),h=H7[i.dir].includes(c.key);d&&h&&(s.onOpenChange(!1),(m=a.trigger)==null||m.focus(),c.preventDefault())})})})})})});WP.displayName=VP;function HP(e){return e?"open":"closed"}function Jc(e){return e==="indeterminate"}function Jy(e){return Jc(e)?"indeterminate":e?"checked":"unchecked"}function c9(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function d9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function f9(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=d9(e,Math.max(s,0));o.length===1&&(i=i.filter(u=>u!==n));const l=i.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function h9(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const a=t[s].x,l=t[s].y,u=t[i].x,c=t[i].y;l>r!=c>r&&n<(u-a)*(r-l)/(c-l)+a&&(o=!o)}return o}function p9(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return h9(n,t)}function gl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var m9=NP,g9=Ky,y9=kP,v9=PP,w9=Yy,b9=RP,x9=cf,E9=OP,S9=MP,_9=DP,C9=LP,N9=FP,T9=BP,k9=zP,P9=WP,ev="DropdownMenu",[R9,DZ]=Xi(ev,[_P]),It=_P(),[A9,qP]=R9(ev),KP=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=It(t),u=g.useRef(null),[c=!1,d]=Ul({prop:o,defaultProp:s,onChange:i});return b.jsx(A9,{scope:t,triggerId:li(),triggerRef:u,contentId:li(),open:c,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:a,children:b.jsx(m9,{...l,open:c,onOpenChange:d,dir:r,modal:a,children:n})})};KP.displayName=ev;var ZP="DropdownMenuTrigger",GP=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=qP(ZP,n),i=It(n);return b.jsx(g9,{asChild:!0,...i,children:b.jsx(xe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Id(t,s.triggerRef),onPointerDown:re(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:re(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});GP.displayName=ZP;var O9="DropdownMenuPortal",QP=e=>{const{__scopeDropdownMenu:t,...n}=e,r=It(t);return b.jsx(y9,{...r,...n})};QP.displayName=O9;var YP="DropdownMenuContent",XP=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=qP(YP,n),s=It(n),i=g.useRef(!1);return b.jsx(v9,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:t,onCloseAutoFocus:re(e.onCloseAutoFocus,a=>{var l;i.current||(l=o.triggerRef.current)==null||l.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:re(e.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,c=l.button===2||u;(!o.modal||c)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XP.displayName=YP;var I9="DropdownMenuGroup",M9=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=It(n);return b.jsx(w9,{...o,...r,ref:t})});M9.displayName=I9;var $9="DropdownMenuLabel",JP=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=It(n);return b.jsx(b9,{...o,...r,ref:t})});JP.displayName=$9;var D9="DropdownMenuItem",eR=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=It(n);return b.jsx(x9,{...o,...r,ref:t})});eR.displayName=D9;var j9="DropdownMenuCheckboxItem",tR=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=It(n);return b.jsx(E9,{...o,...r,ref:t})});tR.displayName=j9;var L9="DropdownMenuRadioGroup",F9=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=It(n);return b.jsx(S9,{...o,...r,ref:t})});F9.displayName=L9;var B9="DropdownMenuRadioItem",nR=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=It(n);return b.jsx(_9,{...o,...r,ref:t})});nR.displayName=B9;var U9="DropdownMenuItemIndicator",rR=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=It(n);return b.jsx(C9,{...o,...r,ref:t})});rR.displayName=U9;var z9="DropdownMenuSeparator",oR=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=It(n);return b.jsx(N9,{...o,...r,ref:t})});oR.displayName=z9;var V9="DropdownMenuArrow",W9=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=It(n);return b.jsx(T9,{...o,...r,ref:t})});W9.displayName=V9;var H9="DropdownMenuSubTrigger",sR=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=It(n);return b.jsx(k9,{...o,...r,ref:t})});sR.displayName=H9;var q9="DropdownMenuSubContent",iR=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=It(n);return b.jsx(P9,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iR.displayName=q9;var K9=KP,Z9=GP,G9=QP,aR=XP,lR=JP,uR=eR,cR=tR,dR=nR,fR=rR,hR=oR,pR=sR,mR=iR;const Q9=K9,Y9=Z9,X9=g.forwardRef(({className:e,inset:t,children:n,...r},o)=>b.jsxs(pR,{ref:o,className:oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,b.jsx(qD,{className:"ml-auto h-4 w-4"})]}));X9.displayName=pR.displayName;const J9=g.forwardRef(({className:e,...t},n)=>b.jsx(mR,{ref:n,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));J9.displayName=mR.displayName;const gR=g.forwardRef(({className:e,sideOffset:t=4,...n},r)=>b.jsx(G9,{children:b.jsx(aR,{ref:r,sideOffset:t,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","fixed right-4 sm:absolute sm:right-0",e),...n})}));gR.displayName=aR.displayName;const yR=g.forwardRef(({className:e,inset:t,...n},r)=>b.jsx(uR,{ref:r,className:oe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));yR.displayName=uR.displayName;const eW=g.forwardRef(({className:e,children:t,checked:n,...r},o)=>b.jsxs(cR,{ref:o,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[b.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:b.jsx(fR,{children:b.jsx(HD,{className:"h-4 w-4"})})}),t]}));eW.displayName=cR.displayName;const tW=g.forwardRef(({className:e,children:t,...n},r)=>b.jsxs(dR,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[b.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:b.jsx(fR,{children:b.jsx(ZD,{className:"h-2 w-2 fill-current"})})}),t]}));tW.displayName=dR.displayName;const nW=g.forwardRef(({className:e,inset:t,...n},r)=>b.jsx(lR,{ref:r,className:oe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));nW.displayName=lR.displayName;const rW=g.forwardRef(({className:e,...t},n)=>b.jsx(hR,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));rW.displayName=hR.displayName;function _o(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function ab(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vR(...e){return t=>{let n=!1;const r=e.map(o=>{const s=ab(o,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():ab(e[o],null)}}}}function ks(...e){return g.useCallback(vR(...e),e)}var tv=g.forwardRef((e,t)=>{const{children:n,...r}=e,o=g.Children.toArray(n),s=o.find(sW);if(s){const i=s.props.children,a=o.map(l=>l===s?g.Children.count(i)>1?g.Children.only(null):g.isValidElement(i)?i.props.children:null:l);return b.jsx(Em,{...r,ref:t,children:g.isValidElement(i)?g.cloneElement(i,void 0,a):null})}return b.jsx(Em,{...r,ref:t,children:n})});tv.displayName="Slot";var Em=g.forwardRef((e,t)=>{const{children:n,...r}=e;if(g.isValidElement(n)){const o=aW(n),s=iW(r,n.props);return n.type!==g.Fragment&&(s.ref=t?vR(t,o):o),g.cloneElement(n,s)}return g.Children.count(n)>1?g.Children.only(null):null});Em.displayName="SlotClone";var oW=({children:e})=>b.jsx(b.Fragment,{children:e});function sW(e){return g.isValidElement(e)&&e.type===oW}function iW(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...a)=>{s(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function aW(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var lW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Dr=lW.reduce((e,t)=>{const n=g.forwardRef((r,o)=>{const{asChild:s,...i}=r,a=s?tv:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(a,{...i,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function uW(e,t){e&&Yi.flushSync(()=>e.dispatchEvent(t))}var cW="DismissableLayer",Sm="dismissableLayer.update",dW="dismissableLayer.pointerDownOutside",fW="dismissableLayer.focusOutside",lb,wR=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bR=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:i,onDismiss:a,...l}=e,u=g.useContext(wR),[c,d]=g.useState(null),h=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),y=ks(t,C=>d(C)),f=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=f.indexOf(w),v=c?f.indexOf(c):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,E=v>=p,_=mW(C=>{const N=C.target,B=[...u.branches].some(M=>M.contains(N));!E||B||(o==null||o(C),i==null||i(C),C.defaultPrevented||a==null||a())},h),S=gW(C=>{const N=C.target;[...u.branches].some(M=>M.contains(N))||(s==null||s(C),i==null||i(C),C.defaultPrevented||a==null||a())},h);return dC(C=>{v===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),g.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(lb=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),ub(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=lb)}},[c,h,n,u]),g.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),ub())},[c,u]),g.useEffect(()=>{const C=()=>m({});return document.addEventListener(Sm,C),()=>document.removeEventListener(Sm,C)},[]),b.jsx(Dr.div,{...l,ref:y,style:{pointerEvents:x?E?"auto":"none":void 0,...e.style},onFocusCapture:_o(e.onFocusCapture,S.onFocusCapture),onBlurCapture:_o(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:_o(e.onPointerDownCapture,_.onPointerDownCapture)})});bR.displayName=cW;var hW="DismissableLayerBranch",pW=g.forwardRef((e,t)=>{const n=g.useContext(wR),r=g.useRef(null),o=ks(t,r);return g.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),b.jsx(Dr.div,{...e,ref:o})});pW.displayName=hW;function mW(e,t=globalThis==null?void 0:globalThis.document){const n=qe(e),r=g.useRef(!1),o=g.useRef(()=>{});return g.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){xR(dW,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function gW(e,t=globalThis==null?void 0:globalThis.document){const n=qe(e),r=g.useRef(!1);return g.useEffect(()=>{const o=s=>{s.target&&!r.current&&xR(fW,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ub(){const e=new CustomEvent(Sm);document.dispatchEvent(e)}function xR(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?uW(o,s):o.dispatchEvent(s)}var Dh="focusScope.autoFocusOnMount",jh="focusScope.autoFocusOnUnmount",cb={bubbles:!1,cancelable:!0},yW="FocusScope",ER=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...i}=e,[a,l]=g.useState(null),u=qe(o),c=qe(s),d=g.useRef(null),h=ks(t,f=>l(f)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let f=function(x){if(m.paused||!a)return;const E=x.target;a.contains(E)?d.current=E:Yr(d.current,{select:!0})},w=function(x){if(m.paused||!a)return;const E=x.relatedTarget;E!==null&&(a.contains(E)||Yr(d.current,{select:!0}))},p=function(x){if(document.activeElement===document.body)for(const _ of x)_.removedNodes.length>0&&Yr(a)};document.addEventListener("focusin",f),document.addEventListener("focusout",w);const v=new MutationObserver(p);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",w),v.disconnect()}}},[r,a,m.paused]),g.useEffect(()=>{if(a){fb.add(m);const f=document.activeElement;if(!a.contains(f)){const p=new CustomEvent(Dh,cb);a.addEventListener(Dh,u),a.dispatchEvent(p),p.defaultPrevented||(vW(SW(SR(a)),{select:!0}),document.activeElement===f&&Yr(a))}return()=>{a.removeEventListener(Dh,u),setTimeout(()=>{const p=new CustomEvent(jh,cb);a.addEventListener(jh,c),a.dispatchEvent(p),p.defaultPrevented||Yr(f??document.body,{select:!0}),a.removeEventListener(jh,c),fb.remove(m)},0)}}},[a,u,c,m]);const y=g.useCallback(f=>{if(!n&&!r||m.paused)return;const w=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,p=document.activeElement;if(w&&p){const v=f.currentTarget,[x,E]=wW(v);x&&E?!f.shiftKey&&p===E?(f.preventDefault(),n&&Yr(x,{select:!0})):f.shiftKey&&p===x&&(f.preventDefault(),n&&Yr(E,{select:!0})):p===v&&f.preventDefault()}},[n,r,m.paused]);return b.jsx(Dr.div,{tabIndex:-1,...i,ref:h,onKeyDown:y})});ER.displayName=yW;function vW(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Yr(r,{select:t}),document.activeElement!==n)return}function wW(e){const t=SR(e),n=db(t,e),r=db(t.reverse(),e);return[n,r]}function SR(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function db(e,t){for(const n of e)if(!bW(n,{upTo:t}))return n}function bW(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xW(e){return e instanceof HTMLInputElement&&"select"in e}function Yr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&xW(e)&&t&&e.select()}}var fb=EW();function EW(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=hb(e,t),e.unshift(t)},remove(t){var n;e=hb(e,t),(n=e[0])==null||n.resume()}}}function hb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function SW(e){return e.filter(t=>t.tagName!=="A")}var _W="Portal",_R=g.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,s]=g.useState(!1);Jt(()=>s(!0),[]);const i=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?j_.createPortal(b.jsx(Dr.div,{...r,ref:t}),i):null});_R.displayName=_W;function CW(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var df=e=>{const{present:t,children:n}=e,r=NW(t),o=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),s=ks(r.ref,TW(o));return typeof n=="function"||r.isPresent?g.cloneElement(o,{ref:s}):null};df.displayName="Presence";function NW(e){const[t,n]=g.useState(),r=g.useRef({}),o=g.useRef(e),s=g.useRef("none"),i=e?"mounted":"unmounted",[a,l]=CW(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=ju(r.current);s.current=a==="mounted"?u:"none"},[a]),Jt(()=>{const u=r.current,c=o.current;if(c!==e){const h=s.current,m=ju(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&h!==m?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),Jt(()=>{if(t){let u;const c=t.ownerDocument.defaultView??window,d=m=>{const f=ju(r.current).includes(m.animationName);if(m.target===t&&f&&(l("ANIMATION_END"),!o.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=m=>{m.target===t&&(s.current=ju(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{c.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function ju(e){return(e==null?void 0:e.animationName)||"none"}function TW(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var CR=pP(),Lh=function(){},ff=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:Lh,onWheelCapture:Lh,onTouchMoveCapture:Lh}),o=r[0],s=r[1],i=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,h=e.sideCar,m=e.noIsolation,y=e.inert,f=e.allowPinchZoom,w=e.as,p=w===void 0?"div":w,v=e.gapMode,x=Hy(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,_=hP([n,t]),S=bt(bt({},x),o);return g.createElement(g.Fragment,null,c&&g.createElement(E,{sideCar:CR,removeScrollBar:u,shards:d,noIsolation:m,inert:y,setCallbacks:s,allowPinchZoom:!!f,lockRef:n,gapMode:v}),i?g.cloneElement(g.Children.only(a),bt(bt({},S),{ref:_})):g.createElement(p,bt({},S,{className:l,ref:_}),a))});ff.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ff.classNames={fullWidth:Va,zeroRight:za};var _m=!1;if(typeof window<"u")try{var Lu=Object.defineProperty({},"passive",{get:function(){return _m=!0,!0}});window.addEventListener("test",Lu,Lu),window.removeEventListener("test",Lu,Lu)}catch{_m=!1}var $s=_m?{passive:!1}:!1,kW=function(e){return e.tagName==="TEXTAREA"},NR=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!kW(e)&&n[t]==="visible")},PW=function(e){return NR(e,"overflowY")},RW=function(e){return NR(e,"overflowX")},pb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=TR(e,r);if(o){var s=kR(e,r),i=s[1],a=s[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},AW=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},OW=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},TR=function(e,t){return e==="v"?PW(t):RW(t)},kR=function(e,t){return e==="v"?AW(t):OW(t)},IW=function(e,t){return e==="h"&&t==="rtl"?-1:1},MW=function(e,t,n,r,o){var s=IW(e,window.getComputedStyle(t).direction),i=s*r,a=n.target,l=t.contains(a),u=!1,c=i>0,d=0,h=0;do{var m=kR(e,a),y=m[0],f=m[1],w=m[2],p=f-w-s*y;(y||p)&&TR(e,a)&&(d+=p,h+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&(Math.abs(d)<1||!o)||!c&&(Math.abs(h)<1||!o))&&(u=!0),u},Fu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mb=function(e){return[e.deltaX,e.deltaY]},gb=function(e){return e&&"current"in e?e.current:e},$W=function(e,t){return e[0]===t[0]&&e[1]===t[1]},DW=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},jW=0,Ds=[];function LW(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),o=g.useState(jW++)[0],s=g.useState(qy)[0],i=g.useRef(e);g.useEffect(function(){i.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var f=fP([e.lockRef.current],(e.shards||[]).map(gb),!0).filter(Boolean);return f.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),f.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=g.useCallback(function(f,w){if("touches"in f&&f.touches.length===2||f.type==="wheel"&&f.ctrlKey)return!i.current.allowPinchZoom;var p=Fu(f),v=n.current,x="deltaX"in f?f.deltaX:v[0]-p[0],E="deltaY"in f?f.deltaY:v[1]-p[1],_,S=f.target,C=Math.abs(x)>Math.abs(E)?"h":"v";if("touches"in f&&C==="h"&&S.type==="range")return!1;var N=pb(C,S);if(!N)return!0;if(N?_=C:(_=C==="v"?"h":"v",N=pb(C,S)),!N)return!1;if(!r.current&&"changedTouches"in f&&(x||E)&&(r.current=_),!_)return!0;var B=r.current||_;return MW(B,w,f,B==="h"?x:E,!0)},[]),l=g.useCallback(function(f){var w=f;if(!(!Ds.length||Ds[Ds.length-1]!==s)){var p="deltaY"in w?mb(w):Fu(w),v=t.current.filter(function(_){return _.name===w.type&&(_.target===w.target||w.target===_.shadowParent)&&$W(_.delta,p)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var x=(i.current.shards||[]).map(gb).filter(Boolean).filter(function(_){return _.contains(w.target)}),E=x.length>0?a(w,x[0]):!i.current.noIsolation;E&&w.cancelable&&w.preventDefault()}}},[]),u=g.useCallback(function(f,w,p,v){var x={name:f,delta:w,target:p,should:v,shadowParent:FW(p)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(E){return E!==x})},1)},[]),c=g.useCallback(function(f){n.current=Fu(f),r.current=void 0},[]),d=g.useCallback(function(f){u(f.type,mb(f),f.target,a(f,e.lockRef.current))},[]),h=g.useCallback(function(f){u(f.type,Fu(f),f.target,a(f,e.lockRef.current))},[]);g.useEffect(function(){return Ds.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,$s),document.addEventListener("touchmove",l,$s),document.addEventListener("touchstart",c,$s),function(){Ds=Ds.filter(function(f){return f!==s}),document.removeEventListener("wheel",l,$s),document.removeEventListener("touchmove",l,$s),document.removeEventListener("touchstart",c,$s)}},[]);var m=e.removeScrollBar,y=e.inert;return g.createElement(g.Fragment,null,y?g.createElement(s,{styles:DW(o)}):null,m?g.createElement(vP,{gapMode:e.gapMode}):null)}function FW(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const BW=gP(CR,LW);var PR=g.forwardRef(function(e,t){return g.createElement(ff,bt({},e,{ref:t,sideCar:BW}))});PR.classNames=ff.classNames;var nv="Dialog",[RR,jZ]=Xi(nv),[UW,In]=RR(nv),AR=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,a=g.useRef(null),l=g.useRef(null),[u=!1,c]=Ul({prop:r,defaultProp:o,onChange:s});return b.jsx(UW,{scope:t,triggerRef:a,contentRef:l,contentId:li(),titleId:li(),descriptionId:li(),open:u,onOpenChange:c,onOpenToggle:g.useCallback(()=>c(d=>!d),[c]),modal:i,children:n})};AR.displayName=nv;var OR="DialogTrigger",IR=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=In(OR,n),s=ks(t,o.triggerRef);return b.jsx(Dr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":sv(o.open),...r,ref:s,onClick:_o(e.onClick,o.onOpenToggle)})});IR.displayName=OR;var rv="DialogPortal",[zW,MR]=RR(rv,{forceMount:void 0}),$R=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=In(rv,t);return b.jsx(zW,{scope:t,forceMount:n,children:g.Children.map(r,i=>b.jsx(df,{present:n||s.open,children:b.jsx(_R,{asChild:!0,container:o,children:i})}))})};$R.displayName=rv;var ed="DialogOverlay",DR=g.forwardRef((e,t)=>{const n=MR(ed,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=In(ed,e.__scopeDialog);return s.modal?b.jsx(df,{present:r||s.open,children:b.jsx(VW,{...o,ref:t})}):null});DR.displayName=ed;var VW=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=In(ed,n);return b.jsx(PR,{as:tv,allowPinchZoom:!0,shards:[o.contentRef],children:b.jsx(Dr.div,{"data-state":sv(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),xs="DialogContent",jR=g.forwardRef((e,t)=>{const n=MR(xs,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=In(xs,e.__scopeDialog);return b.jsx(df,{present:r||s.open,children:s.modal?b.jsx(WW,{...o,ref:t}):b.jsx(HW,{...o,ref:t})})});jR.displayName=xs;var WW=g.forwardRef((e,t)=>{const n=In(xs,e.__scopeDialog),r=g.useRef(null),o=ks(t,n.contentRef,r);return g.useEffect(()=>{const s=r.current;if(s)return dP(s)},[]),b.jsx(LR,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_o(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:_o(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&s.preventDefault()}),onFocusOutside:_o(e.onFocusOutside,s=>s.preventDefault())})}),HW=g.forwardRef((e,t)=>{const n=In(xs,e.__scopeDialog),r=g.useRef(!1),o=g.useRef(!1);return b.jsx(LR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),LR=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...i}=e,a=In(xs,n),l=g.useRef(null),u=ks(t,l);return Mk(),b.jsxs(b.Fragment,{children:[b.jsx(ER,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:b.jsx(bR,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":sv(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),b.jsxs(b.Fragment,{children:[b.jsx(qW,{titleId:a.titleId}),b.jsx(ZW,{contentRef:l,descriptionId:a.descriptionId})]})]})}),ov="DialogTitle",FR=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=In(ov,n);return b.jsx(Dr.h2,{id:o.titleId,...r,ref:t})});FR.displayName=ov;var BR="DialogDescription",UR=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=In(BR,n);return b.jsx(Dr.p,{id:o.descriptionId,...r,ref:t})});UR.displayName=BR;var zR="DialogClose",VR=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=In(zR,n);return b.jsx(Dr.button,{type:"button",...r,ref:t,onClick:_o(e.onClick,()=>o.onOpenChange(!1))})});VR.displayName=zR;function sv(e){return e?"open":"closed"}var WR="DialogTitleWarning",[LZ,HR]=iD(WR,{contentName:xs,titleName:ov,docsSlug:"dialog"}),qW=({titleId:e})=>{const t=HR(WR),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},KW="DialogDescriptionWarning",ZW=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${HR(KW).contentName}}.`;return g.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},qR=AR,GW=IR,KR=$R,hf=DR,pf=jR,mf=FR,gf=UR,ZR=VR;const QW=qR,YW=KR,GR=g.forwardRef(({className:e,...t},n)=>b.jsx(hf,{ref:n,className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));GR.displayName=hf.displayName;const QR=g.forwardRef(({className:e,children:t,...n},r)=>b.jsxs(YW,{children:[b.jsx(GR,{}),b.jsxs(pf,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,b.jsxs(ZR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[b.jsx(Bg,{className:"h-4 w-4"}),b.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));QR.displayName=pf.displayName;const YR=({className:e,...t})=>b.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});YR.displayName="DialogHeader";const XR=g.forwardRef(({className:e,...t},n)=>b.jsx(mf,{ref:n,className:oe("text-lg font-semibold leading-none tracking-tight",e),...t}));XR.displayName=mf.displayName;const XW=g.forwardRef(({className:e,...t},n)=>b.jsx(gf,{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));XW.displayName=gf.displayName;function JW({post:e,priority:t=!1}){const{getUserMetadata:n,loadPostMetadata:r}=Xl(),[o,s]=g.useState(!t),[i,a]=g.useState(!1),[l,u]=g.useState(!1),[,c]=G_(),{ref:d,inView:h}=Ok({threshold:0,triggerOnce:!0});g.useEffect(()=>{h&&r(e.pubkey)},[h,e.pubkey,r]);const m=n(e.pubkey),y=e.pubkey.slice(0,8);g.useEffect(()=>{if(!t){const v=setTimeout(()=>{s(!1)},500);return()=>clearTimeout(v)}s(!1)},[t]);const f=()=>{var v;return o?b.jsx(Kc,{className:"h-10 w-10 rounded-full"}):b.jsx(ef,{className:"h-10 w-10 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>c(`/profile/${e.pubkey}`),children:m!=null&&m.picture?b.jsx(tf,{src:m.picture,alt:m.name||y,onError:x=>{x.target.src=""}}):b.jsx(nf,{children:(((v=m==null?void 0:m.name)==null?void 0:v[0])||y.slice(0,2)).toUpperCase()})})},w=()=>{a(!0),u(!1)},p=()=>{c(`/profile/${e.pubkey}`)};return b.jsxs(b.Fragment,{children:[b.jsxs(Yn,{ref:d,className:oe(o&&"opacity-70"),children:[b.jsxs(ko,{className:"flex flex-row items-center gap-4",children:[f(),b.jsxs("div",{className:"space-y-1 flex-grow",children:[o?b.jsx(Kc,{className:"h-4 w-24"}):b.jsx("p",{className:"font-semibold cursor-pointer hover:underline",onClick:p,children:(m==null?void 0:m.name)||`nostr:${y}`}),b.jsx("p",{className:"text-sm text-muted-foreground",children:yz(new Date(e.createdAt),"yyyy/MM/dd HH:mm:ss")})]}),b.jsxs(Q9,{open:l,onOpenChange:u,children:[b.jsx(Y9,{asChild:!0,children:b.jsxs(lt,{variant:"ghost",size:"icon",className:"shrink-0",children:[b.jsx(GD,{className:"h-4 w-4"}),b.jsx("span",{className:"sr-only",children:""})]})}),b.jsx(gR,{align:"end",className:"min-w-[140px] w-[140px]",children:b.jsx(yR,{onClick:w,children:"JSON"})})]})]}),b.jsx(Xn,{children:b.jsx("p",{className:"whitespace-pre-wrap",children:e.content})}),b.jsxs(xT,{className:"flex gap-4",children:[b.jsxs(lt,{variant:"ghost",size:"sm",children:[b.jsx(QD,{className:"h-4 w-4 mr-2"}),"Like"]}),b.jsxs(lt,{variant:"ghost",size:"sm",children:[b.jsx(JD,{className:"h-4 w-4 mr-2"}),"Reply"]}),b.jsxs(lt,{variant:"ghost",size:"sm",children:[b.jsx(rj,{className:"h-4 w-4 mr-2"}),"Share"]})]})]}),b.jsx(QW,{open:i,onOpenChange:a,children:b.jsxs(QR,{className:"sm:max-w-[600px]",children:[b.jsx(YR,{children:b.jsx(XR,{children:""})}),b.jsx("pre",{className:"bg-muted p-4 rounded-md overflow-auto max-h-[400px]",children:JSON.stringify(e,null,2)})]})})]})}const JR=g.memo(JW),iv=g.forwardRef(({className:e,...t},n)=>b.jsx("textarea",{className:oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));iv.displayName="Textarea";function eH({onSubmit:e,isSubmitting:t}){const[n,r]=g.useState(""),o=g.useCallback(i=>{i.preventDefault(),n.trim()&&(e(n),r(""))},[n,e]),s=g.useCallback(i=>{(i.metaKey||i.ctrlKey)&&i.key==="Enter"&&(i.preventDefault(),n.trim()&&(e(n),r("")))},[n,e]);return b.jsx(Yn,{children:b.jsx(Xn,{className:"pt-6",children:b.jsxs("form",{onSubmit:o,className:"space-y-4",children:[b.jsx(iv,{placeholder:"What's on your mind?",value:n,onChange:i=>r(i.target.value),onKeyDown:s,className:"min-h-[100px]"}),b.jsx("div",{className:"flex justify-end",children:b.jsxs(lt,{type:"submit",disabled:t||!n.trim(),children:[t&&b.jsx(ms,{className:"mr-2 h-4 w-4 animate-spin"}),"Post"]})})]})})})}const tH=qR,nH=GW,rH=KR,eA=g.forwardRef(({className:e,...t},n)=>b.jsx(hf,{className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));eA.displayName=hf.displayName;const oH=zl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),tA=g.forwardRef(({side:e="right",className:t,children:n,...r},o)=>b.jsxs(rH,{children:[b.jsx(eA,{}),b.jsxs(pf,{ref:o,className:oe(oH({side:e}),t),...r,children:[n,b.jsxs(ZR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[b.jsx(Bg,{className:"h-4 w-4"}),b.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));tA.displayName=pf.displayName;const nA=({className:e,...t})=>b.jsx("div",{className:oe("flex flex-col space-y-2 text-center sm:text-left",e),...t});nA.displayName="SheetHeader";const rA=g.forwardRef(({className:e,...t},n)=>b.jsx(mf,{ref:n,className:oe("text-lg font-semibold text-foreground",e),...t}));rA.displayName=mf.displayName;const sH=g.forwardRef(({className:e,...t},n)=>b.jsx(gf,{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));sH.displayName=gf.displayName;const yl=g.forwardRef(({className:e,type:t,...n},r)=>b.jsx("input",{type:t,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));yl.displayName="Input";var iH="Label",oA=g.forwardRef((e,t)=>b.jsx(xe.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));oA.displayName=iH;var sA=oA;const aH=zl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),di=g.forwardRef(({className:e,...t},n)=>b.jsx(sA,{ref:n,className:oe(aH(),e),...t}));di.displayName=sA.displayName;function lH({onClose:e}){const{user:t}=Uo(),{updateProfile:n,isUpdatingProfile:r}=Xl(),[o,s]=g.useState(""),[i,a]=g.useState(""),[l,u]=g.useState("");if((t==null?void 0:t.type)==="extension")return b.jsxs(Yn,{children:[b.jsx(ko,{children:b.jsx(cl,{children:""})}),b.jsx(Xn,{children:b.jsx(wy,{children:b.jsx(by,{children:"NIP-07"})})})]});const c=async d=>{d.preventDefault();const h={...o&&{name:o},...i&&{about:i},...l&&{picture:l}};try{await n(h),e==null||e()}catch(m){console.error("Failed to update profile:",m)}};return b.jsxs(Yn,{children:[b.jsx(ko,{children:b.jsx(cl,{children:""})}),b.jsx(Xn,{children:b.jsxs("form",{onSubmit:c,className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(di,{htmlFor:"name",children:""}),b.jsx(yl,{id:"name",value:o,onChange:d=>s(d.target.value),placeholder:""})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(di,{htmlFor:"about",children:""}),b.jsx(iv,{id:"about",value:i,onChange:d=>a(d.target.value),placeholder:"",className:"min-h-[100px]"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(di,{htmlFor:"picture",children:"URL"}),b.jsx(yl,{id:"picture",value:l,onChange:d=>u(d.target.value),placeholder:"https://example.com/avatar.jpg",type:"url"})]}),b.jsxs("div",{className:"flex justify-end space-x-2",children:[e&&b.jsx(lt,{type:"button",variant:"outline",onClick:e,children:""}),b.jsxs(lt,{type:"submit",disabled:r,children:[r&&b.jsx(ms,{className:"mr-2 h-4 w-4 animate-spin"}),""]})]})]})})]})}function uH(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var av="Switch",[cH,FZ]=Xi(av),[dH,fH]=cH(av),iA=g.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:s,required:i,disabled:a,value:l="on",onCheckedChange:u,form:c,...d}=e,[h,m]=g.useState(null),y=dt(t,x=>m(x)),f=g.useRef(!1),w=h?c||!!h.closest("form"):!0,[p=!1,v]=Ul({prop:o,defaultProp:s,onChange:u});return b.jsxs(dH,{scope:n,checked:p,disabled:a,children:[b.jsx(xe.button,{type:"button",role:"switch","aria-checked":p,"aria-required":i,"data-state":uA(p),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:y,onClick:re(e.onClick,x=>{v(E=>!E),w&&(f.current=x.isPropagationStopped(),f.current||x.stopPropagation())})}),w&&b.jsx(hH,{control:h,bubbles:!f.current,name:r,value:l,checked:p,required:i,disabled:a,form:c,style:{transform:"translateX(-100%)"}})]})});iA.displayName=av;var aA="SwitchThumb",lA=g.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=fH(aA,n);return b.jsx(xe.span,{"data-state":uA(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});lA.displayName=aA;var hH=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,s=g.useRef(null),i=uH(n),a=Kk(t);return g.useEffect(()=>{const l=s.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==n&&d){const h=new Event("click",{bubbles:r});d.call(l,n),l.dispatchEvent(h)}},[i,n,r]),b.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:s,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function uA(e){return e?"checked":"unchecked"}var cA=iA,pH=lA;const Cm=g.forwardRef(({className:e,...t},n)=>b.jsx(cA,{className:oe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:b.jsx(pH,{className:oe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Cm.displayName=cA.displayName;const z=Symbol.for("drizzle:entityKind");function ot(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,z))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(z in n&&n[z]===t[z])return!0;n=Object.getPrototypeOf(n)}return!1}var zb;zb=z;class Vi{constructor(t,n){O(this,"name");O(this,"keyAsName");O(this,"primary");O(this,"notNull");O(this,"default");O(this,"defaultFn");O(this,"onUpdateFn");O(this,"hasDefault");O(this,"isUnique");O(this,"uniqueName");O(this,"uniqueType");O(this,"dataType");O(this,"columnType");O(this,"enumValues");O(this,"generated");O(this,"generatedIdentity");O(this,"config");this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}O(Vi,zb,"Column");var Vb;Vb=z;class dA{constructor(t,n,r){O(this,"config");O(this,"$default",this.$defaultFn);O(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}O(dA,Vb,"ColumnBuilder");const fi=Symbol.for("drizzle:Name");var Wb;Wb=z;class fA{constructor(t,n){O(this,"reference");O(this,"_onUpdate","no action");O(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:o,foreignColumns:s}=t();return{name:r,columns:o,foreignTable:s[0].table,foreignColumns:s}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new hA(t,this)}}O(fA,Wb,"PgForeignKeyBuilder");var Hb;Hb=z;class hA{constructor(t,n){O(this,"reference");O(this,"onUpdate");O(this,"onDelete");this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:t,columns:n,foreignColumns:r}=this.reference(),o=n.map(a=>a.name),s=r.map(a=>a.name),i=[this.table[fi],...o,r[0].table[fi],...s];return t??`${i.join("_")}_fk`}}O(hA,Hb,"PgForeignKey");function mH(e,...t){return e(...t)}function gH(e,t){return`${e[fi]}_${t.join("_")}_unique`}function yb(e,t,n){for(let r=t;r<e.length;r++){const o=e[r];if(o==="\\"){r++;continue}if(o==='"')return[e.slice(t,r).replace(/\\/g,""),r+1];if(!n&&(o===","||o==="}"))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}function pA(e,t=0){const n=[];let r=t,o=!1;for(;r<e.length;){const s=e[r];if(s===","){(o||r===t)&&n.push(""),o=!0,r++;continue}if(o=!1,s==="\\"){r+=2;continue}if(s==='"'){const[l,u]=yb(e,r+1,!0);n.push(l),r=u;continue}if(s==="}")return[n,r+1];if(s==="{"){const[l,u]=pA(e,r+1);n.push(l),r=u;continue}const[i,a]=yb(e,r,!1);n.push(i),r=a}return[n,r]}function yH(e){const[t]=pA(e,1);return t}function mA(e){return`{${e.map(t=>Array.isArray(t)?mA(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var qb,Kb;class pe extends(Kb=dA,qb=z,Kb){constructor(){super(...arguments);O(this,"foreignKeyConfigs",[])}array(n){return new yA(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:o,actions:s})=>mH((i,a)=>{const l=new fA(()=>{const u=i();return{columns:[n],foreignColumns:[u]}});return a.onUpdate&&l.onUpdate(a.onUpdate),a.onDelete&&l.onDelete(a.onDelete),l.build(r)},o,s))}buildExtraConfigColumn(n){return new gA(n,this.config)}}O(pe,qb,"PgColumnBuilder");var Zb,Gb;class ie extends(Gb=Vi,Zb=z,Gb){constructor(t,n){n.uniqueName||(n.uniqueName=gH(t,[n.name])),super(t,n),this.table=t}}O(ie,Zb,"PgColumn");var Qb,Yb;class gA extends(Yb=ie,Qb=z,Yb){constructor(){super(...arguments);O(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});O(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}O(gA,Qb,"ExtraConfigColumn");var Xb,Jb;class yA extends(Jb=pe,Xb=z,Jb){constructor(t,n,r){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(t){const n=this.config.baseBuilder.build(t);return new Nm(t,this.config,n)}}O(yA,Xb,"PgArrayBuilder");var ex,tx;const hd=class hd extends(tx=ie,ex=z,tx){constructor(n,r,o,s){super(n,r);O(this,"size");this.baseColumn=o,this.range=s,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=yH(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const o=n.map(s=>s===null?null:ot(this.baseColumn,hd)?this.baseColumn.mapToDriverValue(s,!0):this.baseColumn.mapToDriverValue(s));return r?o:mA(o)}};O(hd,ex,"PgArray");let Nm=hd;const vb=Symbol.for("drizzle:isPgEnum");function vH(e){return!!e&&typeof e=="function"&&vb in e&&e[vb]===!0}var nx;nx=z;class lv{constructor(t,n,r,o=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:r,isWith:o}}}O(lv,nx,"Subquery");const wH={startActiveSpan(e,t){return t()}},hi=Symbol.for("drizzle:ViewBaseConfig"),Fh=Symbol.for("drizzle:Schema"),wb=Symbol.for("drizzle:Columns"),bb=Symbol.for("drizzle:ExtraConfigColumns"),Bh=Symbol.for("drizzle:OriginalName"),Uh=Symbol.for("drizzle:BaseName"),td=Symbol.for("drizzle:IsAlias"),xb=Symbol.for("drizzle:ExtraConfigBuilder"),vA=Symbol.for("drizzle:IsDrizzleTable");var rx,ox,sx,ix,ax,lx,ux,cx,dx,fx;fx=z,dx=fi,cx=Bh,ux=Fh,lx=wb,ax=bb,ix=Uh,sx=td,ox=vA,rx=xb;class kt{constructor(t,n,r){O(this,dx);O(this,cx);O(this,ux);O(this,lx);O(this,ax);O(this,ix);O(this,sx,!1);O(this,ox,!0);O(this,rx);this[fi]=this[Bh]=t,this[Fh]=n,this[Uh]=r}}O(kt,fx,"Table"),O(kt,"Symbol",{Name:fi,Schema:Fh,OriginalName:Bh,Columns:wb,ExtraConfigColumns:bb,BaseName:Uh,IsAlias:td,ExtraConfigBuilder:xb});function wA(e){return typeof e=="object"&&e!==null&&vA in e}function bH(e){return e!=null&&typeof e.getSQL=="function"}function xH(e){var n;const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),(n=r.typings)!=null&&n.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var hx;hx=z;class ln{constructor(t){O(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Ge([this])}}O(ln,hx,"StringChunk");var px;px=z;const Qo=class Qo{constructor(t){O(this,"decoder",bA);O(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return wH.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,t);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(t,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:o,escapeName:s,escapeParam:i,prepareTyping:a,inlineParams:l,paramStartIndex:u}=r;return xH(t.map(c=>{var d;if(ot(c,ln))return{sql:c.value.join(""),params:[]};if(ot(c,nd))return{sql:s(c.value),params:[]};if(c===void 0)return{sql:"",params:[]};if(Array.isArray(c)){const h=[new ln("(")];for(const[m,y]of c.entries())h.push(y),m<c.length-1&&h.push(new ln(", "));return h.push(new ln(")")),this.buildQueryFromSourceParams(h,r)}if(ot(c,Qo))return this.buildQueryFromSourceParams(c.queryChunks,{...r,inlineParams:l||c.shouldInlineParams});if(ot(c,kt)){const h=c[kt.Symbol.Schema],m=c[kt.Symbol.Name];return{sql:h===void 0||c[td]?s(m):s(h)+"."+s(m),params:[]}}if(ot(c,Vi)){const h=o.getColumnCasing(c);if(n.invokeSource==="indexes")return{sql:s(h),params:[]};const m=c.table[kt.Symbol.Schema];return{sql:c.table[td]||m===void 0?s(c.table[kt.Symbol.Name])+"."+s(h):s(m)+"."+s(c.table[kt.Symbol.Name])+"."+s(h),params:[]}}if(ot(c,SA)){const h=c[hi].schema,m=c[hi].name;return{sql:h===void 0||c[hi].isAlias?s(m):s(h)+"."+s(m),params:[]}}if(ot(c,uv)){if(ot(c.value,od))return{sql:i(u.value++,c),params:[c],typings:["none"]};const h=c.value===null?null:c.encoder.mapToDriverValue(c.value);if(ot(h,Qo))return this.buildQueryFromSourceParams([h],r);if(l)return{sql:this.mapInlineParam(h,r),params:[]};let m=["none"];return a&&(m=[a(c.encoder)]),{sql:i(u.value++,h),params:[h],typings:m}}return ot(c,od)?{sql:i(u.value++,c),params:[c],typings:["none"]}:ot(c,Qo.Aliased)&&c.fieldAlias!==void 0?{sql:s(c.fieldAlias),params:[]}:ot(c,lv)?c._.isWith?{sql:s(c._.alias),params:[]}:this.buildQueryFromSourceParams([new ln("("),c._.sql,new ln(") "),new nd(c._.alias)],r):vH(c)?c.schema?{sql:s(c.schema)+"."+s(c.enumName),params:[]}:{sql:s(c.enumName),params:[]}:bH(c)?(d=c.shouldOmitSQLParens)!=null&&d.call(c)?this.buildQueryFromSourceParams([c.getSQL()],r):this.buildQueryFromSourceParams([new ln("("),c.getSQL(),new ln(")")],r):l?{sql:this.mapInlineParam(c,r),params:[]}:{sql:i(u.value++,c),params:[c],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const r=t.toString();return n(r==="[object Object]"?JSON.stringify(t):r)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Qo.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};O(Qo,px,"SQL");let Ge=Qo;var mx;mx=z;class nd{constructor(t){O(this,"brand");this.value=t}getSQL(){return new Ge([this])}}O(nd,mx,"Name");const bA={mapFromDriverValue:e=>e},xA={mapToDriverValue:e=>e};({...bA,...xA});var gx;gx=z;class uv{constructor(t,n=xA){O(this,"brand");this.value=t,this.encoder=n}getSQL(){return new Ge([this])}}O(uv,gx,"Param");function rd(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new ln(e[0]));for(const[r,o]of t.entries())n.push(o,new ln(e[r+1]));return new Ge(n)}(e=>{function t(){return new Ge([])}e.empty=t;function n(l){return new Ge(l)}e.fromList=n;function r(l){return new Ge([new ln(l)])}e.raw=r;function o(l,u){const c=[];for(const[d,h]of l.entries())d>0&&u!==void 0&&c.push(u),c.push(h);return new Ge(c)}e.join=o;function s(l){return new nd(l)}e.identifier=s;function i(l){return new od(l)}e.placeholder=i;function a(l,u){return new uv(l,u)}e.param=a})(rd||(rd={}));(e=>{var n;n=z;const r=class r{constructor(s,i){O(this,"isSelectionField",!1);this.sql=s,this.fieldAlias=i}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};O(r,n,"SQL.Aliased");let t=r;e.Aliased=t})(Ge||(Ge={}));var yx;yx=z;class od{constructor(t){this.name=t}getSQL(){return new Ge([this])}}O(od,yx,"Placeholder");const EA=Symbol.for("drizzle:IsDrizzleView");var vx,wx,bx;bx=z,wx=hi,vx=EA;class SA{constructor({name:t,schema:n,selectedFields:r,query:o}){O(this,wx);O(this,vx,!0);this[hi]={name:t,originalName:t,schema:n,selectedFields:r,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new Ge([this])}}O(SA,bx,"View");function EH(e){return typeof e=="object"&&e!==null&&EA in e}Vi.prototype.getSQL=function(){return new Ge([this])};kt.prototype.getSQL=function(){return new Ge([this])};lv.prototype.getSQL=function(){return new Ge([this])};function SH(e){return e[kt.Symbol.Columns]}function _H(e){return e[hi].selectedFields}function nt(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var xx,Ex;class nu extends(Ex=pe,xx=z,Ex){generatedAlwaysAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}O(nu,xx,"PgIntColumnBaseBuilder");var Sx,_x;class _A extends(_x=nu,Sx=z,_x){constructor(t){super(t,"number","PgBigInt53")}build(t){return new CA(t,this.config)}}O(_A,Sx,"PgBigInt53Builder");var Cx,Nx;class CA extends(Nx=ie,Cx=z,Nx){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}O(CA,Cx,"PgBigInt53");var Tx,kx;class NA extends(kx=nu,Tx=z,kx){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new TA(t,this.config)}}O(NA,Tx,"PgBigInt64Builder");var Px,Rx;class TA extends(Rx=ie,Px=z,Rx){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}O(TA,Px,"PgBigInt64");function CH(e,t){const{name:n,config:r}=nt(e,t);return r.mode==="number"?new _A(n):new NA(n)}var Ax,Ox;class kA extends(Ox=pe,Ax=z,Ox){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new PA(t,this.config)}}O(kA,Ax,"PgBigSerial53Builder");var Ix,Mx;class PA extends(Mx=ie,Ix=z,Mx){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}O(PA,Ix,"PgBigSerial53");var $x,Dx;class RA extends(Dx=pe,$x=z,Dx){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new AA(t,this.config)}}O(RA,$x,"PgBigSerial64Builder");var jx,Lx;class AA extends(Lx=ie,jx=z,Lx){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}O(AA,jx,"PgBigSerial64");function NH(e,t){const{name:n,config:r}=nt(e,t);return r.mode==="number"?new kA(n):new RA(n)}var Fx,Bx;class OA extends(Bx=pe,Fx=z,Bx){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new IA(t,this.config)}}O(OA,Fx,"PgBooleanBuilder");var Ux,zx;class IA extends(zx=ie,Ux=z,zx){getSQLType(){return"boolean"}}O(IA,Ux,"PgBoolean");function TH(e){return new OA(e??"")}var Vx,Wx;class MA extends(Wx=pe,Vx=z,Wx){constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new $A(t,this.config)}}O(MA,Vx,"PgCharBuilder");var Hx,qx;class $A extends(qx=ie,Hx=z,qx){constructor(){super(...arguments);O(this,"length",this.config.length);O(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}O($A,Hx,"PgChar");function kH(e,t={}){const{name:n,config:r}=nt(e,t);return new MA(n,r)}var Kx,Zx;class DA extends(Zx=pe,Kx=z,Zx){constructor(t){super(t,"string","PgCidr")}build(t){return new jA(t,this.config)}}O(DA,Kx,"PgCidrBuilder");var Gx,Qx;class jA extends(Qx=ie,Gx=z,Qx){getSQLType(){return"cidr"}}O(jA,Gx,"PgCidr");function PH(e){return new DA(e??"")}var Yx,Xx;class LA extends(Xx=pe,Yx=z,Xx){constructor(t,n,r){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(t){return new FA(t,this.config)}}O(LA,Yx,"PgCustomColumnBuilder");var Jx,e1;class FA extends(e1=ie,Jx=z,e1){constructor(n,r){super(n,r);O(this,"sqlName");O(this,"mapTo");O(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}O(FA,Jx,"PgCustomColumn");function RH(e){return(t,n)=>{const{name:r,config:o}=nt(t,n);return new LA(r,o,e)}}var t1,n1;class ia extends(n1=pe,t1=z,n1){defaultNow(){return this.default(rd`now()`)}}O(ia,t1,"PgDateColumnBaseBuilder");var r1,o1;class BA extends(o1=ia,r1=z,o1){constructor(t){super(t,"date","PgDate")}build(t){return new UA(t,this.config)}}O(BA,r1,"PgDateBuilder");var s1,i1;class UA extends(i1=ie,s1=z,i1){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}O(UA,s1,"PgDate");var a1,l1;class zA extends(l1=ia,a1=z,l1){constructor(t){super(t,"string","PgDateString")}build(t){return new VA(t,this.config)}}O(zA,a1,"PgDateStringBuilder");var u1,c1;class VA extends(c1=ie,u1=z,c1){getSQLType(){return"date"}}O(VA,u1,"PgDateString");function AH(e,t){const{name:n,config:r}=nt(e,t);return(r==null?void 0:r.mode)==="date"?new BA(n):new zA(n)}var d1,f1;class WA extends(f1=pe,d1=z,f1){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new HA(t,this.config)}}O(WA,d1,"PgDoublePrecisionBuilder");var h1,p1;class HA extends(p1=ie,h1=z,p1){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}O(HA,h1,"PgDoublePrecision");function OH(e){return new WA(e??"")}var m1,g1;class qA extends(g1=pe,m1=z,g1){constructor(t){super(t,"string","PgInet")}build(t){return new KA(t,this.config)}}O(qA,m1,"PgInetBuilder");var y1,v1;class KA extends(v1=ie,y1=z,v1){getSQLType(){return"inet"}}O(KA,y1,"PgInet");function IH(e){return new qA(e??"")}var w1,b1;class ZA extends(b1=nu,w1=z,b1){constructor(t){super(t,"number","PgInteger")}build(t){return new GA(t,this.config)}}O(ZA,w1,"PgIntegerBuilder");var x1,E1;class GA extends(E1=ie,x1=z,E1){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}O(GA,x1,"PgInteger");function QA(e){return new ZA(e??"")}var S1,_1;class YA extends(_1=pe,S1=z,_1){constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new XA(t,this.config)}}O(YA,S1,"PgIntervalBuilder");var C1,N1;class XA extends(N1=ie,C1=z,N1){constructor(){super(...arguments);O(this,"fields",this.config.intervalConfig.fields);O(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}O(XA,C1,"PgInterval");function MH(e,t={}){const{name:n,config:r}=nt(e,t);return new YA(n,r)}var T1,k1;class JA extends(k1=pe,T1=z,k1){constructor(t){super(t,"json","PgJson")}build(t){return new eO(t,this.config)}}O(JA,T1,"PgJsonBuilder");var P1,R1;class eO extends(R1=ie,P1=z,R1){constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}O(eO,P1,"PgJson");function cv(e){return new JA(e??"")}var A1,O1;class tO extends(O1=pe,A1=z,O1){constructor(t){super(t,"json","PgJsonb")}build(t){return new nO(t,this.config)}}O(tO,A1,"PgJsonbBuilder");var I1,M1;class nO extends(M1=ie,I1=z,M1){constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}O(nO,I1,"PgJsonb");function $H(e){return new tO(e??"")}var $1,D1;class rO extends(D1=pe,$1=z,D1){constructor(t){super(t,"array","PgLine")}build(t){return new oO(t,this.config)}}O(rO,$1,"PgLineBuilder");var j1,L1;class oO extends(L1=ie,j1=z,L1){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,o]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(o)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}O(oO,j1,"PgLine");var F1,B1;class sO extends(B1=pe,F1=z,B1){constructor(t){super(t,"json","PgLineABC")}build(t){return new iO(t,this.config)}}O(sO,F1,"PgLineABCBuilder");var U1,z1;class iO extends(z1=ie,U1=z,z1){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,o]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(o)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}O(iO,U1,"PgLineABC");function DH(e,t){const{name:n,config:r}=nt(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new rO(n):new sO(n)}var V1,W1;class aO extends(W1=pe,V1=z,W1){constructor(t){super(t,"string","PgMacaddr")}build(t){return new lO(t,this.config)}}O(aO,V1,"PgMacaddrBuilder");var H1,q1;class lO extends(q1=ie,H1=z,q1){getSQLType(){return"macaddr"}}O(lO,H1,"PgMacaddr");function jH(e){return new aO(e??"")}var K1,Z1;class uO extends(Z1=pe,K1=z,Z1){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new cO(t,this.config)}}O(uO,K1,"PgMacaddr8Builder");var G1,Q1;class cO extends(Q1=ie,G1=z,Q1){getSQLType(){return"macaddr8"}}O(cO,G1,"PgMacaddr8");function LH(e){return new uO(e??"")}var Y1,X1;class dO extends(X1=pe,Y1=z,X1){constructor(t,n,r){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(t){return new fO(t,this.config)}}O(dO,Y1,"PgNumericBuilder");var J1,eE;class fO extends(eE=ie,J1=z,eE){constructor(n,r){super(n,r);O(this,"precision");O(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}O(fO,J1,"PgNumeric");function FH(e,t){const{name:n,config:r}=nt(e,t);return new dO(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}var tE,nE;class hO extends(nE=pe,tE=z,nE){constructor(t){super(t,"array","PgPointTuple")}build(t){return new pO(t,this.config)}}O(hO,tE,"PgPointTupleBuilder");var rE,oE;class pO extends(oE=ie,rE=z,oE){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}O(pO,rE,"PgPointTuple");var sE,iE;class mO extends(iE=pe,sE=z,iE){constructor(t){super(t,"json","PgPointObject")}build(t){return new gO(t,this.config)}}O(mO,sE,"PgPointObjectBuilder");var aE,lE;class gO extends(lE=ie,aE=z,lE){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}O(gO,aE,"PgPointObject");function BH(e,t){const{name:n,config:r}=nt(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new hO(n):new mO(n)}function UH(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function Eb(e,t){const n=new ArrayBuffer(8),r=new DataView(n);for(let o=0;o<8;o++)r.setUint8(o,e[t+o]);return r.getFloat64(0,!0)}function yO(e){const t=UH(e);let n=0;const r=t[n];n+=1;const o=new DataView(t.buffer),s=o.getUint32(n,r===1);if(n+=4,s&536870912&&(o.getUint32(n,r===1),n+=4),(s&65535)===1){const i=Eb(t,n);n+=8;const a=Eb(t,n);return n+=8,[i,a]}throw new Error("Unsupported geometry type")}var uE,cE;class vO extends(cE=pe,uE=z,cE){constructor(t){super(t,"array","PgGeometry")}build(t){return new wO(t,this.config)}}O(vO,uE,"PgGeometryBuilder");var dE,fE;class wO extends(fE=ie,dE=z,fE){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return yO(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}O(wO,dE,"PgGeometry");var hE,pE;class bO extends(pE=pe,hE=z,pE){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new xO(t,this.config)}}O(bO,hE,"PgGeometryObjectBuilder");var mE,gE;class xO extends(gE=ie,mE=z,gE){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=yO(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}O(xO,mE,"PgGeometryObject");function zH(e,t){const{name:n,config:r}=nt(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new vO(n):new bO(n)}var yE,vE;class EO extends(vE=pe,yE=z,vE){constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new SO(t,this.config)}}O(EO,yE,"PgRealBuilder");var wE,bE;class SO extends(bE=ie,wE=z,bE){constructor(n,r){super(n,r);O(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}O(SO,wE,"PgReal");function VH(e){return new EO(e??"")}var xE,EE;class _O extends(EE=pe,xE=z,EE){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new CO(t,this.config)}}O(_O,xE,"PgSerialBuilder");var SE,_E;class CO extends(_E=ie,SE=z,_E){getSQLType(){return"serial"}}O(CO,SE,"PgSerial");function dv(e){return new _O(e??"")}var CE,NE;class NO extends(NE=nu,CE=z,NE){constructor(t){super(t,"number","PgSmallInt")}build(t){return new TO(t,this.config)}}O(NO,CE,"PgSmallIntBuilder");var TE,kE;class TO extends(kE=ie,TE=z,kE){constructor(){super(...arguments);O(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}O(TO,TE,"PgSmallInt");function WH(e){return new NO(e??"")}var PE,RE;class kO extends(RE=pe,PE=z,RE){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new PO(t,this.config)}}O(kO,PE,"PgSmallSerialBuilder");var AE,OE;class PO extends(OE=ie,AE=z,OE){getSQLType(){return"smallserial"}}O(PO,AE,"PgSmallSerial");function HH(e){return new kO(e??"")}var IE,ME;class RO extends(ME=pe,IE=z,ME){constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new AO(t,this.config)}}O(RO,IE,"PgTextBuilder");var $E,DE;class AO extends(DE=ie,$E=z,DE){constructor(){super(...arguments);O(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}O(AO,$E,"PgText");function Dt(e,t={}){const{name:n,config:r}=nt(e,t);return new RO(n,r)}var jE,LE;class OO extends(LE=ia,jE=z,LE){constructor(t,n,r){super(t,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(t){return new IO(t,this.config)}}O(OO,jE,"PgTimeBuilder");var FE,BE;class IO extends(BE=ie,FE=z,BE){constructor(n,r){super(n,r);O(this,"withTimezone");O(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}O(IO,FE,"PgTime");function qH(e,t={}){const{name:n,config:r}=nt(e,t);return new OO(n,r.withTimezone??!1,r.precision)}var UE,zE;class MO extends(zE=ia,UE=z,zE){constructor(t,n,r){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(t){return new $O(t,this.config)}}O(MO,UE,"PgTimestampBuilder");var VE,WE;class $O extends(WE=ie,VE=z,WE){constructor(n,r){super(n,r);O(this,"withTimezone");O(this,"precision");O(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));O(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}O($O,VE,"PgTimestamp");var HE,qE;class DO extends(qE=ia,HE=z,qE){constructor(t,n,r){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(t){return new jO(t,this.config)}}O(DO,HE,"PgTimestampStringBuilder");var KE,ZE;class jO extends(ZE=ie,KE=z,ZE){constructor(n,r){super(n,r);O(this,"withTimezone");O(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}O(jO,KE,"PgTimestampString");function KH(e,t={}){const{name:n,config:r}=nt(e,t);return(r==null?void 0:r.mode)==="string"?new DO(n,r.withTimezone??!1,r.precision):new MO(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var GE,QE;class LO extends(QE=pe,GE=z,QE){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(rd`gen_random_uuid()`)}build(t){return new FO(t,this.config)}}O(LO,GE,"PgUUIDBuilder");var YE,XE;class FO extends(XE=ie,YE=z,XE){getSQLType(){return"uuid"}}O(FO,YE,"PgUUID");function ZH(e){return new LO(e??"")}var JE,eS;class BO extends(eS=pe,JE=z,eS){constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new UO(t,this.config)}}O(BO,JE,"PgVarcharBuilder");var tS,nS;class UO extends(nS=ie,tS=z,nS){constructor(){super(...arguments);O(this,"length",this.config.length);O(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}O(UO,tS,"PgVarchar");function GH(e,t={}){const{name:n,config:r}=nt(e,t);return new BO(n,r)}var rS,oS;class zO extends(oS=pe,rS=z,oS){constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new VO(t,this.config)}}O(zO,rS,"PgBinaryVectorBuilder");var sS,iS;class VO extends(iS=ie,sS=z,iS){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}O(VO,sS,"PgBinaryVector");function QH(e,t){const{name:n,config:r}=nt(e,t);return new zO(n,r)}var aS,lS;class WO extends(lS=pe,aS=z,lS){constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new HO(t,this.config)}}O(WO,aS,"PgHalfVectorBuilder");var uS,cS;class HO extends(cS=ie,uS=z,cS){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}O(HO,uS,"PgHalfVector");function YH(e,t){const{name:n,config:r}=nt(e,t);return new WO(n,r)}var dS,fS;class qO extends(fS=pe,dS=z,fS){constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new KO(t,this.config)}}O(qO,dS,"PgSparseVectorBuilder");var hS,pS;class KO extends(pS=ie,hS=z,pS){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}O(KO,hS,"PgSparseVector");function XH(e,t){const{name:n,config:r}=nt(e,t);return new qO(n,r)}var mS,gS;class ZO extends(gS=pe,mS=z,gS){constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new GO(t,this.config)}}O(ZO,mS,"PgVectorBuilder");var yS,vS;class GO extends(vS=ie,yS=z,vS){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}O(GO,yS,"PgVector");function JH(e,t){const{name:n,config:r}=nt(e,t);return new ZO(n,r)}function eq(){return{bigint:CH,bigserial:NH,boolean:TH,char:kH,cidr:PH,customType:RH,date:AH,doublePrecision:OH,inet:IH,integer:QA,interval:MH,json:cv,jsonb:$H,line:DH,macaddr:jH,macaddr8:LH,numeric:FH,point:BH,geometry:zH,real:VH,serial:dv,smallint:WH,smallserial:HH,text:Dt,time:qH,timestamp:KH,uuid:ZH,varchar:GH,bit:QH,halfvec:YH,sparsevec:XH,vector:JH}}const Tm=Symbol.for("drizzle:PgInlineForeignKeys"),Sb=Symbol.for("drizzle:EnableRLS");var wS,bS,xS,ES,SS;class sd extends(SS=kt,ES=z,xS=Tm,bS=Sb,wS=kt.Symbol.ExtraConfigBuilder,SS){constructor(){super(...arguments);O(this,xS,[]);O(this,bS,!1);O(this,wS)}}O(sd,ES,"PgTable"),O(sd,"Symbol",Object.assign({},kt.Symbol,{InlineForeignKeys:Tm,EnableRLS:Sb}));function tq(e,t,n,r,o=e){const s=new sd(e,r,o),i=typeof t=="function"?t(eq()):t,a=Object.fromEntries(Object.entries(i).map(([c,d])=>{const h=d;h.setName(c);const m=h.build(s);return s[Tm].push(...h.buildForeignKeys(m,s)),[c,m]})),l=Object.fromEntries(Object.entries(i).map(([c,d])=>{const h=d;h.setName(c);const m=h.buildExtraConfigColumn(s);return[c,m]})),u=Object.assign(s,a);return u[kt.Symbol.Columns]=a,u[kt.Symbol.ExtraConfigColumns]=l,Object.assign(u,{enableRLS:()=>(u[sd.Symbol.EnableRLS]=!0,u)})}const QO=(e,t,n)=>tq(e,t,n,void 0);var he;(function(e){e.assertEqual=o=>o;function t(o){}e.assertIs=t;function n(o){throw new Error}e.assertNever=n,e.arrayToEnum=o=>{const s={};for(const i of o)s[i]=i;return s},e.getValidEnumValues=o=>{const s=e.objectKeys(o).filter(a=>typeof o[o[a]]!="number"),i={};for(const a of s)i[a]=o[a];return e.objectValues(i)},e.objectValues=o=>e.objectKeys(o).map(function(s){return o[s]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const s=[];for(const i in o)Object.prototype.hasOwnProperty.call(o,i)&&s.push(i);return s},e.find=(o,s)=>{for(const i of o)if(s(i))return i},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function r(o,s=" | "){return o.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(o,s)=>typeof s=="bigint"?s.toString():s})(he||(he={}));var km;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(km||(km={}));const Z=he.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),no=e=>{switch(typeof e){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return isNaN(e)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":return Array.isArray(e)?Z.array:e===null?Z.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Z.promise:typeof Map<"u"&&e instanceof Map?Z.map:typeof Set<"u"&&e instanceof Set?Z.set:typeof Date<"u"&&e instanceof Date?Z.date:Z.object;default:return Z.unknown}},H=he.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),nq=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Yt extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(s){return s.message},r={_errors:[]},o=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(o);else if(i.code==="invalid_return_type")o(i.returnTypeError);else if(i.code==="invalid_arguments")o(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let a=r,l=0;for(;l<i.path.length;){const u=i.path[l];l===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(i))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return o(this),r}static assert(t){if(!(t instanceof Yt))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,he.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Yt.create=e=>new Yt(e);const Wi=(e,t)=>{let n;switch(e.code){case H.invalid_type:e.received===Z.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case H.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,he.jsonStringifyReplacer)}`;break;case H.unrecognized_keys:n=`Unrecognized key(s) in object: ${he.joinValues(e.keys,", ")}`;break;case H.invalid_union:n="Invalid input";break;case H.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${he.joinValues(e.options)}`;break;case H.invalid_enum_value:n=`Invalid enum value. Expected ${he.joinValues(e.options)}, received '${e.received}'`;break;case H.invalid_arguments:n="Invalid function arguments";break;case H.invalid_return_type:n="Invalid function return type";break;case H.invalid_date:n="Invalid date";break;case H.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:he.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case H.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case H.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case H.custom:n="Invalid input";break;case H.invalid_intersection_types:n="Intersection results could not be merged";break;case H.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case H.not_finite:n="Number must be finite";break;default:n=t.defaultError,he.assertNever(e)}return{message:n}};let YO=Wi;function rq(e){YO=e}function id(){return YO}const ad=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,s=[...n,...o.path||[]],i={...o,path:s};if(o.message!==void 0)return{...o,path:s,message:o.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(i,{data:t,defaultError:a}).message;return{...o,path:s,message:a}},oq=[];function K(e,t){const n=id(),r=ad({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Wi?void 0:Wi].filter(o=>!!o)});e.common.issues.push(r)}class St{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const o of n){if(o.status==="aborted")return te;o.status==="dirty"&&t.dirty(),r.push(o.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const o of n){const s=await o.key,i=await o.value;r.push({key:s,value:i})}return St.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const o of n){const{key:s,value:i}=o;if(s.status==="aborted"||i.status==="aborted")return te;s.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||o.alwaysSet)&&(r[s.value]=i.value)}return{status:t.value,value:r}}}const te=Object.freeze({status:"aborted"}),Xs=e=>({status:"dirty",value:e}),Rt=e=>({status:"valid",value:e}),Pm=e=>e.status==="aborted",Rm=e=>e.status==="dirty",vl=e=>e.status==="valid",wl=e=>typeof Promise<"u"&&e instanceof Promise;function ld(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function XO(e,t,n,r,o){if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var X;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(X||(X={}));var Ra,Aa;class er{constructor(t,n,r,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _b=(e,t)=>{if(vl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Yt(e.common.issues);return this._error=n,this._error}}};function se(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(i,a)=>{var l,u;const{message:c}=e;return i.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:(l=c??r)!==null&&l!==void 0?l:a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:(u=c??n)!==null&&u!==void 0?u:a.defaultError}},description:o}}class ue{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return no(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:no(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new St,ctx:{common:t.parent.common,data:t.data,parsedType:no(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(wl(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const o={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:no(t)},s=this._parseSync({data:t,path:o.path,parent:o});return _b(o,s)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:no(t)},o=this._parse({data:t,path:r.path,parent:r}),s=await(wl(o)?o:Promise.resolve(o));return _b(r,s)}refine(t,n){const r=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,s)=>{const i=t(o),a=()=>s.addIssue({code:H.custom,...r(o)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,o)=>t(r)?!0:(o.addIssue(typeof n=="function"?n(r,o):n),!1))}_refinement(t){return new An({schema:this,typeName:ee.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Qn.create(this,this._def)}nullable(){return Do.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Nn.create(this,this._def)}promise(){return qi.create(this,this._def)}or(t){return Sl.create([this,t],this._def)}and(t){return _l.create(this,t,this._def)}transform(t){return new An({...se(this._def),schema:this,typeName:ee.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Pl({...se(this._def),innerType:this,defaultValue:n,typeName:ee.ZodDefault})}brand(){return new fv({typeName:ee.ZodBranded,type:this,...se(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Rl({...se(this._def),innerType:this,catchValue:n,typeName:ee.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return ru.create(this,t)}readonly(){return Al.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const sq=/^c[^\s-]{8,}$/i,iq=/^[0-9a-z]+$/,aq=/^[0-9A-HJKMNP-TV-Z]{26}$/,lq=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,uq=/^[a-z0-9_-]{21}$/i,cq=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,dq=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,fq="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let zh;const hq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pq=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,mq=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,JO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",gq=new RegExp(`^${JO}$`);function eI(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function yq(e){return new RegExp(`^${eI(e)}$`)}function tI(e){let t=`${JO}T${eI(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function vq(e,t){return!!((t==="v4"||!t)&&hq.test(e)||(t==="v6"||!t)&&pq.test(e))}class Sn extends ue{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Z.string){const s=this._getOrReturnCtx(t);return K(s,{code:H.invalid_type,expected:Z.string,received:s.parsedType}),te}const r=new St;let o;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(o=this._getOrReturnCtx(t,o),K(o,{code:H.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(o=this._getOrReturnCtx(t,o),K(o,{code:H.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const i=t.data.length>s.value,a=t.data.length<s.value;(i||a)&&(o=this._getOrReturnCtx(t,o),i?K(o,{code:H.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&K(o,{code:H.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")dq.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"email",code:H.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")zh||(zh=new RegExp(fq,"u")),zh.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"emoji",code:H.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")lq.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"uuid",code:H.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")uq.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"nanoid",code:H.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")sq.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"cuid",code:H.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")iq.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"cuid2",code:H.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")aq.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"ulid",code:H.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),K(o,{validation:"url",code:H.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"regex",code:H.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(o=this._getOrReturnCtx(t,o),K(o,{code:H.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(o=this._getOrReturnCtx(t,o),K(o,{code:H.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(o=this._getOrReturnCtx(t,o),K(o,{code:H.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?tI(s).test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{code:H.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?gq.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{code:H.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?yq(s).test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{code:H.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?cq.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"duration",code:H.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?vq(t.data,s.version)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"ip",code:H.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?mq.test(t.data)||(o=this._getOrReturnCtx(t,o),K(o,{validation:"base64",code:H.invalid_string,message:s.message}),r.dirty()):he.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(o=>t.test(o),{validation:n,code:H.invalid_string,...X.errToObj(r)})}_addCheck(t){return new Sn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...X.errToObj(t)})}url(t){return this._addCheck({kind:"url",...X.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...X.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...X.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...X.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...X.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...X.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...X.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...X.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...X.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...X.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...X.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...X.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...X.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...X.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...X.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...X.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...X.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...X.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...X.errToObj(n)})}nonempty(t){return this.min(1,X.errToObj(t))}trim(){return new Sn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Sn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Sn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Sn.create=e=>{var t;return new Sn({checks:[],typeName:ee.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...se(e)})};function wq(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r,s=parseInt(e.toFixed(o).replace(".","")),i=parseInt(t.toFixed(o).replace(".",""));return s%i/Math.pow(10,o)}class Io extends ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Z.number){const s=this._getOrReturnCtx(t);return K(s,{code:H.invalid_type,expected:Z.number,received:s.parsedType}),te}let r;const o=new St;for(const s of this._def.checks)s.kind==="int"?he.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),K(r,{code:H.invalid_type,expected:"integer",received:"float",message:s.message}),o.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),K(r,{code:H.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),K(r,{code:H.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="multipleOf"?wq(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),K(r,{code:H.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),K(r,{code:H.not_finite,message:s.message}),o.dirty()):he.assertNever(s);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,X.toString(n))}gt(t,n){return this.setLimit("min",t,!1,X.toString(n))}lte(t,n){return this.setLimit("max",t,!0,X.toString(n))}lt(t,n){return this.setLimit("max",t,!1,X.toString(n))}setLimit(t,n,r,o){return new Io({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:X.toString(o)}]})}_addCheck(t){return new Io({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:X.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:X.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:X.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:X.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:X.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:X.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:X.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:X.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:X.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&he.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Io.create=e=>new Io({checks:[],typeName:ee.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...se(e)});class Mo extends ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Z.bigint){const s=this._getOrReturnCtx(t);return K(s,{code:H.invalid_type,expected:Z.bigint,received:s.parsedType}),te}let r;const o=new St;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),K(r,{code:H.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),K(r,{code:H.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),K(r,{code:H.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):he.assertNever(s);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,X.toString(n))}gt(t,n){return this.setLimit("min",t,!1,X.toString(n))}lte(t,n){return this.setLimit("max",t,!0,X.toString(n))}lt(t,n){return this.setLimit("max",t,!1,X.toString(n))}setLimit(t,n,r,o){return new Mo({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:X.toString(o)}]})}_addCheck(t){return new Mo({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:X.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:X.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:X.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:X.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:X.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Mo.create=e=>{var t;return new Mo({checks:[],typeName:ee.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...se(e)})};class bl extends ue{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Z.boolean){const r=this._getOrReturnCtx(t);return K(r,{code:H.invalid_type,expected:Z.boolean,received:r.parsedType}),te}return Rt(t.data)}}bl.create=e=>new bl({typeName:ee.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...se(e)});class Es extends ue{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Z.date){const s=this._getOrReturnCtx(t);return K(s,{code:H.invalid_type,expected:Z.date,received:s.parsedType}),te}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return K(s,{code:H.invalid_date}),te}const r=new St;let o;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(o=this._getOrReturnCtx(t,o),K(o,{code:H.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(o=this._getOrReturnCtx(t,o),K(o,{code:H.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):he.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Es({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:X.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:X.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Es.create=e=>new Es({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ee.ZodDate,...se(e)});class ud extends ue{_parse(t){if(this._getType(t)!==Z.symbol){const r=this._getOrReturnCtx(t);return K(r,{code:H.invalid_type,expected:Z.symbol,received:r.parsedType}),te}return Rt(t.data)}}ud.create=e=>new ud({typeName:ee.ZodSymbol,...se(e)});class xl extends ue{_parse(t){if(this._getType(t)!==Z.undefined){const r=this._getOrReturnCtx(t);return K(r,{code:H.invalid_type,expected:Z.undefined,received:r.parsedType}),te}return Rt(t.data)}}xl.create=e=>new xl({typeName:ee.ZodUndefined,...se(e)});class El extends ue{_parse(t){if(this._getType(t)!==Z.null){const r=this._getOrReturnCtx(t);return K(r,{code:H.invalid_type,expected:Z.null,received:r.parsedType}),te}return Rt(t.data)}}El.create=e=>new El({typeName:ee.ZodNull,...se(e)});class Hi extends ue{constructor(){super(...arguments),this._any=!0}_parse(t){return Rt(t.data)}}Hi.create=e=>new Hi({typeName:ee.ZodAny,...se(e)});class ls extends ue{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Rt(t.data)}}ls.create=e=>new ls({typeName:ee.ZodUnknown,...se(e)});class Pr extends ue{_parse(t){const n=this._getOrReturnCtx(t);return K(n,{code:H.invalid_type,expected:Z.never,received:n.parsedType}),te}}Pr.create=e=>new Pr({typeName:ee.ZodNever,...se(e)});class cd extends ue{_parse(t){if(this._getType(t)!==Z.undefined){const r=this._getOrReturnCtx(t);return K(r,{code:H.invalid_type,expected:Z.void,received:r.parsedType}),te}return Rt(t.data)}}cd.create=e=>new cd({typeName:ee.ZodVoid,...se(e)});class Nn extends ue{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),o=this._def;if(n.parsedType!==Z.array)return K(n,{code:H.invalid_type,expected:Z.array,received:n.parsedType}),te;if(o.exactLength!==null){const i=n.data.length>o.exactLength.value,a=n.data.length<o.exactLength.value;(i||a)&&(K(n,{code:i?H.too_big:H.too_small,minimum:a?o.exactLength.value:void 0,maximum:i?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(K(n,{code:H.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(K(n,{code:H.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,a)=>o.type._parseAsync(new er(n,i,n.path,a)))).then(i=>St.mergeArray(r,i));const s=[...n.data].map((i,a)=>o.type._parseSync(new er(n,i,n.path,a)));return St.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new Nn({...this._def,minLength:{value:t,message:X.toString(n)}})}max(t,n){return new Nn({...this._def,maxLength:{value:t,message:X.toString(n)}})}length(t,n){return new Nn({...this._def,exactLength:{value:t,message:X.toString(n)}})}nonempty(t){return this.min(1,t)}}Nn.create=(e,t)=>new Nn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ee.ZodArray,...se(t)});function Ls(e){if(e instanceof Pe){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Qn.create(Ls(r))}return new Pe({...e._def,shape:()=>t})}else return e instanceof Nn?new Nn({...e._def,type:Ls(e.element)}):e instanceof Qn?Qn.create(Ls(e.unwrap())):e instanceof Do?Do.create(Ls(e.unwrap())):e instanceof tr?tr.create(e.items.map(t=>Ls(t))):e}class Pe extends ue{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=he.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Z.object){const u=this._getOrReturnCtx(t);return K(u,{code:H.invalid_type,expected:Z.object,received:u.parsedType}),te}const{status:r,ctx:o}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof Pr&&this._def.unknownKeys==="strip"))for(const u in o.data)i.includes(u)||a.push(u);const l=[];for(const u of i){const c=s[u],d=o.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new er(o,d,o.path,u)),alwaysSet:u in o.data})}if(this._def.catchall instanceof Pr){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:o.data[c]}});else if(u==="strict")a.length>0&&(K(o,{code:H.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const d=o.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new er(o,d,o.path,c)),alwaysSet:c in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,h=await c.value;u.push({key:d,value:h,alwaysSet:c.alwaysSet})}return u}).then(u=>St.mergeObjectSync(r,u)):St.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return X.errToObj,new Pe({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var o,s,i,a;const l=(i=(s=(o=this._def).errorMap)===null||s===void 0?void 0:s.call(o,n,r).message)!==null&&i!==void 0?i:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=X.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Pe({...this._def,unknownKeys:"strip"})}passthrough(){return new Pe({...this._def,unknownKeys:"passthrough"})}extend(t){return new Pe({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Pe({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ee.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Pe({...this._def,catchall:t})}pick(t){const n={};return he.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Pe({...this._def,shape:()=>n})}omit(t){const n={};return he.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Pe({...this._def,shape:()=>n})}deepPartial(){return Ls(this)}partial(t){const n={};return he.objectKeys(this.shape).forEach(r=>{const o=this.shape[r];t&&!t[r]?n[r]=o:n[r]=o.optional()}),new Pe({...this._def,shape:()=>n})}required(t){const n={};return he.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Qn;)s=s._def.innerType;n[r]=s}}),new Pe({...this._def,shape:()=>n})}keyof(){return nI(he.objectKeys(this.shape))}}Pe.create=(e,t)=>new Pe({shape:()=>e,unknownKeys:"strip",catchall:Pr.create(),typeName:ee.ZodObject,...se(t)});Pe.strictCreate=(e,t)=>new Pe({shape:()=>e,unknownKeys:"strict",catchall:Pr.create(),typeName:ee.ZodObject,...se(t)});Pe.lazycreate=(e,t)=>new Pe({shape:e,unknownKeys:"strip",catchall:Pr.create(),typeName:ee.ZodObject,...se(t)});class Sl extends ue{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function o(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const i=s.map(a=>new Yt(a.ctx.common.issues));return K(n,{code:H.invalid_union,unionErrors:i}),te}if(n.common.async)return Promise.all(r.map(async s=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(o);{let s;const i=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=i.map(l=>new Yt(l));return K(n,{code:H.invalid_union,unionErrors:a}),te}}get options(){return this._def.options}}Sl.create=(e,t)=>new Sl({options:e,typeName:ee.ZodUnion,...se(t)});const lr=e=>e instanceof Nl?lr(e.schema):e instanceof An?lr(e.innerType()):e instanceof Tl?[e.value]:e instanceof $o?e.options:e instanceof kl?he.objectValues(e.enum):e instanceof Pl?lr(e._def.innerType):e instanceof xl?[void 0]:e instanceof El?[null]:e instanceof Qn?[void 0,...lr(e.unwrap())]:e instanceof Do?[null,...lr(e.unwrap())]:e instanceof fv||e instanceof Al?lr(e.unwrap()):e instanceof Rl?lr(e._def.innerType):[];class yf extends ue{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Z.object)return K(n,{code:H.invalid_type,expected:Z.object,received:n.parsedType}),te;const r=this.discriminator,o=n.data[r],s=this.optionsMap.get(o);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(K(n,{code:H.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),te)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const o=new Map;for(const s of n){const i=lr(s.shape[t]);if(!i.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of i){if(o.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);o.set(a,s)}}return new yf({typeName:ee.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:o,...se(r)})}}function Am(e,t){const n=no(e),r=no(t);if(e===t)return{valid:!0,data:e};if(n===Z.object&&r===Z.object){const o=he.objectKeys(t),s=he.objectKeys(e).filter(a=>o.indexOf(a)!==-1),i={...e,...t};for(const a of s){const l=Am(e[a],t[a]);if(!l.valid)return{valid:!1};i[a]=l.data}return{valid:!0,data:i}}else if(n===Z.array&&r===Z.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let s=0;s<e.length;s++){const i=e[s],a=t[s],l=Am(i,a);if(!l.valid)return{valid:!1};o.push(l.data)}return{valid:!0,data:o}}else return n===Z.date&&r===Z.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class _l extends ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),o=(s,i)=>{if(Pm(s)||Pm(i))return te;const a=Am(s.value,i.value);return a.valid?((Rm(s)||Rm(i))&&n.dirty(),{status:n.value,value:a.data}):(K(r,{code:H.invalid_intersection_types}),te)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,i])=>o(s,i)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}_l.create=(e,t,n)=>new _l({left:e,right:t,typeName:ee.ZodIntersection,...se(n)});class tr extends ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Z.array)return K(r,{code:H.invalid_type,expected:Z.array,received:r.parsedType}),te;if(r.data.length<this._def.items.length)return K(r,{code:H.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),te;!this._def.rest&&r.data.length>this._def.items.length&&(K(r,{code:H.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((i,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new er(r,i,r.path,a)):null}).filter(i=>!!i);return r.common.async?Promise.all(s).then(i=>St.mergeArray(n,i)):St.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new tr({...this._def,rest:t})}}tr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new tr({items:e,typeName:ee.ZodTuple,rest:null,...se(t)})};class Cl extends ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Z.object)return K(r,{code:H.invalid_type,expected:Z.object,received:r.parsedType}),te;const o=[],s=this._def.keyType,i=this._def.valueType;for(const a in r.data)o.push({key:s._parse(new er(r,a,r.path,a)),value:i._parse(new er(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?St.mergeObjectAsync(n,o):St.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof ue?new Cl({keyType:t,valueType:n,typeName:ee.ZodRecord,...se(r)}):new Cl({keyType:Sn.create(),valueType:t,typeName:ee.ZodRecord,...se(n)})}}class dd extends ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Z.map)return K(r,{code:H.invalid_type,expected:Z.map,received:r.parsedType}),te;const o=this._def.keyType,s=this._def.valueType,i=[...r.data.entries()].map(([a,l],u)=>({key:o._parse(new er(r,a,r.path,[u,"key"])),value:s._parse(new er(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of i){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return te;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of i){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return te;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}}}}dd.create=(e,t,n)=>new dd({valueType:t,keyType:e,typeName:ee.ZodMap,...se(n)});class Ss extends ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Z.set)return K(r,{code:H.invalid_type,expected:Z.set,received:r.parsedType}),te;const o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(K(r,{code:H.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(K(r,{code:H.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const s=this._def.valueType;function i(l){const u=new Set;for(const c of l){if(c.status==="aborted")return te;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>s._parse(new er(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>i(l)):i(a)}min(t,n){return new Ss({...this._def,minSize:{value:t,message:X.toString(n)}})}max(t,n){return new Ss({...this._def,maxSize:{value:t,message:X.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Ss.create=(e,t)=>new Ss({valueType:e,minSize:null,maxSize:null,typeName:ee.ZodSet,...se(t)});class pi extends ue{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Z.function)return K(n,{code:H.invalid_type,expected:Z.function,received:n.parsedType}),te;function r(a,l){return ad({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,id(),Wi].filter(u=>!!u),issueData:{code:H.invalid_arguments,argumentsError:l}})}function o(a,l){return ad({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,id(),Wi].filter(u=>!!u),issueData:{code:H.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},i=n.data;if(this._def.returns instanceof qi){const a=this;return Rt(async function(...l){const u=new Yt([]),c=await a._def.args.parseAsync(l,s).catch(m=>{throw u.addIssue(r(l,m)),u}),d=await Reflect.apply(i,this,c);return await a._def.returns._def.type.parseAsync(d,s).catch(m=>{throw u.addIssue(o(d,m)),u})})}else{const a=this;return Rt(function(...l){const u=a._def.args.safeParse(l,s);if(!u.success)throw new Yt([r(l,u.error)]);const c=Reflect.apply(i,this,u.data),d=a._def.returns.safeParse(c,s);if(!d.success)throw new Yt([o(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new pi({...this._def,args:tr.create(t).rest(ls.create())})}returns(t){return new pi({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new pi({args:t||tr.create([]).rest(ls.create()),returns:n||ls.create(),typeName:ee.ZodFunction,...se(r)})}}class Nl extends ue{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Nl.create=(e,t)=>new Nl({getter:e,typeName:ee.ZodLazy,...se(t)});class Tl extends ue{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return K(n,{received:n.data,code:H.invalid_literal,expected:this._def.value}),te}return{status:"valid",value:t.data}}get value(){return this._def.value}}Tl.create=(e,t)=>new Tl({value:e,typeName:ee.ZodLiteral,...se(t)});function nI(e,t){return new $o({values:e,typeName:ee.ZodEnum,...se(t)})}class $o extends ue{constructor(){super(...arguments),Ra.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return K(n,{expected:he.joinValues(r),received:n.parsedType,code:H.invalid_type}),te}if(ld(this,Ra)||XO(this,Ra,new Set(this._def.values)),!ld(this,Ra).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return K(n,{received:n.data,code:H.invalid_enum_value,options:r}),te}return Rt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return $o.create(t,{...this._def,...n})}exclude(t,n=this._def){return $o.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Ra=new WeakMap;$o.create=nI;class kl extends ue{constructor(){super(...arguments),Aa.set(this,void 0)}_parse(t){const n=he.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Z.string&&r.parsedType!==Z.number){const o=he.objectValues(n);return K(r,{expected:he.joinValues(o),received:r.parsedType,code:H.invalid_type}),te}if(ld(this,Aa)||XO(this,Aa,new Set(he.getValidEnumValues(this._def.values))),!ld(this,Aa).has(t.data)){const o=he.objectValues(n);return K(r,{received:r.data,code:H.invalid_enum_value,options:o}),te}return Rt(t.data)}get enum(){return this._def.values}}Aa=new WeakMap;kl.create=(e,t)=>new kl({values:e,typeName:ee.ZodNativeEnum,...se(t)});class qi extends ue{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Z.promise&&n.common.async===!1)return K(n,{code:H.invalid_type,expected:Z.promise,received:n.parsedType}),te;const r=n.parsedType===Z.promise?n.data:Promise.resolve(n.data);return Rt(r.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}qi.create=(e,t)=>new qi({type:e,typeName:ee.ZodPromise,...se(t)});class An extends ue{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),o=this._def.effect||null,s={addIssue:i=>{K(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),o.type==="preprocess"){const i=o.transform(r.data,s);if(r.common.async)return Promise.resolve(i).then(async a=>{if(n.value==="aborted")return te;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?te:l.status==="dirty"||n.value==="dirty"?Xs(l.value):l});{if(n.value==="aborted")return te;const a=this._def.schema._parseSync({data:i,path:r.path,parent:r});return a.status==="aborted"?te:a.status==="dirty"||n.value==="dirty"?Xs(a.value):a}}if(o.type==="refinement"){const i=a=>{const l=o.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?te:(a.status==="dirty"&&n.dirty(),i(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?te:(a.status==="dirty"&&n.dirty(),i(a.value).then(()=>({status:n.value,value:a.value}))))}if(o.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!vl(i))return i;const a=o.transform(i.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>vl(i)?Promise.resolve(o.transform(i.value,s)).then(a=>({status:n.value,value:a})):i);he.assertNever(o)}}An.create=(e,t,n)=>new An({schema:e,typeName:ee.ZodEffects,effect:t,...se(n)});An.createWithPreprocess=(e,t,n)=>new An({schema:t,effect:{type:"preprocess",transform:e},typeName:ee.ZodEffects,...se(n)});class Qn extends ue{_parse(t){return this._getType(t)===Z.undefined?Rt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Qn.create=(e,t)=>new Qn({innerType:e,typeName:ee.ZodOptional,...se(t)});class Do extends ue{_parse(t){return this._getType(t)===Z.null?Rt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Do.create=(e,t)=>new Do({innerType:e,typeName:ee.ZodNullable,...se(t)});class Pl extends ue{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Z.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Pl.create=(e,t)=>new Pl({innerType:e,typeName:ee.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...se(t)});class Rl extends ue{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return wl(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Yt(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Yt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Rl.create=(e,t)=>new Rl({innerType:e,typeName:ee.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...se(t)});class fd extends ue{_parse(t){if(this._getType(t)!==Z.nan){const r=this._getOrReturnCtx(t);return K(r,{code:H.invalid_type,expected:Z.nan,received:r.parsedType}),te}return{status:"valid",value:t.data}}}fd.create=e=>new fd({typeName:ee.ZodNaN,...se(e)});const bq=Symbol("zod_brand");class fv extends ue{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ru extends ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?te:s.status==="dirty"?(n.dirty(),Xs(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?te:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(t,n){return new ru({in:t,out:n,typeName:ee.ZodPipeline})}}class Al extends ue{_parse(t){const n=this._def.innerType._parse(t),r=o=>(vl(o)&&(o.value=Object.freeze(o.value)),o);return wl(n)?n.then(o=>r(o)):r(n)}unwrap(){return this._def.innerType}}Al.create=(e,t)=>new Al({innerType:e,typeName:ee.ZodReadonly,...se(t)});function rI(e,t={},n){return e?Hi.create().superRefine((r,o)=>{var s,i;if(!e(r)){const a=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,l=(i=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&i!==void 0?i:!0,u=typeof a=="string"?{message:a}:a;o.addIssue({code:"custom",...u,fatal:l})}}):Hi.create()}const xq={object:Pe.lazycreate};var ee;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ee||(ee={}));const Eq=(e,t={message:`Input not instance of ${e.name}`})=>rI(n=>n instanceof e,t),oI=Sn.create,sI=Io.create,Sq=fd.create,_q=Mo.create,iI=bl.create,Cq=Es.create,Nq=ud.create,Tq=xl.create,kq=El.create,Pq=Hi.create,Rq=ls.create,Aq=Pr.create,Oq=cd.create,Iq=Nn.create,Mq=Pe.create,$q=Pe.strictCreate,Dq=Sl.create,jq=yf.create,Lq=_l.create,Fq=tr.create,Bq=Cl.create,Uq=dd.create,zq=Ss.create,Vq=pi.create,Wq=Nl.create,Hq=Tl.create,qq=$o.create,Kq=kl.create,Zq=qi.create,Cb=An.create,Gq=Qn.create,Qq=Do.create,Yq=An.createWithPreprocess,Xq=ru.create,Jq=()=>oI().optional(),eK=()=>sI().optional(),tK=()=>iI().optional(),nK={string:e=>Sn.create({...e,coerce:!0}),number:e=>Io.create({...e,coerce:!0}),boolean:e=>bl.create({...e,coerce:!0}),bigint:e=>Mo.create({...e,coerce:!0}),date:e=>Es.create({...e,coerce:!0})},rK=te;var le=Object.freeze({__proto__:null,defaultErrorMap:Wi,setErrorMap:rq,getErrorMap:id,makeIssue:ad,EMPTY_PATH:oq,addIssueToContext:K,ParseStatus:St,INVALID:te,DIRTY:Xs,OK:Rt,isAborted:Pm,isDirty:Rm,isValid:vl,isAsync:wl,get util(){return he},get objectUtil(){return km},ZodParsedType:Z,getParsedType:no,ZodType:ue,datetimeRegex:tI,ZodString:Sn,ZodNumber:Io,ZodBigInt:Mo,ZodBoolean:bl,ZodDate:Es,ZodSymbol:ud,ZodUndefined:xl,ZodNull:El,ZodAny:Hi,ZodUnknown:ls,ZodNever:Pr,ZodVoid:cd,ZodArray:Nn,ZodObject:Pe,ZodUnion:Sl,ZodDiscriminatedUnion:yf,ZodIntersection:_l,ZodTuple:tr,ZodRecord:Cl,ZodMap:dd,ZodSet:Ss,ZodFunction:pi,ZodLazy:Nl,ZodLiteral:Tl,ZodEnum:$o,ZodNativeEnum:kl,ZodPromise:qi,ZodEffects:An,ZodTransformer:An,ZodOptional:Qn,ZodNullable:Do,ZodDefault:Pl,ZodCatch:Rl,ZodNaN:fd,BRAND:bq,ZodBranded:fv,ZodPipeline:ru,ZodReadonly:Al,custom:rI,Schema:ue,ZodSchema:ue,late:xq,get ZodFirstPartyTypeKind(){return ee},coerce:nK,any:Pq,array:Iq,bigint:_q,boolean:iI,date:Cq,discriminatedUnion:jq,effect:Cb,enum:qq,function:Vq,instanceof:Eq,intersection:Lq,lazy:Wq,literal:Hq,map:Uq,nan:Sq,nativeEnum:Kq,never:Aq,null:kq,nullable:Qq,number:sI,object:Mq,oboolean:tK,onumber:eK,optional:Gq,ostring:Jq,pipeline:Xq,preprocess:Yq,promise:Zq,record:Bq,set:zq,strictObject:$q,string:oI,symbol:Nq,transformer:Cb,tuple:Fq,undefined:Tq,union:Dq,unknown:Rq,void:Oq,NEVER:rK,ZodIssueCode:H,quotelessJson:nq,ZodError:Yt});const ke={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Fe(e,t){return t.includes(e.columnType)}function oK(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const sK=le.union([le.string(),le.number(),le.boolean(),le.null()]),iK=le.union([sK,le.record(le.any()),le.array(le.any())]),aK=le.custom(e=>e instanceof Buffer);function aI(e,t){const n=(t==null?void 0:t.zodInstance)??le,r=(t==null?void 0:t.coerce)??{};let o;return oK(e)&&(o=e.enumValues.length?n.enum(e.enumValues):n.string()),o||(Fe(e,["PgGeometry","PgPointTuple"])?o=n.tuple([n.number(),n.number()]):Fe(e,["PgGeometryObject","PgPointObject"])?o=n.object({x:n.number(),y:n.number()}):Fe(e,["PgHalfVector","PgVector"])?(o=n.array(n.number()),o=e.dimensions?o.length(e.dimensions):o):Fe(e,["PgLine"])?o=n.tuple([n.number(),n.number(),n.number()]):Fe(e,["PgLineABC"])?o=n.object({a:n.number(),b:n.number(),c:n.number()}):Fe(e,["PgArray"])?(o=n.array(aI(e.baseColumn,n)),o=e.size?o.length(e.size):o):e.dataType==="array"?o=n.array(n.any()):e.dataType==="number"?o=lK(e,n,r):e.dataType==="bigint"?o=uK(e,n,r):e.dataType==="boolean"?o=r===!0||r.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?o=r===!0||r.date?n.coerce.date():n.date():e.dataType==="string"?o=cK(e,n,r):e.dataType==="json"?o=iK:e.dataType==="custom"?o=n.any():e.dataType==="buffer"&&(o=aK)),o||(o=n.any()),o}function lK(e,t,n){let r=e.getSQLType().includes("unsigned"),o,s,i=!1;Fe(e,["MySqlTinyInt","SingleStoreTinyInt"])?(o=r?0:ke.INT8_MIN,s=r?ke.INT8_UNSIGNED_MAX:ke.INT8_MAX,i=!0):Fe(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(o=r?0:ke.INT16_MIN,s=r?ke.INT16_UNSIGNED_MAX:ke.INT16_MAX,i=!0):Fe(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(o=r?0:ke.INT24_MIN,s=r?ke.INT24_UNSIGNED_MAX:ke.INT24_MAX,i=Fe(e,["MySqlMediumInt","SingleStoreMediumInt"])):Fe(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(o=r?0:ke.INT32_MIN,s=r?ke.INT32_UNSIGNED_MAX:ke.INT32_MAX,i=!0):Fe(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(o=r?0:ke.INT48_MIN,s=r?ke.INT48_UNSIGNED_MAX:ke.INT48_MAX):Fe(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||Fe(e,["MySqlSerial","SingleStoreSerial"]),o=r?0:Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,i=!0):Fe(e,["MySqlYear","SingleStoreYear"])?(o=1901,s=2155,i=!0):(o=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER);let a=n===!0||n!=null&&n.number?t.coerce.number():t.number();return a=a.min(o).max(s),i?a.int():a}function uK(e,t,n){const r=e.getSQLType().includes("unsigned"),o=r?0n:ke.INT64_MIN,s=r?ke.INT64_UNSIGNED_MAX:ke.INT64_MAX;return(n===!0||n!=null&&n.bigint?t.coerce.bigint():t.bigint()).min(o).max(s)}function cK(e,t,n){if(Fe(e,["PgUUID"]))return t.string().uuid();let r,o,s=!1;Fe(e,["PgVarchar","SQLiteText"])?r=e.length:Fe(e,["MySqlVarChar","SingleStoreVarChar"])?r=e.length??ke.INT16_UNSIGNED_MAX:Fe(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?r=ke.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?r=ke.INT24_UNSIGNED_MAX:e.textType==="text"?r=ke.INT16_UNSIGNED_MAX:r=ke.INT8_UNSIGNED_MAX),Fe(e,["PgChar","MySqlChar","SingleStoreChar"])&&(r=e.length,s=!0),Fe(e,["PgBinaryVector"])&&(o=/^[01]+$/,r=e.dimensions);let i=n===!0||n!=null&&n.string?t.coerce.string():t.string();return i=o?i.regex(o):i,r&&s?i.length(r):r?i.max(r):i}function lI(e){return wA(e)?SH(e):_H(e)}function uI(e,t,n,r){const o={};for(const[s,i]of Object.entries(e)){if(!ot(i,Vi)&&!ot(i,Ge)&&!ot(i,Ge.Aliased)&&typeof i=="object"){const d=wA(i)||EH(i)?lI(i):i;o[s]=uI(d,t[s]??{},n,r);continue}const a=t[s];if(a!==void 0&&typeof a!="function"){o[s]=a;continue}const l=ot(i,Vi)?i:void 0,u=l?aI(l,r):le.any(),c=typeof a=="function"?a(u):u;n.never(l)||(o[s]=c,l&&(n.nullable(l)&&(o[s]=o[s].nullable()),n.optional(l)&&(o[s]=o[s].optional())))}return le.object(o)}const dK={never:e=>{var t,n;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((n=e==null?void 0:e.generatedIdentity)==null?void 0:n.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},cI=(e,t)=>{const n=lI(e);return uI(n,t??{},dK)},fK=QO("users",{id:dv("id").primaryKey(),username:Dt("username").notNull().unique(),password:Dt("password").notNull(),publicKey:Dt("public_key").notNull(),privateKey:Dt("private_key").notNull(),following:Dt("following").array().default([]).notNull(),relays:cv("relays").$type().default([]).notNull(),name:Dt("name"),about:Dt("about"),picture:Dt("picture")}),hK=QO("posts",{id:dv("id").primaryKey(),userId:QA("user_id").notNull(),content:Dt("content").notNull(),createdAt:Dt("created_at").notNull(),nostrEventId:Dt("nostr_event_id").notNull().unique(),pubkey:Dt("pubkey").notNull(),signature:Dt("signature").notNull(),metadata:cv("metadata").$type()});cI(fK,{username:le.string().min(3,"Username must be at least 3 characters"),password:le.string().min(6,"Password must be at least 6 characters"),publicKey:le.string(),privateKey:le.string(),relays:le.array(le.object({url:le.string().url("Invalid relay URL"),read:le.boolean(),write:le.boolean()})).default([]),name:le.string().optional(),about:le.string().optional(),picture:le.string().url("Invalid profile picture URL").optional()}).pick({username:!0,password:!0,publicKey:!0,privateKey:!0,relays:!0,name:!0,about:!0,picture:!0});cI(hK,{content:le.string(),nostrEventId:le.string(),pubkey:le.string(),signature:le.string(),metadata:le.object({tags:le.array(le.array(le.string())).optional(),relays:le.array(le.string()).optional()}).optional()}).pick({content:!0,nostrEventId:!0,pubkey:!0,signature:!0,metadata:!0});const pK=le.object({url:le.string().url("Invalid relay URL"),read:le.boolean(),write:le.boolean()}),mK=[{url:"wss://r.kojira.io",read:!0,write:!0},{url:"wss://x.kojira.io",read:!0,write:!0}];function gK({relays:e=mK,onSave:t,isSaving:n=!1}){const[r,o]=g.useState(e),[s,i]=g.useState(""),{toast:a}=Od(),l=()=>{try{const m=pK.parse({url:s,read:!0,write:!0});if(r.some(y=>y.url===s)){a({title:"",description:"",variant:"destructive"});return}o([...r,m]),i("")}catch{a({title:"",description:"URL",variant:"destructive"})}},u=m=>{o(r.filter(y=>y.url!==m))},c=m=>{o(r.map(y=>y.url===m?{...y,read:!y.read}:y))},d=m=>{o(r.map(y=>y.url===m?{...y,write:!y.write}:y))},h=async()=>{if(t)try{await t(r),a({title:"",description:""})}catch{a({title:"",description:"",variant:"destructive"})}};return b.jsxs(Yn,{children:[b.jsx(ko,{children:b.jsx(cl,{children:""})}),b.jsxs(Xn,{className:"space-y-4",children:[b.jsxs("div",{className:"flex gap-2",children:[b.jsx(yl,{placeholder:"wss://relay.example.com",value:s,onChange:m=>i(m.target.value)}),b.jsxs(lt,{onClick:l,children:[b.jsx(tj,{className:"h-4 w-4 mr-2"}),""]})]}),b.jsx("div",{className:"space-y-2",children:r.length===0?b.jsx("div",{className:"text-center text-muted-foreground py-4",children:""}):r.map(m=>b.jsxs("div",{className:"flex flex-col space-y-2 p-3 border rounded",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("div",{className:"font-medium break-all",children:m.url}),b.jsx(lt,{variant:"ghost",size:"icon",onClick:()=>u(m.url),children:b.jsx(sj,{className:"h-4 w-4 text-destructive"})})]}),b.jsxs("div",{className:"text-sm text-muted-foreground",children:[": ",m.read&&m.write?"":m.read?"":m.write?"":""]}),b.jsxs("div",{className:"flex flex-wrap gap-4 pt-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Cm,{checked:m.read,onCheckedChange:()=>c(m.url)}),b.jsx(di,{children:""})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Cm,{checked:m.write,onCheckedChange:()=>d(m.url)}),b.jsx(di,{children:""})]})]})]},m.url))}),t&&b.jsxs(lt,{onClick:h,disabled:n,className:"w-full",children:[n&&b.jsx(ms,{className:"mr-2 h-4 w-4 animate-spin"}),""]})]})]})}function yK(){var u;const{user:e}=Uo(),{getUserMetadata:t}=Xl(),[n,r]=g.useState(!1),[o,s]=g.useState(!1);if(!e)return null;const i=t(e.publicKey),a=e.publicKey.slice(0,8),l=async c=>{s(!0);try{await q3("POST","/api/relays",{relays:c}),cC.invalidateQueries({queryKey:["/api/user"]})}finally{s(!1)}};return n?b.jsx("div",{className:"space-y-6",children:b.jsx(lH,{onClose:()=>r(!1)})}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs(Yn,{children:[b.jsxs(ko,{className:"flex flex-row items-center gap-4",children:[b.jsx(ef,{className:"h-16 w-16",children:i!=null&&i.picture?b.jsx(tf,{src:i.picture,alt:i.name||a,onError:c=>{c.target.src=""}}):b.jsx(nf,{children:(((u=i==null?void 0:i.name)==null?void 0:u[0])||a.slice(0,2)).toUpperCase()})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("h2",{className:"text-xl font-bold",children:(i==null?void 0:i.name)||`nostr:${a}`})}),b.jsx("p",{className:"text-sm text-muted-foreground truncate",children:e.publicKey})]})]}),b.jsxs(Xn,{className:"space-y-4",children:[(i==null?void 0:i.about)&&b.jsx("p",{className:"text-sm text-muted-foreground",children:i.about}),e.type==="generated"&&b.jsxs(lt,{variant:"outline",className:"w-full",onClick:()=>r(!0),children:[b.jsx(oj,{className:"mr-2 h-4 w-4"}),""]}),e.type==="extension"&&b.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"NIP-07"})]})]}),b.jsx(gK,{relays:e.relays||[],onSave:l,isSaving:o})]})}function vK(){const{user:e,logout:t}=Uo();return e?b.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:b.jsxs("div",{className:"container mx-auto px-4 h-14 flex items-center justify-between",children:[b.jsx("h1",{className:"text-lg font-semibold sm:text-xl",children:"Nostr Client"}),b.jsxs(tH,{children:[b.jsx(nH,{asChild:!0,children:b.jsxs(lt,{variant:"ghost",size:"icon",className:"shrink-0",children:[b.jsx(XD,{className:"h-5 w-5"}),b.jsx("span",{className:"sr-only",children:""})]})}),b.jsxs(tA,{side:"right",className:"w-[280px] sm:w-[320px] px-4",children:[b.jsx(nA,{className:"mb-4",children:b.jsx(rA,{className:"text-left",children:""})}),b.jsxs("div",{className:"space-y-6",children:[b.jsx(yK,{}),b.jsx(lt,{variant:"outline",onClick:()=>t(),className:"w-full",children:""})]})]})]})]})}):null}function wK(){const{user:e}=Uo(),{posts:t,isLoadingPosts:n,createPost:r,isCreatingPost:o}=Xl();return e?b.jsxs("div",{className:"min-h-screen bg-background",children:[b.jsx(vK,{}),b.jsx("div",{className:"container mx-auto px-4 py-8",children:b.jsxs("main",{className:"max-w-2xl mx-auto space-y-6",children:[b.jsx(eH,{onSubmit:r,isSubmitting:o}),n?b.jsx("div",{className:"flex justify-center p-8",children:b.jsx(ms,{className:"h-8 w-8 animate-spin"})}):b.jsx("div",{className:"space-y-4",children:t.map(s=>b.jsx(JR,{post:s},`${s.nostrEventId}-${s.userId}`))})]})})]}):null}function bK(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var dI=bK,xK=typeof iu=="object"&&iu&&iu.Object===Object&&iu,EK=xK,SK=EK,_K=typeof self=="object"&&self&&self.Object===Object&&self,CK=SK||_K||Function("return this")(),fI=CK,NK=fI,TK=function(){return NK.Date.now()},kK=TK,PK=/\s/;function RK(e){for(var t=e.length;t--&&PK.test(e.charAt(t)););return t}var AK=RK,OK=AK,IK=/^\s+/;function MK(e){return e&&e.slice(0,OK(e)+1).replace(IK,"")}var $K=MK,DK=fI,jK=DK.Symbol,hI=jK,Nb=hI,pI=Object.prototype,LK=pI.hasOwnProperty,FK=pI.toString,_a=Nb?Nb.toStringTag:void 0;function BK(e){var t=LK.call(e,_a),n=e[_a];try{e[_a]=void 0;var r=!0}catch{}var o=FK.call(e);return r&&(t?e[_a]=n:delete e[_a]),o}var UK=BK,zK=Object.prototype,VK=zK.toString;function WK(e){return VK.call(e)}var HK=WK,Tb=hI,qK=UK,KK=HK,ZK="[object Null]",GK="[object Undefined]",kb=Tb?Tb.toStringTag:void 0;function QK(e){return e==null?e===void 0?GK:ZK:kb&&kb in Object(e)?qK(e):KK(e)}var YK=QK;function XK(e){return e!=null&&typeof e=="object"}var JK=XK,eZ=YK,tZ=JK,nZ="[object Symbol]";function rZ(e){return typeof e=="symbol"||tZ(e)&&eZ(e)==nZ}var oZ=rZ,sZ=$K,Pb=dI,iZ=oZ,Rb=NaN,aZ=/^[-+]0x[0-9a-f]+$/i,lZ=/^0b[01]+$/i,uZ=/^0o[0-7]+$/i,cZ=parseInt;function dZ(e){if(typeof e=="number")return e;if(iZ(e))return Rb;if(Pb(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Pb(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=sZ(e);var n=lZ.test(e);return n||uZ.test(e)?cZ(e.slice(2),n?2:8):aZ.test(e)?Rb:+e}var fZ=dZ,hZ=dI,Vh=kK,Ab=fZ,pZ="Expected a function",mZ=Math.max,gZ=Math.min;function yZ(e,t,n){var r,o,s,i,a,l,u=0,c=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(pZ);t=Ab(t)||0,hZ(n)&&(c=!!n.leading,d="maxWait"in n,s=d?mZ(Ab(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h);function m(S){var C=r,N=o;return r=o=void 0,u=S,i=e.apply(N,C),i}function y(S){return u=S,a=setTimeout(p,t),c?m(S):i}function f(S){var C=S-l,N=S-u,B=t-C;return d?gZ(B,s-N):B}function w(S){var C=S-l,N=S-u;return l===void 0||C>=t||C<0||d&&N>=s}function p(){var S=Vh();if(w(S))return v(S);a=setTimeout(p,f(S))}function v(S){return a=void 0,h&&r?m(S):(r=o=void 0,i)}function x(){a!==void 0&&clearTimeout(a),u=0,r=l=o=a=void 0}function E(){return a===void 0?i:v(Vh())}function _(){var S=Vh(),C=w(S);if(r=arguments,o=this,l=S,C){if(a===void 0)return y(l);if(d)return clearTimeout(a),a=setTimeout(p,t),m(l)}return a===void 0&&(a=setTimeout(p,t)),i}return _.cancel=x,_.flush=E,_}var vZ=yZ;const wZ=Om(vZ);function bZ(){var M;const{pubkey:e}=Z_();console.log("[ProfilePage] Rendered with params:",{pubkey:e,currentPath:window.location.pathname,currentUrl:window.location.href});const{getUserMetadata:t,loadPostMetadata:n,fetchUserPosts:r,isFollowing:o,toggleFollow:s,isTogglingFollow:i}=Xl(),{user:a}=Uo(),[l,u]=g.useState([]),[c,d]=g.useState(!0),[h,m]=g.useState(""),[y,f]=g.useState(!1),w=g.useRef(),[p,v]=g.useState(!0),x=g.useRef(),{ref:E,inView:_}=Ok({threshold:0}),S=g.useCallback(wZ(async D=>{if(e){f(!0);try{const j=await r({pubkey:e,search:D,limit:30});u(j),v(j.length===30),w.current=Math.floor(Date.now()/1e3)}catch(j){console.error("Search failed:",j)}finally{f(!1)}}},500),[e,r]);g.useEffect(()=>{if(!e)return;(async()=>{d(!0);try{const j=await r({pubkey:e,limit:30});if(console.info(`[Profile] Loaded ${j.length} initial posts for user ${e}`),u(j),v(j.length===30),j.length>0){const V=j[j.length-1];w.current=Math.floor(new Date(V.createdAt).getTime()/1e3),console.info(`[Profile] Set last timestamp to ${new Date(V.createdAt).toISOString()}`)}}catch(j){console.error("[Profile] Failed to load initial posts:",j)}finally{d(!1)}})()},[e,r]),g.useEffect(()=>{e&&n(e)},[e,n]),g.useEffect(()=>{_&&!c&&p&&!h&&w.current&&(async()=>{d(!0);try{console.info(`[Profile] Loading more posts before timestamp ${new Date(w.current*1e3).toISOString()}`);const j=await r({pubkey:e,until:w.current,limit:30});if(j.length>0){console.info(`[Profile] Loaded ${j.length} more posts`),u(A=>[...A,...j]);const V=j[j.length-1];w.current=Math.floor(new Date(V.createdAt).getTime()/1e3),console.info(`[Profile] Updated last timestamp to ${new Date(V.createdAt).toISOString()}`)}else console.info("[Profile] No more posts available");v(j.length===30)}catch(j){console.error("[Profile] Failed to load more posts:",j)}finally{d(!1)}})()},[_,c,p,e,r,h]);const C=D=>{m(D),x.current&&clearTimeout(x.current),D?S(D):(async()=>{d(!0);try{const V=await r({pubkey:e,limit:30});if(u(V),v(V.length===30),V.length>0){const A=V[V.length-1];w.current=Math.floor(new Date(A.createdAt).getTime()/1e3)}}catch(V){console.error("Failed to reset posts:",V)}finally{d(!1)}})()},N=t(e),B=e==null?void 0:e.slice(0,8);return e?b.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[b.jsxs(Yn,{children:[b.jsxs(ko,{className:"flex flex-row items-center gap-4",children:[b.jsx(ef,{className:"h-20 w-20",children:N!=null&&N.picture?b.jsx(tf,{src:N.picture,alt:(N==null?void 0:N.name)||B,onError:D=>{D.target.src=""}}):b.jsx(nf,{className:"text-lg",children:(((M=N==null?void 0:N.name)==null?void 0:M[0])||(B==null?void 0:B.slice(0,2))).toUpperCase()})}),b.jsxs("div",{className:"flex-grow",children:[b.jsx("h1",{className:"text-2xl font-bold",children:(N==null?void 0:N.name)||`nostr:${B}`}),b.jsx("p",{className:"text-sm text-muted-foreground break-all",children:e}),(N==null?void 0:N.about)&&b.jsx("p",{className:"mt-2 whitespace-pre-wrap",children:N.about})]}),(a==null?void 0:a.publicKey)!==e&&b.jsx(lt,{variant:"outline",onClick:()=>s(e),disabled:i,children:o(e)?"":""})]}),b.jsx(Xn,{className:"space-y-4",children:N&&Object.entries(N).filter(([D])=>!["name","picture","about"].includes(D)).map(([D,j])=>b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-sm font-medium",children:D}),b.jsx("span",{className:"text-sm text-muted-foreground break-all",children:typeof j=="string"?j:JSON.stringify(j)})]},D))})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h2",{className:"text-xl font-semibold",children:""}),b.jsxs("div",{className:"relative max-w-sm",children:[b.jsx(nj,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),b.jsx(yl,{type:"search",placeholder:"...",className:"pl-8",value:h,onChange:D=>C(D.target.value)})]})]}),(c||y)&&l.length===0?b.jsx("div",{className:"space-y-4",children:[...Array(3)].map((D,j)=>b.jsx(Kc,{className:"h-32"},j))}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"space-y-4",children:l.map(D=>b.jsx(JR,{post:D},D.nostrEventId))}),p&&!h&&b.jsx("div",{ref:E,className:"py-4",children:c&&b.jsx("div",{className:"space-y-4",children:[...Array(2)].map((D,j)=>b.jsx(Kc,{className:"h-32"},j))})}),!p&&l.length>0&&b.jsx("p",{className:"text-center text-muted-foreground py-4",children:""}),l.length===0&&!c&&!y&&b.jsx("p",{className:"text-center text-muted-foreground py-4",children:""})]})]})]}):(console.log("[ProfilePage] No pubkey provided, returning null"),null)}function Ob({path:e,component:t}){const{user:n,isLoading:r}=Uo();return b.jsx(Dp,{path:e,children:()=>r?b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsx(ms,{className:"h-8 w-8 animate-spin text-border"})}):n?b.jsx(t,{}):b.jsx(J_,{to:"/auth"})})}const mI="/repliNostr/";console.log("[App] Initializing with base:",mI);function xZ(){return b.jsx(V3,{client:cC,children:b.jsxs(bB,{children:[b.jsx(Y_,{base:mI,children:b.jsxs(v3,{children:[b.jsx(Dp,{path:"/auth",component:NB}),b.jsx(Ob,{path:"/",component:wK}),b.jsx(Ob,{path:"/profile/:pubkey",component:bZ}),b.jsx(Dp,{component:EB})]})}),b.jsx(zj,{})]})})}const Ki="/repliNostr/";console.log("[Debug] Environment Variables:",{BASE_URL:Ki,MODE:"production",DEV:!1,PROD:!0});"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const e=`${Ki}service-worker.js`;console.log("[SW] Registering service worker at:",e);const t=await navigator.serviceWorker.register(e,{scope:Ki});console.log("[SW] Registration successful:",t),t.active&&console.log("[SW] Service worker is active")}catch(e){console.error("[SW] Registration failed:",e)}});window.__ENV||(window.__ENV={BASE_URL:Ki,ASSET_URL:`${Ki}assets/`});console.log("[Debug] Final Environment:",{baseUrl:Ki,env:window.__ENV,currentUrl:window.location.href,origin:window.location.origin,pathname:window.location.pathname});L_(document.getElementById("root")).render(b.jsx(xZ,{}));
